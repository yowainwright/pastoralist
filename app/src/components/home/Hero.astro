---
import { CopyButton } from "../common/CopyButton";
import { resolveDocsUrl } from "../../utils/urlResolver";
import TerminalDemo from "./TerminalDemo.astro";
const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : import.meta.env.BASE_URL + '/';
---

<div class="relative flex items-center justify-center px-3 md:px-10 xl:px-28 py-12 md:py-16 overflow-hidden">
  <div
    class="absolute inset-0 -z-10 transform-gpu overflow-hidden blur-3xl"
    aria-hidden="true"
  >
    <div
      class="hero-blob relative left-[calc(50%-11rem)] aspect-[1155/678] w-[40rem] -translate-x-1/2 rotate-[70deg] sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"
      style={{
        clipPath:
          "polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 150%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)",
      }}
    >
    </div>

    <div
      class="hero-blob relative left-[calc(50%-11rem)] aspect-[1155/678] w-[40rem] -translate-x-1/2 rotate-[70deg] sm:left-[calc(100%)] sm:w-[72.1875rem]"
      style={{
        clipPath:
          "polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 150%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)",
      }}
    >
    </div>
  </div>
  <div class="max-w-2xl md:max-w-6xl w-full">
    <!-- Centered logo -->
    <div class="text-center mb-8">
      <img src={`${base}pastoralist-logo.svg`} alt="Pastoralist Logo" class="h-20 w-20 md:h-28 md:w-28 mx-auto" />
    </div>

    <!-- 2-column layout on large screens -->
    <div class="flex flex-col-reverse lg:flex-row lg:items-center lg:gap-12 xl:gap-16">
      <!-- Terminal on left (appears below on small screens) -->
      <div class="flex-1 mt-8 lg:mt-0">
        <TerminalDemo />
      </div>

      <!-- Hero text on right (appears above on small screens) -->
      <div class="flex-1 text-center lg:text-left">
        <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-4xl xl:text-5xl font-black leading-tight mb-8">
          Track security issues & <span class="font-bold gradient-text">manage overrides</span> automatically
        </h1>

        <div class="flex flex-col sm:flex-row justify-center lg:justify-start items-center sm:items-stretch gap-4 sm:gap-5">
          <a href={resolveDocsUrl("introduction")}>
            <button
              class="btn btn-lg btn-primary"
              >Get Started
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
              </svg>
              </button
            >
          </a>

          <div
            class="flex lg:hidden items-center bg-base-100 rounded-lg shadow-sm justify-between h-12 px-4 border border-base-content/10"
          >
            <svg
              width="22"
              height="13"
              viewBox="0 0 22 13"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="relative mr-2 block w-3 -rotate-90"
            >
              <path d="M1 1L11 11L21 1" stroke="currentColor" stroke-Width="2"
              ></path>
            </svg>
            <code class="flex-1 text-left leading-none text-base">
              bun add -g pastoralist
            </code>
            <CopyButton client:only="react" />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
