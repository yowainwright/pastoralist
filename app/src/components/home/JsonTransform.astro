---
import { resolveDocsUrl } from "../../utils/urlResolver";
---

<div class="py-16 lg:py-24">
  <div class="max-w-2xl md:max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-black">
        See the <span class="gradient-text">Transformation</span>
      </h2>
      <p class="mt-4 text-lg text-base-content/80 max-w-2xl mx-auto">
        Pastoralist reads your overrides and creates a detailed appendix documenting
        why each one exists, who depends on it, and any security context.
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6 lg:gap-8">
      <!-- Before -->
      <div class="flex flex-col">
        <div class="flex items-center gap-2 mb-3">
          <span class="badge badge-outline badge-lg">Before</span>
          <span class="text-base-content/60 text-sm">Undocumented overrides</span>
        </div>
        <div class="mockup-code bg-base-300 flex-1 text-sm">
          <pre data-prefix=" "><code><span class="text-base-content/50">{"{"}</span></code></pre>
          <pre data-prefix=" "><code>  <span class="text-primary">"name"</span>: <span class="text-success">"my-app"</span>,</code></pre>
          <pre data-prefix=" "><code>  <span class="text-primary">"overrides"</span>: {"{"}</code></pre>
          <pre data-prefix=" "><code>    <span class="text-primary">"lodash"</span>: <span class="text-success">"4.17.21"</span>,</code></pre>
          <pre data-prefix=" "><code>    <span class="text-primary">"minimist"</span>: <span class="text-success">"1.2.8"</span></code></pre>
          <pre data-prefix=" "><code>  {"}"}</code></pre>
          <pre data-prefix=" "><code><span class="text-base-content/50">{"}"}</span></code></pre>
          <pre data-prefix=" "><code></code></pre>
          <pre data-prefix=" "><code class="text-base-content/40 italic">// Why are these here?</code></pre>
          <pre data-prefix=" "><code class="text-base-content/40 italic">// Who depends on them?</code></pre>
          <pre data-prefix=" "><code class="text-base-content/40 italic">// Are they still needed?</code></pre>
        </div>
      </div>

      <!-- After -->
      <div class="flex flex-col">
        <div class="flex items-center gap-2 mb-3">
          <span class="badge badge-primary badge-lg">After</span>
          <span class="text-base-content/60 text-sm">Full documentation</span>
        </div>
        <div class="mockup-code bg-base-300 flex-1 text-sm overflow-x-auto">
          <pre data-prefix=" "><code><span class="text-base-content/50">{"{"}</span></code></pre>
          <pre data-prefix=" "><code>  <span class="text-primary">"name"</span>: <span class="text-success">"my-app"</span>,</code></pre>
          <pre data-prefix=" "><code>  <span class="text-primary">"overrides"</span>: {"{"} <span class="text-base-content/40">/* ... */</span> {"}"},</code></pre>
          <pre data-prefix="+"><code class="json-added">  <span class="text-primary">"pastoralist"</span>: {"{"}</code></pre>
          <pre data-prefix="+"><code class="json-added">    <span class="text-primary">"appendix"</span>: {"{"}</code></pre>
          <pre data-prefix="+"><code class="json-added">      <span class="text-primary">"lodash@4.17.21"</span>: {"{"}</code></pre>
          <pre data-prefix="+"><code class="json-added">        <span class="text-primary">"dependents"</span>: {"{"}</code></pre>
          <pre data-prefix="+"><code class="json-added">          <span class="text-primary">"express"</span>: <span class="text-success">"^4.18.0"</span></code></pre>
          <pre data-prefix="+"><code class="json-added">        {"}"},</code></pre>
          <pre data-prefix="+"><code class="json-added">        <span class="text-primary">"ledger"</span>: {"{"}</code></pre>
          <pre data-prefix="+"><code class="json-added">          <span class="text-primary">"reason"</span>: <span class="text-success">"security"</span>,</code></pre>
          <pre data-prefix="+"><code class="json-added">          <span class="text-primary">"cve"</span>: <span class="text-success">"CVE-2020-8203"</span></code></pre>
          <pre data-prefix="+"><code class="json-added">        {"}"}</code></pre>
          <pre data-prefix="+"><code class="json-added">      {"}"}</code></pre>
          <pre data-prefix="+"><code class="json-added">    {"}"}</code></pre>
          <pre data-prefix="+"><code class="json-added">  {"}"}</code></pre>
          <pre data-prefix=" "><code><span class="text-base-content/50">{"}"}</span></code></pre>
        </div>
      </div>
    </div>

    <div class="text-center mt-10">
      <a href={resolveDocsUrl('configuration')} class="btn btn-outline btn-lg">
        View Configuration Options
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
      </a>
    </div>
  </div>
</div>
