import{a as e}from"./router-_wlnQ2Xi.js";const T=({stepNumber:s,title:n,description:a,visible:t,showEmoji:i,verticalCenter:l})=>{if(!t)return null;const r=l?"top-1/2 -translate-y-1/2":"top-12";return e.jsx("div",{className:`absolute z-10 w-64 right-4 ${r} animate-pop-in`,children:e.jsxs("div",{className:"bg-base-100/95 backdrop-blur-sm border-2 border-blue-600 rounded-lg shadow-xl shadow-blue-500/15 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-b from-blue-400 to-blue-500 border-2 border-blue-600 text-white text-sm font-bold shadow-md shadow-blue-500/25",children:s}),e.jsx("span",{className:"font-bold text-base-content",children:n})]}),e.jsxs("div",{className:"text-sm text-base-content/70 ml-8",children:[a,i&&e.jsx("span",{className:"inline-block ml-1 animate-bounce-once",children:"âš¡"})]})]})})},d=({isActive:s=!1,minHeight:n,children:a})=>{const t=s?"ring-2 ring-primary ring-offset-2":"",i=n?{minHeight:n}:void 0;return e.jsx("div",{className:`terminal-window transition-all duration-300 ${t}`,style:i,children:a})},o=({fileName:s})=>{const n=s??"terminal";return e.jsxs("div",{className:"terminal-header",children:[e.jsx("div",{className:"terminal-dot terminal-dot-red"}),e.jsx("div",{className:"terminal-dot terminal-dot-yellow"}),e.jsx("div",{className:"terminal-dot terminal-dot-green"}),e.jsx("span",{className:"ml-3 text-slate-400 text-xs",children:n})]})},f=({isActive:s})=>e.jsxs(d,{isActive:s,children:[e.jsx(o,{fileName:"package.json"}),e.jsxs("div",{className:"terminal-content text-sm",style:{height:"auto"},children:[e.jsx("div",{className:"terminal-line text-base-content/50",children:"{"}),e.jsxs("div",{className:"terminal-line",children:["  ",e.jsx("span",{className:"text-primary",children:'"overrides"'}),": ","{"]}),e.jsxs("div",{className:"terminal-line",children:["    ",e.jsx("span",{className:"text-primary",children:'"lodash"'}),":"," ",e.jsx("span",{className:"text-success",children:'"4.17.21"'})]}),e.jsx("div",{className:"terminal-line",children:"  }"}),e.jsx("div",{className:"terminal-line text-base-content/50",children:"}"})]})]}),w=({isActive:s,typedCommand:n,phase:a,showSpinner:t,showSuccess:i})=>{const l=a==="step2";return e.jsxs(d,{isActive:s,children:[e.jsx(o,{}),e.jsxs("div",{className:"terminal-content text-sm",style:{height:"auto",padding:"0.75rem 1rem"},children:[e.jsxs("div",{className:"terminal-line",children:[e.jsx("span",{className:"terminal-prefix",children:"$"}),e.jsx("span",{children:n}),l&&e.jsx("span",{className:"cursor"})]}),t&&e.jsxs("div",{className:"terminal-line text-cyan-400",children:[e.jsx("span",{className:"inline-block animate-spin mr-2",children:"â ‹"}),"checking herd..."]}),i&&e.jsx("div",{className:"terminal-line text-success",children:"ðŸ‘©ðŸ½â€ðŸŒ¾ the herd is safe!"})]})]})},P=[{title:"The Problem",description:"Overrides exist but nobody knows why. Which packages depend on it?"},{title:"Run Pastoralist",description:"Pastoralist scans your dependencies and documents your overrides."},{title:"Automatic Documentation",description:"Now you know why each override exists, what depends on it, and any associated CVEs."}],H=["Undocumented overrides","Execute pastoralist","Pastoralist manages the rest"],c=['  "pastoralist": {','    "appendix": {','      "lodash@4.17.21": {','        "dependents": {','          "express": "^4.18.0"',"        },",'        "ledger": {','          "reason": "security",','          "cve": "CVE-2020-8203"',"        }","      }","    }","  }"],_="pastoralist",p=/"([^"]+)":/g,N=/: "([^"]+)"/g,j=['"pastoralist"','"appendix"','"lodash@','"dependents"','"express"','"ledger"','"reason"','"cve"'],u=s=>j.some(n=>s.includes(n)),v=s=>s.replace(p,'<span class="text-primary">"$1"</span>:').replace(N,': <span class="text-success">"$1"</span>'),m=({line:s,isAdded:n=!1,className:a})=>{const t=n?"terminal-line json-added":"terminal-line",i=a?`${t} ${a}`:t;if(!u(s))return e.jsx("div",{className:i,children:s});const r=v(s);return e.jsx("div",{className:i,dangerouslySetInnerHTML:{__html:r}})},x=5,h=24,g=44,b=32,y=g+b+(x+c.length)*h,A=({isActive:s,appendixLines:n})=>{const a=c.slice(0,n),t=c.slice(n),i=n>0;return e.jsxs(d,{isActive:s,minHeight:`${y}px`,children:[e.jsx(o,{fileName:"package.json"}),e.jsxs("div",{className:"terminal-content text-sm",style:{minHeight:`${(x+c.length)*h}px`},children:[e.jsx("div",{className:"terminal-line text-base-content/50",children:"{"}),e.jsxs("div",{className:"terminal-line",children:["  ",e.jsx("span",{className:"text-primary",children:'"overrides"'}),": ","{"]}),e.jsxs("div",{className:"terminal-line",children:["    ",e.jsx("span",{className:"text-primary",children:'"lodash"'}),":"," ",e.jsx("span",{className:"text-success",children:'"4.17.21"'})]}),e.jsxs("div",{className:"terminal-line",children:["  }",i&&","]}),a.map((l,r)=>e.jsx(m,{line:l,isAdded:!0},r)),t.map((l,r)=>e.jsx(m,{line:l,isAdded:!0,className:"invisible"},`hidden-${r}`)),e.jsx("div",{className:"terminal-line text-base-content/50",children:"}"})]})]})};export{c as A,f as B,_ as C,T as P,H as S,P as a,w as b,A as c};
