import{r as n,a as e,b as v}from"./router-BnJ4MO68.js";import{F as j}from"./fuse-Dw8P0qyA.js";import{r as x}from"./urlResolver-BRpwx9DO.js";import{S as m}from"./Footer-D-0RK_b-.js";import"./react-vendor-Cgg2GOmP.js";import"./mermaid-CEea_onn.js";import"./index-DlmZFi7c.js";import"./index-BPR5x-me.js";function L({searchData:p,iconOnly:f=!1}){const[l,a]=n.useState(!1),[r,c]=n.useState(""),[o,h]=n.useState([]),[b]=n.useState(0),i=n.useRef(null),d=n.useRef(null),g=new j(p,{keys:["title","description","content"],threshold:.3,includeScore:!0});n.useEffect(()=>{if(r.length>0){const s=g.search(r);h(s.slice(0,5).map(t=>t.item))}else h([])},[r]),n.useEffect(()=>{const s=t=>{(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),a(!0),setTimeout(()=>d.current?.focus(),100)),t.key==="Escape"&&(a(!1),c(""))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]),n.useEffect(()=>{const s=t=>{i.current&&!i.current.contains(t.target)&&a(!1)};if(l)return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[l]);const u=()=>{a(!0),setTimeout(()=>d.current?.focus(),100)};return e.jsxs(e.Fragment,{children:[f?e.jsxs("button",{onClick:u,className:"btn btn-sm btn-ghost gap-1","aria-label":"Search (⌘K)",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsxs("kbd",{className:"hidden lg:inline-flex items-center gap-0.5 px-1.5 py-0.5 text-xs font-medium bg-base-200 text-base-content/60 rounded",children:[e.jsx("span",{children:"⌘"}),"K"]})]}):e.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-base-200/50 hover:bg-base-200 rounded-lg transition-colors min-w-[200px] md:min-w-[300px] text-base-content/60 hover:text-base-content/80",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("span",{className:"flex-1 text-left",children:"Search documentation..."}),e.jsxs("kbd",{className:"hidden md:inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium bg-base-300/50 rounded",children:[e.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]}),l&&v.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 z-[101] overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-start justify-center pt-[10vh] p-4",children:e.jsxs("div",{ref:i,className:"relative w-full max-w-2xl bg-base-100 rounded-xl shadow-2xl overflow-hidden border border-base-content/10",children:[e.jsxs("div",{className:"flex items-center p-4 border-b border-base-content/10",children:[e.jsx(m,{className:"h-5 w-5 mr-3 text-[#1D4ED8]"}),e.jsx("input",{ref:d,type:"text",value:r,onChange:s=>c(s.target.value),placeholder:"Search documentation...",className:"flex-1 bg-transparent outline-none text-lg placeholder-base-content/50 "}),e.jsx("kbd",{className:"px-2 py-1 text-xs font-medium bg-base-200 text-base-content/60 rounded",children:"ESC"})]}),e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto",children:[r.length>0&&o.length===0&&e.jsxs("div",{className:"p-8 text-center text-base-content/50",children:[e.jsx("div",{className:"text-lg font-medium mb-2",children:"No results found"}),e.jsx("div",{className:"text-sm",children:"Try searching for something else"})]}),o.length>0&&e.jsx("div",{className:"p-2",children:o.map((s,t)=>e.jsx("a",{href:x(s.slug),className:`block px-4 py-3 rounded-lg hover:bg-base-200/50 transition-all ${b===t?"bg-base-200/50":""}`,onClick:()=>{a(!1),c("")},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center bg-[#1D4ED8]/10",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-[#1D4ED8]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-base-content truncate",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-base-content/60 mt-0.5 line-clamp-2",children:s.description})]})]})},s.slug))}),r.length===0&&e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("div",{className:"text-base-content/60 text-sm",children:"Start typing to search"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-base-content/40 uppercase tracking-wider px-4",children:"Recent"}),e.jsx("a",{href:x("introduction"),className:"block px-4 py-2 rounded-lg hover:bg-base-200/50 transition-all text-sm",onClick:()=>a(!1),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-base-content/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-base-content/70",children:"Introduction to Pastoralist"})]})}),e.jsx("a",{href:x("setup"),className:"block px-4 py-2 rounded-lg hover:bg-base-200/50 transition-all text-sm",onClick:()=>a(!1),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-base-content/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-base-content/70",children:"Setup Guide"})]})})]})]})]})]})})})]}),document.body)]})}export{L as default};
