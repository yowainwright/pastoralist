import{g as Qe,r as pe,a as Mo}from"./react-vendor-Cgg2GOmP.js";function ko(t,o){for(var e=0;e<o.length;e++){const s=o[e];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const r=Object.getOwnPropertyDescriptor(s,n);r&&Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Jt={exports:{}},ft={};var Te;function Eo(){if(Te)return ft;Te=1;var t=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function e(s,n,r){var c=null;if(r!==void 0&&(c=""+r),n.key!==void 0&&(c=""+n.key),"key"in n){r={};for(var i in n)i!=="key"&&(r[i]=n[i])}else r=n;return n=r.ref,{$$typeof:t,type:s,key:c,ref:n!==void 0?n:null,props:r}}return ft.Fragment=o,ft.jsx=e,ft.jsxs=e,ft}var Ie;function To(){return Ie||(Ie=1,Jt.exports=Eo()),Jt.exports}var x=To();const Io=Qe(x),Ln=ko({__proto__:null,default:Io},[x]);var b=pe();const Rt=Qe(b),ue=new WeakMap,Oo=new WeakMap,It={current:[]};let Yt=!1,Pt=0;const vt=new Set,bt=new Map;function to(t){for(const o of t){if(It.current.includes(o))continue;It.current.push(o),o.recompute();const e=Oo.get(o);if(e)for(const s of e){const n=ue.get(s);n?.length&&to(n)}}}function Fo(t){const o={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(o)}function Bo(t){const o={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(o)}function eo(t){if(Pt>0&&!bt.has(t)&&bt.set(t,t.prevState),vt.add(t),!(Pt>0)&&!Yt)try{for(Yt=!0;vt.size>0;){const o=Array.from(vt);vt.clear();for(const e of o){const s=bt.get(e)??e.prevState;e.prevState=s,Fo(e)}for(const e of o){const s=ue.get(e);s&&(It.current.push(e),to(s))}for(const e of o){const s=ue.get(e);if(s)for(const n of s)Bo(n)}}}finally{Yt=!1,It.current=[],bt.clear()}}function _t(t){Pt++;try{t()}finally{if(Pt--,Pt===0){const o=vt.values().next().value;o&&eo(o)}}}function Ao(t){return typeof t=="function"}class jo{constructor(o,e){this.listeners=new Set,this.subscribe=s=>{var n,r;this.listeners.add(s);const c=(r=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:r.call(n,s,this);return()=>{this.listeners.delete(s),c?.()}},this.prevState=o,this.state=o,this.options=e}setState(o){var e,s,n;this.prevState=this.state,(e=this.options)!=null&&e.updateFn?this.state=this.options.updateFn(this.prevState)(o):Ao(o)?this.state=o(this.prevState):this.state=o,(n=(s=this.options)==null?void 0:s.onUpdate)==null||n.call(s),eo(this)}}const Y="__TSR_index",Oe="popstate",Fe="beforeunload";function Do(t){let o=t.getLocation();const e=new Set,s=c=>{o=t.getLocation(),e.forEach(i=>i({location:o,action:c}))},n=c=>{t.notifyOnIndexChange??!0?s(c):o=t.getLocation()},r=async({task:c,navigateOpts:i,...a})=>{if(i?.ignoreBlocker??!1){c();return}const f=t.getBlockers?.()??[],h=a.type==="PUSH"||a.type==="REPLACE";if(typeof document<"u"&&f.length&&h)for(const l of f){const d=Ot(a.path,a.state);if(await l.blockerFn({currentLocation:o,nextLocation:d,action:a.type})){t.onBlocked?.();return}}c()};return{get location(){return o},get length(){return t.getLength()},subscribers:e,subscribe:c=>(e.add(c),()=>{e.delete(c)}),push:(c,i,a)=>{const u=o.state[Y];i=Be(u+1,i),r({task:()=>{t.pushState(c,i),s({type:"PUSH"})},navigateOpts:a,type:"PUSH",path:c,state:i})},replace:(c,i,a)=>{const u=o.state[Y];i=Be(u,i),r({task:()=>{t.replaceState(c,i),s({type:"REPLACE"})},navigateOpts:a,type:"REPLACE",path:c,state:i})},go:(c,i)=>{r({task:()=>{t.go(c),n({type:"GO",index:c})},navigateOpts:i,type:"GO"})},back:c=>{r({task:()=>{t.back(c?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:c,type:"BACK"})},forward:c=>{r({task:()=>{t.forward(c?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:c,type:"FORWARD"})},canGoBack:()=>o.state[Y]!==0,createHref:c=>t.createHref(c),block:c=>{if(!t.setBlockers)return()=>{};const i=t.getBlockers?.()??[];return t.setBlockers([...i,c]),()=>{const a=t.getBlockers?.()??[];t.setBlockers?.(a.filter(u=>u!==c))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function Be(t,o){o||(o={});const e=me();return{...o,key:e,__TSR_key:e,[Y]:t}}function No(t){const o=typeof document<"u"?window:void 0,e=o.history.pushState,s=o.history.replaceState;let n=[];const r=()=>n,c=y=>n=y,i=(y=>y),a=(()=>Ot(`${o.location.pathname}${o.location.search}${o.location.hash}`,o.history.state));if(!o.history.state?.__TSR_key&&!o.history.state?.key){const y=me();o.history.replaceState({[Y]:0,key:y,__TSR_key:y},"")}let u=a(),f,h=!1,l=!1,d=!1,p=!1;const m=()=>u;let g,P;const S=()=>{g&&(L._ignoreSubscribers=!0,(g.isPush?o.history.pushState:o.history.replaceState)(g.state,"",g.href),L._ignoreSubscribers=!1,g=void 0,P=void 0,f=void 0)},R=(y,_,M)=>{const k=i(_);P||(f=u),u=Ot(_,M),g={href:k,state:M,isPush:g?.isPush||y==="push"},P||(P=Promise.resolve().then(()=>S()))},v=y=>{u=a(),L.notify({type:y})},C=async()=>{if(l){l=!1;return}const y=a(),_=y.state[Y]-u.state[Y],M=_===1,k=_===-1,E=!M&&!k||h;h=!1;const F=E?"GO":k?"BACK":"FORWARD",I=E?{type:"GO",index:_}:{type:k?"BACK":"FORWARD"};if(d)d=!1;else{const A=r();if(typeof document<"u"&&A.length){for(const V of A)if(await V.blockerFn({currentLocation:u,nextLocation:y,action:F})){l=!0,o.history.go(1),L.notify(I);return}}}u=a(),L.notify(I)},w=y=>{if(p){p=!1;return}let _=!1;const M=r();if(typeof document<"u"&&M.length)for(const k of M){const E=k.enableBeforeUnload??!0;if(E===!0){_=!0;break}if(typeof E=="function"&&E()===!0){_=!0;break}}if(_)return y.preventDefault(),y.returnValue=""},L=Do({getLocation:m,getLength:()=>o.history.length,pushState:(y,_)=>R("push",y,_),replaceState:(y,_)=>R("replace",y,_),back:y=>(y&&(d=!0),p=!0,o.history.back()),forward:y=>{y&&(d=!0),p=!0,o.history.forward()},go:y=>{h=!0,o.history.go(y)},createHref:y=>i(y),flush:S,destroy:()=>{o.history.pushState=e,o.history.replaceState=s,o.removeEventListener(Fe,w,{capture:!0}),o.removeEventListener(Oe,C)},onBlocked:()=>{f&&u!==f&&(u=f)},getBlockers:r,setBlockers:c,notifyOnIndexChange:!1});return o.addEventListener(Fe,w,{capture:!0}),o.addEventListener(Oe,C),o.history.pushState=function(...y){const _=e.apply(o.history,y);return L._ignoreSubscribers||v("PUSH"),_},o.history.replaceState=function(...y){const _=s.apply(o.history,y);return L._ignoreSubscribers||v("REPLACE"),_},L}function $o(t){let o=t.replace(/[\x00-\x1f\x7f]/g,"");return o.startsWith("//")&&(o="/"+o.replace(/^\/+/,"")),o}function Ot(t,o){const e=$o(t),s=e.indexOf("#"),n=e.indexOf("?"),r=me();return{href:e,pathname:e.substring(0,s>0?n>0?Math.min(s,n):s:n>0?n:e.length),hash:s>-1?e.substring(s):"",search:n>-1?e.slice(n,s===-1?void 0:s):"",state:o||{[Y]:0,key:r,__TSR_key:r}}}function me(){return(Math.random()+1).toString(36).substring(7)}function Ft(t){return t[t.length-1]}function Uo(t){return typeof t=="function"}function q(t,o){return Uo(t)?t(o):t}const Wo=Object.prototype.hasOwnProperty;function $(t,o,e=0){if(t===o)return t;if(e>500)return o;const s=o,n=De(t)&&De(s);if(!n&&!(Bt(t)&&Bt(s)))return s;const r=n?t:Ae(t);if(!r)return s;const c=n?s:Ae(s);if(!c)return s;const i=r.length,a=c.length,u=n?new Array(a):{};let f=0;for(let h=0;h<a;h++){const l=n?h:c[h],d=t[l],p=s[l];if(d===p){u[l]=d,(n?h<i:Wo.call(t,l))&&f++;continue}if(d===null||p===null||typeof d!="object"||typeof p!="object"){u[l]=p;continue}const m=$(d,p,e+1);u[l]=m,m===d&&f++}return i===a&&f===i?t:u}function Ae(t){const o=[],e=Object.getOwnPropertyNames(t);for(const n of e){if(!Object.prototype.propertyIsEnumerable.call(t,n))return!1;o.push(n)}const s=Object.getOwnPropertySymbols(t);for(const n of s){if(!Object.prototype.propertyIsEnumerable.call(t,n))return!1;o.push(n)}return o}function Bt(t){if(!je(t))return!1;const o=t.constructor;if(typeof o>"u")return!0;const e=o.prototype;return!(!je(e)||!e.hasOwnProperty("isPrototypeOf"))}function je(t){return Object.prototype.toString.call(t)==="[object Object]"}function De(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tt(t,o,e){if(t===o)return!0;if(typeof t!=typeof o)return!1;if(Array.isArray(t)&&Array.isArray(o)){if(t.length!==o.length)return!1;for(let s=0,n=t.length;s<n;s++)if(!tt(t[s],o[s],e))return!1;return!0}if(Bt(t)&&Bt(o)){const s=e?.ignoreUndefined??!0;if(e?.partial){for(const c in o)if((!s||o[c]!==void 0)&&!tt(t[c],o[c],e))return!1;return!0}let n=0;if(!s)n=Object.keys(t).length;else for(const c in t)t[c]!==void 0&&n++;let r=0;for(const c in o)if((!s||o[c]!==void 0)&&(r++,r>n||!tt(t[c],o[c],e)))return!1;return n===r}return!1}function ct(t){let o,e;const s=new Promise((n,r)=>{o=n,e=r});return s.status="pending",s.resolve=n=>{s.status="resolved",s.value=n,o(n),t?.(n)},s.reject=n=>{s.status="rejected",e(n)},s}function X(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function Vo(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function Ne(t){let o;try{o=decodeURI(t)}catch{o=t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}return Vo(o)}const oo=["http:","https:","mailto:","tel:"];function At(t){if(!t)return!1;try{const o=new URL(t);return!oo.includes(o.protocol)}catch{return!1}}const zo={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Ho=/[&><\u2028\u2029]/g;function Ko(t){return t.replace(Ho,o=>zo[o])}function $e(t,o){if(!t)return t;const e=/%25|%5C/gi;let s=0,n="",r;for(;(r=e.exec(t))!==null;)n+=Ne(t.slice(s,r.index))+r[0],s=e.lastIndex;return n=n+Ne(s?t.slice(s):t),n.startsWith("//")&&(n="/"+n.replace(/^\/+/,"")),n}var Go="Invariant failed";function K(t,o){if(!t)throw new Error(Go)}function jt(t){const o=new Map;let e,s;const n=r=>{r.next&&(r.prev?(r.prev.next=r.next,r.next.prev=r.prev,r.next=void 0,s&&(s.next=r,r.prev=s)):(r.next.prev=void 0,e=r.next,r.next=void 0,s&&(r.prev=s,s.next=r)),s=r)};return{get(r){const c=o.get(r);if(c)return n(c),c.value},set(r,c){if(o.size>=t&&e){const a=e;o.delete(a.key),a.next&&(e=a.next,a.next.prev=void 0),a===s&&(s=void 0)}const i=o.get(r);if(i)i.value=c,n(i);else{const a={key:r,value:c,prev:s};s&&(s.next=a),s=a,e||(e=a),o.set(r,a)}},clear(){o.clear(),e=void 0,s=void 0}}}const lt=0,st=1,nt=2,wt=3,at=4,qo=5,Jo=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,Yo=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,Xo=/^([^{]*)\{\$\}([^}]*)$/;function ge(t,o,e=new Uint16Array(6)){const s=t.indexOf("/",o),n=s===-1?t.length:s,r=t.substring(o,n);if(!r||!r.includes("$"))return e[0]=lt,e[1]=o,e[2]=o,e[3]=n,e[4]=n,e[5]=n,e;if(r==="$"){const u=t.length;return e[0]=nt,e[1]=o,e[2]=o,e[3]=u,e[4]=u,e[5]=u,e}if(r.charCodeAt(0)===36)return e[0]=st,e[1]=o,e[2]=o+1,e[3]=n,e[4]=n,e[5]=n,e;const c=r.match(Xo);if(c){const f=c[1].length;return e[0]=nt,e[1]=o+f,e[2]=o+f+1,e[3]=o+f+2,e[4]=o+f+3,e[5]=t.length,e}const i=r.match(Yo);if(i){const u=i[1],f=i[2],h=i[3],l=u.length;return e[0]=wt,e[1]=o+l,e[2]=o+l+3,e[3]=o+l+3+f.length,e[4]=n-h.length,e[5]=n,e}const a=r.match(Jo);if(a){const u=a[1],f=a[2],h=a[3],l=u.length;return e[0]=st,e[1]=o+l,e[2]=o+l+2,e[3]=o+l+2+f.length,e[4]=n-h.length,e[5]=n,e}return e[0]=lt,e[1]=o,e[2]=o,e[3]=n,e[4]=n,e[5]=n,e}function Wt(t,o,e,s,n,r,c){c?.(e);let i=s;{const a=e.fullPath??e.from,u=a.length,f=e.options?.caseSensitive??t,h=!!(e.options?.params?.parse&&e.options?.skipRouteOnParseError?.params);for(;i<u;){const d=ge(a,i,o);let p;const m=i,g=d[5];switch(i=g+1,r++,d[0]){case lt:{const S=a.substring(d[2],d[3]);if(f){const R=n.static?.get(S);if(R)p=R;else{n.static??=new Map;const v=Q(e.fullPath??e.from);v.parent=n,v.depth=r,p=v,n.static.set(S,v)}}else{const R=S.toLowerCase(),v=n.staticInsensitive?.get(R);if(v)p=v;else{n.staticInsensitive??=new Map;const C=Q(e.fullPath??e.from);C.parent=n,C.depth=r,p=C,n.staticInsensitive.set(R,C)}}break}case st:{const S=a.substring(m,d[1]),R=a.substring(d[4],g),v=f&&!!(S||R),C=S?v?S:S.toLowerCase():void 0,w=R?v?R:R.toLowerCase():void 0,L=!h&&n.dynamic?.find(y=>!y.skipOnParamError&&y.caseSensitive===v&&y.prefix===C&&y.suffix===w);if(L)p=L;else{const y=Zt(st,e.fullPath??e.from,v,C,w);p=y,y.depth=r,y.parent=n,n.dynamic??=[],n.dynamic.push(y)}break}case wt:{const S=a.substring(m,d[1]),R=a.substring(d[4],g),v=f&&!!(S||R),C=S?v?S:S.toLowerCase():void 0,w=R?v?R:R.toLowerCase():void 0,L=!h&&n.optional?.find(y=>!y.skipOnParamError&&y.caseSensitive===v&&y.prefix===C&&y.suffix===w);if(L)p=L;else{const y=Zt(wt,e.fullPath??e.from,v,C,w);p=y,y.parent=n,y.depth=r,n.optional??=[],n.optional.push(y)}break}case nt:{const S=a.substring(m,d[1]),R=a.substring(d[4],g),v=f&&!!(S||R),C=S?v?S:S.toLowerCase():void 0,w=R?v?R:R.toLowerCase():void 0,L=Zt(nt,e.fullPath??e.from,v,C,w);p=L,L.parent=n,L.depth=r,n.wildcard??=[],n.wildcard.push(L)}}n=p}if(h&&e.children&&!e.isRoot&&e.id&&e.id.charCodeAt(e.id.lastIndexOf("/")+1)===95){const d=Q(e.fullPath??e.from);d.kind=qo,d.parent=n,r++,d.depth=r,n.pathless??=[],n.pathless.push(d),n=d}const l=(e.path||!e.children)&&!e.isRoot;if(l&&a.endsWith("/")){const d=Q(e.fullPath??e.from);d.kind=at,d.parent=n,r++,d.depth=r,n.index=d,n=d}n.parse=e.options?.params?.parse??null,n.skipOnParamError=h,n.parsingPriority=e.options?.skipRouteOnParseError?.priority??0,l&&!n.route&&(n.route=e,n.fullPath=e.fullPath??e.from)}if(e.children)for(const a of e.children)Wt(t,o,a,i,n,r,c)}function Xt(t,o){if(t.skipOnParamError&&!o.skipOnParamError)return-1;if(!t.skipOnParamError&&o.skipOnParamError)return 1;if(t.skipOnParamError&&o.skipOnParamError&&(t.parsingPriority||o.parsingPriority))return o.parsingPriority-t.parsingPriority;if(t.prefix&&o.prefix&&t.prefix!==o.prefix){if(t.prefix.startsWith(o.prefix))return-1;if(o.prefix.startsWith(t.prefix))return 1}if(t.suffix&&o.suffix&&t.suffix!==o.suffix){if(t.suffix.endsWith(o.suffix))return-1;if(o.suffix.endsWith(t.suffix))return 1}return t.prefix&&!o.prefix?-1:!t.prefix&&o.prefix?1:t.suffix&&!o.suffix?-1:!t.suffix&&o.suffix?1:t.caseSensitive&&!o.caseSensitive?-1:!t.caseSensitive&&o.caseSensitive?1:0}function G(t){if(t.pathless)for(const o of t.pathless)G(o);if(t.static)for(const o of t.static.values())G(o);if(t.staticInsensitive)for(const o of t.staticInsensitive.values())G(o);if(t.dynamic?.length){t.dynamic.sort(Xt);for(const o of t.dynamic)G(o)}if(t.optional?.length){t.optional.sort(Xt);for(const o of t.optional)G(o)}if(t.wildcard?.length){t.wildcard.sort(Xt);for(const o of t.wildcard)G(o)}}function Q(t){return{kind:lt,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function Zt(t,o,e,s,n){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:o,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:e,prefix:s,suffix:n}}function Zo(t,o){const e=Q("/"),s=new Uint16Array(6);for(const n of t)Wt(!1,s,n,1,e,0);G(e),o.masksTree=e,o.flatCache=jt(1e3)}function Qo(t,o){t||="/";const e=o.flatCache.get(t);if(e)return e;const s=ye(t,o.masksTree);return o.flatCache.set(t,s),s}function ts(t,o,e,s,n){t||="/",s||="/";const r=o?`case\0${t}`:t;let c=n.singleCache.get(r);if(!c){c=Q("/");const i=new Uint16Array(6);Wt(o,i,{from:t},1,c,0),n.singleCache.set(r,c)}return ye(s,c,e)}function es(t,o,e=!1){const s=e?t:`nofuzz\0${t}`,n=o.matchCache.get(s);if(n!==void 0)return n;t||="/";const r=ye(t,o.segmentTree,e);return r&&(r.branch=ns(r.route)),o.matchCache.set(s,r),r}function os(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function ss(t,o=!1,e){const s=Q(t.fullPath),n=new Uint16Array(6),r={},c={};let i=0;return Wt(o,n,t,1,s,0,u=>{if(e?.(u,i),K(!(u.id in r),`Duplicate routes found with id: ${String(u.id)}`),r[u.id]=u,i!==0&&u.path){const f=os(u.fullPath);(!c[f]||u.fullPath.endsWith("/"))&&(c[f]=u)}i++}),G(s),{processedTree:{segmentTree:s,singleCache:jt(1e3),matchCache:jt(1e3),flatCache:null,masksTree:null},routesById:r,routesByPath:c}}function ye(t,o,e=!1){const s=t.split("/"),n=is(t,s,o,e);if(!n)return null;const[r]=so(t,s,n);return{route:n.node.route,rawParams:r,parsedParams:n.parsedParams}}function so(t,o,e){const s=rs(e.node);let n=null;const r={};let c=e.extract?.part??0,i=e.extract?.node??0,a=e.extract?.path??0;for(;i<s.length;c++,i++,a++){const u=s[i],f=o[c],h=a;if(f&&(a+=f.length),u.kind===st){n??=e.node.fullPath.split("/");const l=n[i],d=u.prefix?.length??0;if(l.charCodeAt(d)===123){const m=u.suffix?.length??0,g=l.substring(d+2,l.length-m-1),P=f.substring(d,f.length-m);r[g]=decodeURIComponent(P)}else{const m=l.substring(1);r[m]=decodeURIComponent(f)}}else if(u.kind===wt){if(e.skipped&1<<i){c--;continue}n??=e.node.fullPath.split("/");const l=n[i],d=u.prefix?.length??0,p=u.suffix?.length??0,m=l.substring(d+3,l.length-p-1),g=u.suffix||u.prefix?f.substring(d,f.length-p):f;g&&(r[m]=decodeURIComponent(g))}else if(u.kind===nt){const l=u,d=t.substring(h+(l.prefix?.length??0),t.length-(l.suffix?.length??0)),p=decodeURIComponent(d);r["*"]=p,r._splat=p;break}}return e.rawParams&&Object.assign(r,e.rawParams),[r,{part:c,node:i,path:a}]}function ns(t){const o=[t];for(;t.parentRoute;)t=t.parentRoute,o.push(t);return o.reverse(),o}function rs(t){const o=Array(t.depth+1);do o[t.depth]=t,t=t.parent;while(t);return o}function is(t,o,e,s){if(t==="/"&&e.index)return{node:e.index,skipped:0};const n=!Ft(o),r=n&&t!=="/",c=o.length-(n?1:0),i=[{node:e,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let a=null,u=null,f=null;for(;i.length;){const h=i.pop(),{node:l,index:d,skipped:p,depth:m,statics:g,dynamics:P,optionals:S}=h;let{extract:R,rawParams:v,parsedParams:C}=h;if(l.skipOnParamError){if(!Qt(t,o,h))continue;v=h.rawParams,R=h.extract,C=h.parsedParams}s&&l.route&&l.kind!==at&&pt(u,h)&&(u=h);const w=d===c;if(w&&(l.route&&!r&&pt(f,h)&&(f=h),!l.optional&&!l.wildcard&&!l.index&&!l.pathless))continue;const L=w?void 0:o[d];let y;if(w&&l.index){const _={node:l.index,index:d,skipped:p,depth:m+1,statics:g,dynamics:P,optionals:S,extract:R,rawParams:v,parsedParams:C};if(l.index.skipOnParamError&&!Qt(t,o,_))continue;if(g===c&&!P&&!S&&!p)return _;pt(f,_)&&(f=_)}if(l.wildcard&&pt(a,h))for(const _ of l.wildcard){const{prefix:M,suffix:k}=_;if(M&&(w||!(_.caseSensitive?L:y??=L.toLowerCase()).startsWith(M)))continue;if(k){if(w)continue;const F=o.slice(d).join("/").slice(-k.length);if((_.caseSensitive?F:F.toLowerCase())!==k)continue}const E={node:_,index:c,skipped:p,depth:m,statics:g,dynamics:P,optionals:S,extract:R,rawParams:v,parsedParams:C};if(!(_.skipOnParamError&&!Qt(t,o,E))){a=E;break}}if(l.optional){const _=p|1<<m,M=m+1;for(let k=l.optional.length-1;k>=0;k--){const E=l.optional[k];i.push({node:E,index:d,skipped:_,depth:M,statics:g,dynamics:P,optionals:S,extract:R,rawParams:v,parsedParams:C})}if(!w)for(let k=l.optional.length-1;k>=0;k--){const E=l.optional[k],{prefix:F,suffix:I}=E;if(F||I){const A=E.caseSensitive?L:y??=L.toLowerCase();if(F&&!A.startsWith(F)||I&&!A.endsWith(I))continue}i.push({node:E,index:d+1,skipped:p,depth:M,statics:g,dynamics:P,optionals:S+1,extract:R,rawParams:v,parsedParams:C})}}if(!w&&l.dynamic&&L)for(let _=l.dynamic.length-1;_>=0;_--){const M=l.dynamic[_],{prefix:k,suffix:E}=M;if(k||E){const F=M.caseSensitive?L:y??=L.toLowerCase();if(k&&!F.startsWith(k)||E&&!F.endsWith(E))continue}i.push({node:M,index:d+1,skipped:p,depth:m+1,statics:g,dynamics:P+1,optionals:S,extract:R,rawParams:v,parsedParams:C})}if(!w&&l.staticInsensitive){const _=l.staticInsensitive.get(y??=L.toLowerCase());_&&i.push({node:_,index:d+1,skipped:p,depth:m+1,statics:g+1,dynamics:P,optionals:S,extract:R,rawParams:v,parsedParams:C})}if(!w&&l.static){const _=l.static.get(L);_&&i.push({node:_,index:d+1,skipped:p,depth:m+1,statics:g+1,dynamics:P,optionals:S,extract:R,rawParams:v,parsedParams:C})}if(l.pathless){const _=m+1;for(let M=l.pathless.length-1;M>=0;M--){const k=l.pathless[M];i.push({node:k,index:d,skipped:p,depth:_,statics:g,dynamics:P,optionals:S,extract:R,rawParams:v,parsedParams:C})}}}if(f&&a)return pt(a,f)?f:a;if(f)return f;if(a)return a;if(s&&u){let h=u.index;for(let d=0;d<u.index;d++)h+=o[d].length;const l=h===t.length?"/":t.slice(h);return u.rawParams??={},u.rawParams["**"]=decodeURIComponent(l),u}return null}function Qt(t,o,e){try{const[s,n]=so(t,o,e);e.rawParams=s,e.extract=n;const r=e.node.parse(s);return e.parsedParams=Object.assign({},e.parsedParams,r),!0}catch{return null}}function pt(t,o){return t?o.statics>t.statics||o.statics===t.statics&&(o.dynamics>t.dynamics||o.dynamics===t.dynamics&&(o.optionals>t.optionals||o.optionals===t.optionals&&((o.node.kind===at)>(t.node.kind===at)||o.node.kind===at==(t.node.kind===at)&&o.depth>t.depth))):!0}function Et(t){return ve(t.filter(o=>o!==void 0).join("/"))}function ve(t){return t.replace(/\/{2,}/g,"/")}function no(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function et(t){const o=t.length;return o>1&&t[o-1]==="/"?t.replace(/\/{1,}$/,""):t}function ro(t){return et(no(t))}function Dt(t,o){return t?.endsWith("/")&&t!=="/"&&t!==`${o}/`?t.slice(0,-1):t}function as(t,o,e){return Dt(t,e)===Dt(o,e)}function cs({base:t,to:o,trailingSlash:e="never",cache:s}){const n=o.startsWith("/"),r=!n&&o===".";let c;if(s){c=n?o:r?t:t+"\0"+o;const h=s.get(c);if(h)return h}let i;if(r)i=t.split("/");else if(n)i=o.split("/");else{for(i=t.split("/");i.length>1&&Ft(i)==="";)i.pop();const h=o.split("/");for(let l=0,d=h.length;l<d;l++){const p=h[l];p===""?l?l===d-1&&i.push(p):i=[p]:p===".."?i.pop():p==="."||i.push(p)}}i.length>1&&(Ft(i)===""?e==="never"&&i.pop():e==="always"&&i.push(""));let a,u="";for(let h=0;h<i.length;h++){h>0&&(u+="/");const l=i[h];if(!l)continue;a=ge(l,0,a);const d=a[0];if(d===lt){u+=l;continue}const p=a[5],m=l.substring(0,a[1]),g=l.substring(a[4],p),P=l.substring(a[2],a[3]);d===st?u+=m||g?`${m}{$${P}}${g}`:`$${P}`:d===nt?u+=m||g?`${m}{$}${g}`:"$":u+=`${m}{-$${P}}${g}`}u=ve(u);const f=u||"/";return c&&s&&s.set(c,f),f}function te(t,o,e){const s=o[t];return typeof s!="string"?s:t==="_splat"?encodeURI(s):ls(s,e)}function ee({path:t,params:o,decodeCharMap:e}){let s=!1;const n={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:n,isMissingParams:s};if(!t.includes("$"))return{interpolatedPath:t,usedParams:n,isMissingParams:s};const r=t.length;let c=0,i,a="";for(;c<r;){const f=c;i=ge(t,f,i);const h=i[5];if(c=h+1,f===h)continue;const l=i[0];if(l===lt){a+="/"+t.substring(f,h);continue}if(l===nt){const d=o._splat;n._splat=d,n["*"]=d;const p=t.substring(f,i[1]),m=t.substring(i[4],h);if(!d){s=!0,(p||m)&&(a+="/"+p+m);continue}const g=te("_splat",o,e);a+="/"+p+g+m;continue}if(l===st){const d=t.substring(i[2],i[3]);!s&&!(d in o)&&(s=!0),n[d]=o[d];const p=t.substring(f,i[1]),m=t.substring(i[4],h),g=te(d,o,e)??"undefined";a+="/"+p+g+m;continue}if(l===wt){const d=t.substring(i[2],i[3]),p=o[d];if(p==null)continue;n[d]=p;const m=t.substring(f,i[1]),g=t.substring(i[4],h),P=te(d,o,e)??"";a+="/"+m+P+g;continue}}return t.endsWith("/")&&(a+="/"),{usedParams:n,interpolatedPath:a||"/",isMissingParams:s}}function ls(t,o){let e=encodeURIComponent(t);if(o)for(const[s,n]of o)e=e.replaceAll(s,n);return e}function N(t){return!!t?.isNotFound}function us(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Nt="tsr-scroll-restoration-v1_3",hs=(t,o)=>{let e;return(...s)=>{e||(e=setTimeout(()=>{t(...s),e=null},o))}};function ds(){const t=us();if(!t)return null;const o=t.getItem(Nt);let e=o?JSON.parse(o):{};return{state:e,set:s=>{e=q(s,e)||e;try{t.setItem(Nt,JSON.stringify(e))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Mt=ds(),he=t=>t.state.__TSR_key||t.href;function fs(t){const o=[];let e;for(;e=t.parentNode;)o.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(e.children,t)+1})`),t=e;return`${o.reverse().join(" > ")}`.toLowerCase()}let $t=!1;function io({storageKey:t,key:o,behavior:e,shouldScrollRestoration:s,scrollToTopSelectors:n,location:r}){let c;try{c=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(u){console.error(u);return}const i=o||window.history.state?.__TSR_key,a=c[i];$t=!0;t:{if(s&&a&&Object.keys(a).length>0){for(const h in a){const l=a[h];if(h==="window")window.scrollTo({top:l.scrollY,left:l.scrollX,behavior:e});else if(h){const d=document.querySelector(h);d&&(d.scrollLeft=l.scrollX,d.scrollTop=l.scrollY)}}break t}const u=(r??window.location).hash.split("#",2)[1];if(u){const h=window.history.state?.__hashScrollIntoViewOptions??!0;if(h){const l=document.getElementById(u);l&&l.scrollIntoView(h)}break t}const f={top:0,left:0,behavior:e};if(window.scrollTo(f),n)for(const h of n){if(h==="window")continue;const l=typeof h=="function"?h():document.querySelector(h);l&&l.scrollTo(f)}}$t=!1}function ps(t,o){if(!Mt&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!Mt))return;t.isScrollRestorationSetup=!0,$t=!1;const s=t.options.getScrollRestorationKey||he;window.history.scrollRestoration="manual";const n=r=>{if($t||!t.isScrollRestoring)return;let c="";if(r.target===document||r.target===window)c="window";else{const a=r.target.getAttribute("data-scroll-restoration-id");a?c=`[data-scroll-restoration-id="${a}"]`:c=fs(r.target)}const i=s(t.state.location);Mt.set(a=>{const u=a[i]||={},f=u[c]||={};if(c==="window")f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(c){const h=document.querySelector(c);h&&(f.scrollX=h.scrollLeft||0,f.scrollY=h.scrollTop||0)}return a})};typeof document<"u"&&document.addEventListener("scroll",hs(n,100),!0),t.subscribe("onRendered",r=>{const c=s(r.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(io({storageKey:Nt,key:c,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Mt.set(i=>(i[c]||={},i)))})}function ms(t){if(typeof document<"u"&&document.querySelector){const o=t.state.location.state.__hashScrollIntoViewOptions??!0;if(o&&t.state.location.hash!==""){const e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView(o)}}}function gs(t,o=String){const e=new URLSearchParams;for(const s in t){const n=t[s];n!==void 0&&e.set(s,o(n))}return e.toString()}function oe(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function ys(t){const o=new URLSearchParams(t),e={};for(const[s,n]of o.entries()){const r=e[s];r==null?e[s]=oe(n):Array.isArray(r)?r.push(oe(n)):e[s]=[r,oe(n)]}return e}const vs=Ps(JSON.parse),Ss=_s(JSON.stringify,JSON.parse);function Ps(t){return o=>{o[0]==="?"&&(o=o.substring(1));const e=ys(o);for(const s in e){const n=e[s];if(typeof n=="string")try{e[s]=t(n)}catch{}}return e}}function _s(t,o){const e=typeof o=="function";function s(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(e&&typeof n=="string")try{return o(n),t(n)}catch{}return n}return n=>{const r=gs(n,s);return r?`?${r}`:""}}const D="__root__";function ao(t){if(t.statusCode=t.statusCode||t.code||307,typeof t.href=="string"&&At(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${oo.join(", ")} protocols are allowed.`);if(!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const o=new Headers(t.headers);t.href&&o.get("Location")===null&&o.set("Location",t.href);const e=new Response(null,{status:t.statusCode,headers:o});if(e.options=t,t.throw)throw e;return e}function U(t){return t instanceof Response&&!!t.options}const Tt=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Vt=(t,o)=>!!(t.preload&&!t.router.state.matches.some(e=>e.id===o)),Se=(t,o,e=!0)=>{const s={...t.router.options.context??{}},n=e?o:o-1;for(let r=0;r<=n;r++){const c=t.matches[r];if(!c)continue;const i=t.router.getMatch(c.id);i&&Object.assign(s,i.__routeContext,i.__beforeLoadContext)}return s},co=(t,o)=>{const e=t.router.routesById[o.routeId??""]??t.router.routeTree;!e.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(e.options.notFoundComponent=t.router.options.defaultNotFoundComponent),K(e.options.notFoundComponent);const s=t.matches.find(n=>n.routeId===e.id);K(s,"Could not find match for route: "+e.id),t.updateMatch(s.id,n=>({...n,status:"notFound",error:o,isFetching:!1})),o.routerCode==="BEFORE_LOAD"&&e.parentRoute&&(o.routeId=e.parentRoute.id,co(t,o))},J=(t,o,e)=>{if(!(!U(e)&&!N(e))){if(U(e)&&e.redirectHandled&&!e.options.reloadDocument)throw e;if(o){o._nonReactive.beforeLoadPromise?.resolve(),o._nonReactive.loaderPromise?.resolve(),o._nonReactive.beforeLoadPromise=void 0,o._nonReactive.loaderPromise=void 0;const s=U(e)?"redirected":"notFound";o._nonReactive.error=e,t.updateMatch(o.id,n=>({...n,status:s,isFetching:!1,error:e})),N(e)&&!e.routeId&&(e.routeId=o.routeId),o._nonReactive.loadPromise?.resolve()}throw U(e)?(t.rendered=!0,e.options._fromLocation=t.location,e.redirectHandled=!0,e=t.router.resolveRedirect(e),e):(co(t,e),e)}},lo=(t,o)=>{const e=t.router.getMatch(o);return!!(!t.router.isServer&&e._nonReactive.dehydrated||t.router.isServer&&e.ssr===!1)},mt=(t,o,e,s)=>{const{id:n,routeId:r}=t.matches[o],c=t.router.looseRoutesById[r];if(e instanceof Promise)throw e;e.routerCode=s,t.firstBadMatchIndex??=o,J(t,t.router.getMatch(n),e);try{c.options.onError?.(e)}catch(i){e=i,J(t,t.router.getMatch(n),e)}t.updateMatch(n,i=>(i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,i._nonReactive.loadPromise?.resolve(),{...i,error:e,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Rs=(t,o,e,s)=>{const n=t.router.getMatch(o),r=t.matches[e-1]?.id,c=r?t.router.getMatch(r):void 0;if(t.router.isShell()){n.ssr=s.id===D;return}if(c?.ssr===!1){n.ssr=!1;return}const i=d=>d===!0&&c?.ssr==="data-only"?"data-only":d,a=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){n.ssr=i(a);return}if(typeof s.options.ssr!="function"){n.ssr=i(s.options.ssr);return}const{search:u,params:f}=n,h={search:kt(u,n.searchError),params:kt(f,n.paramsError),location:t.location,matches:t.matches.map(d=>({index:d.index,pathname:d.pathname,fullPath:d.fullPath,staticData:d.staticData,id:d.id,routeId:d.routeId,search:kt(d.search,d.searchError),params:kt(d.params,d.paramsError),ssr:d.ssr}))},l=s.options.ssr(h);if(X(l))return l.then(d=>{n.ssr=i(d??a)});n.ssr=i(l??a)},uo=(t,o,e,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const n=e.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!Vt(t,o)&&(e.options.loader||e.options.beforeLoad||po(e))&&typeof n=="number"&&n!==1/0&&(e.options.pendingComponent??t.router.options?.defaultPendingComponent))){const c=setTimeout(()=>{Tt(t)},n);s._nonReactive.pendingTimeout=c}},ws=(t,o,e)=>{const s=t.router.getMatch(o);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;uo(t,o,e,s);const n=()=>{const r=t.router.getMatch(o);r.preload&&(r.status==="redirected"||r.status==="notFound")&&J(t,r,r.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(n):n()},xs=(t,o,e,s)=>{const n=t.router.getMatch(o),r=n._nonReactive.loadPromise;n._nonReactive.loadPromise=ct(()=>{r?.resolve()});const{paramsError:c,searchError:i}=n;c&&mt(t,e,c,"PARSE_PARAMS"),i&&mt(t,e,i,"VALIDATE_SEARCH"),uo(t,o,s,n);const a=new AbortController,u=t.matches[e-1]?.id;(u?t.router.getMatch(u):void 0)?.context??t.router.options.context;let h=!1;const l=()=>{h||(h=!0,t.updateMatch(o,w=>({...w,isFetching:"beforeLoad",fetchCount:w.fetchCount+1,abortController:a})))},d=()=>{n._nonReactive.beforeLoadPromise?.resolve(),n._nonReactive.beforeLoadPromise=void 0,t.updateMatch(o,w=>({...w,isFetching:!1}))};if(!s.options.beforeLoad){_t(()=>{l(),d()});return}n._nonReactive.beforeLoadPromise=ct();const p={...Se(t,e,!1),...n.__routeContext},{search:m,params:g,cause:P}=n,S=Vt(t,o),R={search:m,abortController:a,params:g,preload:S,context:p,location:t.location,navigate:w=>t.router.navigate({...w,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:S?"preload":P,matches:t.matches,...t.router.options.additionalContext},v=w=>{if(w===void 0){_t(()=>{l(),d()});return}(U(w)||N(w))&&(l(),mt(t,e,w,"BEFORE_LOAD")),_t(()=>{l(),t.updateMatch(o,L=>({...L,__beforeLoadContext:w})),d()})};let C;try{if(C=s.options.beforeLoad(R),X(C))return l(),C.catch(w=>{mt(t,e,w,"BEFORE_LOAD")}).then(v)}catch(w){l(),mt(t,e,w,"BEFORE_LOAD")}v(C)},Ls=(t,o)=>{const{id:e,routeId:s}=t.matches[o],n=t.router.looseRoutesById[s],r=()=>{if(t.router.isServer){const a=Rs(t,e,o,n);if(X(a))return a.then(i)}return i()},c=()=>xs(t,e,o,n),i=()=>{if(lo(t,e))return;const a=ws(t,e,n);return X(a)?a.then(c):c()};return r()},Cs=(t,o,e)=>{const s=t.router.getMatch(o);if(!s||!e.options.head&&!e.options.scripts&&!e.options.headers)return;const n={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([e.options.head?.(n),e.options.scripts?.(n),e.options.headers?.(n)]).then(([r,c,i])=>{const a=r?.meta,u=r?.links,f=r?.scripts,h=r?.styles;return{meta:a,links:u,headScripts:f,headers:i,scripts:c,styles:h}})},ho=(t,o,e,s)=>{const n=t.matchPromises[e-1],{params:r,loaderDeps:c,abortController:i,cause:a}=t.router.getMatch(o),u=Se(t,e),f=Vt(t,o);return{params:r,deps:c,preload:!!f,parentMatchPromise:n,abortController:i,context:u,location:t.location,navigate:h=>t.router.navigate({...h,_fromLocation:t.location}),cause:f?"preload":a,route:s,...t.router.options.additionalContext}},Ue=async(t,o,e,s)=>{try{const n=t.router.getMatch(o);try{(!t.router.isServer||n.ssr===!0)&&fo(s);const r=s.options.loader?.(ho(t,o,e,s)),c=s.options.loader&&X(r);if((c||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||n._nonReactive.minPendingPromise)&&t.updateMatch(o,u=>({...u,isFetching:"loader"})),s.options.loader){const u=c?await r:r;J(t,t.router.getMatch(o),u),u!==void 0&&t.updateMatch(o,f=>({...f,loaderData:u}))}s._lazyPromise&&await s._lazyPromise;const a=n._nonReactive.minPendingPromise;a&&await a,s._componentsPromise&&await s._componentsPromise,t.updateMatch(o,u=>({...u,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(r){let c=r;if(c?.name==="AbortError"){t.updateMatch(o,a=>({...a,status:a.status==="pending"?"success":a.status,isFetching:!1}));return}const i=n._nonReactive.minPendingPromise;i&&await i,N(r)&&await s.options.notFoundComponent?.preload?.(),J(t,t.router.getMatch(o),r);try{s.options.onError?.(r)}catch(a){c=a,J(t,t.router.getMatch(o),a)}t.updateMatch(o,a=>({...a,error:c,status:"error",isFetching:!1}))}}catch(n){const r=t.router.getMatch(o);r&&(r._nonReactive.loaderPromise=void 0),J(t,r,n)}},bs=async(t,o)=>{const{id:e,routeId:s}=t.matches[o];let n=!1,r=!1;const c=t.router.looseRoutesById[s],i=()=>{t.updateMatch(e,f=>({...f,context:Se(t,o)}))};if(lo(t,e)){if(t.router.isServer)return t.router.getMatch(e)}else{const f=t.router.getMatch(e);if(f._nonReactive.loaderPromise){if(f.status==="success"&&!t.sync&&!f.preload)return f;await f._nonReactive.loaderPromise;const h=t.router.getMatch(e),l=h._nonReactive.error||h.error;l&&J(t,h,l)}else{const h=Date.now()-f.updatedAt,l=Vt(t,e),d=l?c.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:c.options.staleTime??t.router.options.defaultStaleTime??0,p=c.options.shouldReload,m=typeof p=="function"?p(ho(t,e,o,c)):p,g=!!l&&!t.router.state.matches.some(v=>v.id===e),P=t.router.getMatch(e);P._nonReactive.loaderPromise=ct(),g!==P.preload&&t.updateMatch(e,v=>({...v,preload:g}));const{status:S,invalid:R}=P;n=S==="success"&&(R||(m??h>d)),l&&c.options.preload===!1||(n&&!t.sync?(r=!0,(async()=>{try{await Ue(t,e,o,c),i();const v=t.router.getMatch(e);v._nonReactive.loaderPromise?.resolve(),v._nonReactive.loadPromise?.resolve(),v._nonReactive.loaderPromise=void 0}catch(v){U(v)&&await t.router.navigate(v.options)}})()):(S!=="success"||n&&t.sync)&&await Ue(t,e,o,c))}}const a=t.router.getMatch(e);r||(a._nonReactive.loaderPromise?.resolve(),a._nonReactive.loadPromise?.resolve()),clearTimeout(a._nonReactive.pendingTimeout),a._nonReactive.pendingTimeout=void 0,r||(a._nonReactive.loaderPromise=void 0),a._nonReactive.dehydrated=void 0,r||i();const u=r?a.isFetching:!1;return u!==a.isFetching||a.invalid!==!1?(t.updateMatch(e,f=>({...f,isFetching:u,invalid:!1})),t.router.getMatch(e)):a};async function We(t){const o=Object.assign(t,{matchPromises:[]});!o.router.isServer&&o.router.state.matches.some(e=>e._forcePending)&&Tt(o);try{for(let i=0;i<o.matches.length;i++){const a=Ls(o,i);X(a)&&await a}const e=o.firstBadMatchIndex??o.matches.length;for(let i=0;i<e;i++)o.matchPromises.push(bs(o,i));const n=(await Promise.allSettled(o.matchPromises)).filter(i=>i.status==="rejected").map(i=>i.reason);let r;for(const i of n){if(U(i))throw i;!r&&N(i)&&(r=i)}for(const i of o.matches){const{id:a,routeId:u}=i,f=o.router.looseRoutesById[u];try{const h=Cs(o,a,f);if(h){const l=await h;o.updateMatch(a,d=>({...d,...l}))}}catch(h){console.error(`Error executing head for route ${u}:`,h)}}if(r)throw r;const c=Tt(o);X(c)&&await c}catch(e){if(N(e)&&!o.preload){const s=Tt(o);throw X(s)&&await s,e}if(U(e))throw e}return o.matches}async function fo(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(o=>{const{id:e,...s}=o.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const o=()=>{const e=[];for(const s of mo){const n=t.options[s]?.preload;n&&e.push(n())}if(e.length)return Promise.all(e).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(o):o()}return t._componentsPromise}function kt(t,o){return o?{status:"error",error:o}:{status:"success",value:t}}function po(t){for(const o of mo)if(t.options[o]?.preload)return!0;return!1}const mo=["component","errorComponent","pendingComponent","notFoundComponent"];function Ms(t){return{input:({url:o})=>{for(const e of t)o=de(e,o);return o},output:({url:o})=>{for(let e=t.length-1;e>=0;e--)o=go(t[e],o);return o}}}function ks(t){const o=ro(t.basepath),e=`/${o}`,s=`${e}/`,n=t.caseSensitive?e:e.toLowerCase(),r=t.caseSensitive?s:s.toLowerCase();return{input:({url:c})=>{const i=t.caseSensitive?c.pathname:c.pathname.toLowerCase();return i===n?c.pathname="/":i.startsWith(r)&&(c.pathname=c.pathname.slice(e.length)),c},output:({url:c})=>(c.pathname=Et(["/",o,c.pathname]),c)}}function de(t,o){const e=t?.input?.({url:o});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return o}function go(t,o){const e=t?.output?.({url:o});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return o}function ot(t){const o=t.resolvedLocation,e=t.location,s=o?.pathname!==e.pathname,n=o?.href!==e.href,r=o?.hash!==e.hash;return{fromLocation:o,toLocation:e,pathChanged:s,hrefChanged:n,hashChanged:r}}class Es{constructor(o){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,n=this.basepath??s?.basepath??"/",r=this.basepath===void 0,c=s?.rewrite;this.options={...s,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(l=>[encodeURIComponent(l),l])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=No())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new jo(Is(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(l=>!["redirected"].includes(l.status))}}}),ps(this));let i=!1;const a=this.options.basepath??"/",u=this.options.rewrite;if(r||n!==a||c!==u){this.basepath=a;const l=[];ro(a)!==""&&l.push(ks({basepath:a})),u&&l.push(u),this.rewrite=l.length===0?void 0:l.length===1?l[0]:Ms(l),this.history&&this.updateLatestLocation(),i=!0}i&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:e,routesByPath:s,processedTree:n}=ss(this.routeTree,this.options.caseSensitive,(c,i)=>{c.init({originalIndex:i})});this.options.routeMasks&&Zo(this.options.routeMasks,n),this.routesById=e,this.routesByPath=s,this.processedTree=n;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)},this.subscribe=(e,s)=>{const n={eventType:e,fn:s};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=e=>{this.subscribers.forEach(s=>{s.eventType===e.type&&s.fn(e)})},this.parseLocation=(e,s)=>{const n=({href:a,state:u})=>{const f=new URL(a,this.origin),h=de(this.rewrite,f),l=this.options.parseSearch(h.search),d=this.options.stringifySearch(l);return h.search=d,{href:h.href.replace(h.origin,""),publicHref:a,url:h,pathname:$e(h.pathname),searchStr:d,search:$(s?.search,l),hash:h.hash.split("#").reverse()[0]??"",state:$(s?.state,u)}},r=n(e),{__tempLocation:c,__tempKey:i}=r.state;if(c&&(!i||i===this.tempLocationKey)){const a=n(c);return a.state.key=r.state.key,a.state.__TSR_key=r.state.__TSR_key,delete a.state.__tempLocation,{...a,maskedLocation:r}}return r},this.resolvePathCache=jt(1e3),this.resolvePathWithBase=(e,s)=>cs({base:e,to:ve(s),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(e,s,n)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:s},n):this.matchRoutesInternal(e,s),this.getMatchedRoutes=e=>Os({pathname:e,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=e=>{const s=this.getMatch(e);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const e=this.state.matches.filter(r=>r.status==="pending"),s=this.state.matches.filter(r=>r.isFetching==="loader");new Set([...this.state.pendingMatches??[],...e,...s]).forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=e=>{const s=(r={})=>{const c=r._fromLocation||this.pendingBuiltLocation||this.latestLocation,i=this.matchRoutes(c,{_buildLocation:!0}),a=Ft(i);r.from;const u=r.unsafeRelative==="path"?c.pathname:r.from??a.fullPath,f=this.resolvePathWithBase(u,"."),h=a.search,l={...a.params},d=r.to?this.resolvePathWithBase(f,`${r.to}`):this.resolvePathWithBase(f,"."),p=r.params===!1||r.params===null?{}:(r.params??!0)===!0?l:Object.assign(l,q(r.params,l)),m=ee({path:d,params:p}).interpolatedPath,g=this.matchRoutes(m,void 0,{_buildLocation:!0}).map(M=>this.looseRoutesById[M.routeId]);if(Object.keys(p).length>0)for(const M of g){const k=M.options.params?.stringify??M.options.stringifyParams;k&&Object.assign(p,k(p))}const P=e.leaveParams?d:$e(ee({path:d,params:p,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let S=h;if(e._includeValidateSearch&&this.options.search?.strict){const M={};g.forEach(k=>{if(k.options.validateSearch)try{Object.assign(M,fe(k.options.validateSearch,{...M,...S}))}catch{}}),S=M}S=Fs({search:S,dest:r,destRoutes:g,_includeValidateSearch:e._includeValidateSearch}),S=$(h,S);const R=this.options.stringifySearch(S),v=r.hash===!0?c.hash:r.hash?q(r.hash,c.hash):void 0,C=v?`#${v}`:"";let w=r.state===!0?c.state:r.state?q(r.state,c.state):{};w=$(c.state,w);const L=`${P}${R}${C}`,y=new URL(L,this.origin),_=go(this.rewrite,y);return{publicHref:_.pathname+_.search+_.hash,href:L,url:_,pathname:P,search:S,searchStr:R,state:w,hash:v??"",unmaskOnReload:r.unmaskOnReload}},n=(r={},c)=>{const i=s(r);let a=c?s(c):void 0;if(!a){const u={};if(this.options.routeMasks){const f=Qo(i.pathname,this.processedTree);if(f){Object.assign(u,f.rawParams);const{from:h,params:l,...d}=f.route,p=l===!1||l===null?{}:(l??!0)===!0?u:Object.assign(u,q(l,u));c={from:e.from,...d,params:p},a=s(c)}}}return a&&(i.maskedLocation=a),i};return e.mask?n(e,{from:e.from,...e.mask}):n(e)},this.commitLocation=({viewTransition:e,ignoreBlocker:s,...n})=>{const r=()=>{const a=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];a.forEach(f=>{n.state[f]=this.latestLocation.state[f]});const u=tt(n.state,this.latestLocation.state);return a.forEach(f=>{delete n.state[f]}),u},c=et(this.latestLocation.href)===et(n.href),i=this.commitLocationPromise;if(this.commitLocationPromise=ct(()=>{i?.resolve()}),c&&r())this.load();else{let{maskedLocation:a,hashScrollIntoView:u,url:f,...h}=n;a&&(h={...a,state:{...a.state,__tempKey:void 0,__tempLocation:{...h,search:h.searchStr,state:{...h.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(h.unmaskOnReload??this.options.unmaskOnReload??!1)&&(h.state.__tempKey=this.tempLocationKey)),h.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=e,this.history[n.replace?"replace":"push"](h.publicHref,h.state,{ignoreBlocker:s})}return this.resetNextScroll=n.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:e,resetScroll:s,hashScrollIntoView:n,viewTransition:r,ignoreBlocker:c,href:i,...a}={})=>{if(i){const h=this.history.location.state.__TSR_index,l=Ot(i,{__TSR_index:e?h:h+1}),d=new URL(l.pathname,this.origin),p=de(this.rewrite,d);a.to=p.pathname,a.search=this.options.parseSearch(l.search),a.hash=l.hash.slice(1)}const u=this.buildLocation({...a,_includeValidateSearch:!0});this.pendingBuiltLocation=u;const f=this.commitLocation({...u,viewTransition:r,replace:e,resetScroll:s,hashScrollIntoView:n,ignoreBlocker:c});return Promise.resolve().then(()=>{this.pendingBuiltLocation===u&&(this.pendingBuiltLocation=void 0)}),f},this.navigate=async({to:e,reloadDocument:s,href:n,publicHref:r,...c})=>{let i=!1;if(n)try{new URL(`${n}`),i=!0}catch{}if(i&&!s&&(s=!0),s){if(e!==void 0||!n){const u=this.buildLocation({to:e,...c});n=n??u.url.href,r=r??u.url.href}const a=!i&&r?r:n;if(At(a))return Promise.resolve();if(!c.ignoreBlocker){const f=this.history.getBlockers?.()??[];for(const h of f)if(h?.blockerFn&&await h.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()}return this.buildAndCommitLocation({...c,href:n,to:e,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==s.publicHref||s.url.origin!==this.origin){const n=this.getParsedLocationHref(s);throw ao({href:n})}}const e=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:e,cachedMatches:s.cachedMatches.filter(n=>!e.some(r=>r.id===n.id))}))},this.load=async e=>{let s,n,r;for(r=new Promise(i=>{this.startTransition(async()=>{try{this.beforeLoad();const a=this.latestLocation,u=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ot({resolvedLocation:u,location:a})}),this.emit({type:"onBeforeLoad",...ot({resolvedLocation:u,location:a})}),await We({router:this,sync:e?.sync,matches:this.state.pendingMatches,location:a,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let f=[],h=[],l=[];_t(()=>{this.__store.setState(d=>{const p=d.matches,m=d.pendingMatches||d.matches;return f=p.filter(g=>!m.some(P=>P.id===g.id)),h=m.filter(g=>!p.some(P=>P.id===g.id)),l=m.filter(g=>p.some(P=>P.id===g.id)),{...d,isLoading:!1,loadedAt:Date.now(),matches:m,pendingMatches:void 0,cachedMatches:[...d.cachedMatches,...f.filter(g=>g.status!=="error"&&g.status!=="notFound")]}}),this.clearExpiredCache()}),[[f,"onLeave"],[h,"onEnter"],[l,"onStay"]].forEach(([d,p])=>{d.forEach(m=>{this.looseRoutesById[m.routeId].options[p]?.(m)})})})})}})}catch(a){U(a)?(s=a,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):N(a)&&(n=a),this.__store.setState(u=>({...u,statusCode:s?s.status:n?404:u.matches.some(f=>f.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===r&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise;let c;this.hasNotFoundMatch()?c=404:this.__store.state.matches.some(i=>i.status==="error")&&(c=500),c!==void 0&&this.__store.setState(i=>({...i,statusCode:c}))},this.startViewTransition=e=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const r=this.latestLocation,c=this.state.resolvedLocation,i=typeof s.types=="function"?s.types(ot({resolvedLocation:c,location:r})):s.types;if(i===!1){e();return}n={update:e,types:i}}else n=e;document.startViewTransition(n)}else e()},this.updateMatch=(e,s)=>{this.startTransition(()=>{const n=this.state.pendingMatches?.some(r=>r.id===e)?"pendingMatches":this.state.matches.some(r=>r.id===e)?"matches":this.state.cachedMatches.some(r=>r.id===e)?"cachedMatches":"";n&&this.__store.setState(r=>({...r,[n]:r[n]?.map(c=>c.id===e?s(c):c)}))})},this.getMatch=e=>{const s=n=>n.id===e;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=e=>{const s=n=>e?.filter?.(n)??!0?{...n,invalid:!0,...e?.forcePending||n.status==="error"||n.status==="notFound"?{status:"pending",error:void 0}:void 0}:n;return this.__store.setState(n=>({...n,matches:n.matches.map(s),cachedMatches:n.cachedMatches.map(s),pendingMatches:n.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.getParsedLocationHref=e=>{let s=e.url.href;return this.origin&&e.url.origin===this.origin&&(s=s.replace(this.origin,"")||"/"),s},this.resolveRedirect=e=>{const s=e.headers.get("Location");if(e.options.href){if(s)try{const n=new URL(s);if(this.origin&&n.origin===this.origin){const r=n.pathname+n.search+n.hash;e.options.href=r,e.headers.set("Location",r)}}catch{}}else{const n=this.buildLocation(e.options),r=this.getParsedLocationHref(n);e.options.href=r,e.headers.set("Location",r)}return e.headers.get("Location")||e.headers.set("Location",e.options.href),e},this.clearCache=e=>{const s=e?.filter;s!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(r=>!s(r))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=s=>{const n=this.looseRoutesById[s.routeId];if(!n.options.loader)return!0;const r=(s.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=r};this.clearCache({filter:e})},this.loadRouteChunk=fo,this.preloadRoute=async e=>{const s=this.buildLocation(e);let n=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:e});const r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(i=>i.id)),c=new Set([...r,...this.state.cachedMatches.map(i=>i.id)]);_t(()=>{n.forEach(i=>{c.has(i.id)||this.__store.setState(a=>({...a,cachedMatches:[...a.cachedMatches,i]}))})});try{return n=await We({router:this,matches:n,location:s,preload:!0,updateMatch:(i,a)=>{r.has(i)?n=n.map(u=>u.id===i?a(u):u):this.updateMatch(i,a)}}),n}catch(i){if(U(i))return i.options.reloadDocument?void 0:await this.preloadRoute({...i.options,_fromLocation:s});N(i)||console.error(i);return}},this.matchRoute=(e,s)=>{const n={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},r=this.buildLocation(n);if(s?.pending&&this.state.status!=="pending")return!1;const i=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,a=ts(r.pathname,s?.caseSensitive??!1,s?.fuzzy??!1,i.pathname,this.processedTree);return!a||e.params&&!tt(a.rawParams,e.params,{partial:!0})?!1:s?.includeSearch??!0?tt(i.search,r.search,{partial:!0})?a.rawParams:!1:a.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...o,caseSensitive:o.caseSensitive??!1,notFoundMode:o.notFoundMode??"fuzzy",stringifySearch:o.stringifySearch??Ss,parseSearch:o.parseSearch??vs}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(o,e){const s=this.getMatchedRoutes(o.pathname),{foundRoute:n,routeParams:r,parsedParams:c}=s;let{matchedRoutes:i}=s,a=!1;(n?n.path!=="/"&&r["**"]:et(o.pathname))&&(this.options.notFoundRoute?i=[...i,this.options.notFoundRoute]:a=!0);const u=(()=>{if(a){if(this.options.notFoundMode!=="root")for(let l=i.length-1;l>=0;l--){const d=i[l];if(d.children)return d.id}return D}})(),f=[],h=l=>l?.id?l.context??this.options.context??void 0:this.options.context??void 0;return i.forEach((l,d)=>{const p=f[d-1],[m,g,P]=(()=>{const I=p?.search??o.search,A=p?._strictSearch??void 0;try{const V=fe(l.options.validateSearch,{...I})??void 0;return[{...I,...V},{...A,...V},void 0]}catch(V){let ut=V;if(V instanceof Ut||(ut=new Ut(V.message,{cause:V})),e?.throwOnError)throw ut;return[I,{},ut]}})(),S=l.options.loaderDeps?.({search:m})??"",R=S?JSON.stringify(S):"",{interpolatedPath:v,usedParams:C}=ee({path:l.fullPath,params:r,decodeCharMap:this.pathParamsDecodeCharMap}),w=l.id+v+R,L=this.getMatch(w),y=this.state.matches.find(I=>I.routeId===l.id),_=L?._strictParams??C;let M;if(!L)if(l.options.skipRouteOnParseError)for(const I in C)I in c&&(_[I]=c[I]);else{const I=l.options.params?.parse??l.options.parseParams;if(I)try{Object.assign(_,I(_))}catch(A){if(N(A)||U(A)?M=A:M=new Ts(A.message,{cause:A}),e?.throwOnError)throw M}}Object.assign(r,_);const k=y?"stay":"enter";let E;if(L)E={...L,cause:k,params:y?$(y.params,r):r,_strictParams:_,search:$(y?y.search:L.search,m),_strictSearch:g};else{const I=l.options.loader||l.options.beforeLoad||l.lazyFn||po(l)?"pending":"success";E={id:w,ssr:this.isServer?void 0:l.options.ssr,index:d,routeId:l.id,params:y?$(y.params,r):r,_strictParams:_,pathname:v,updatedAt:Date.now(),search:y?$(y.search,m):m,_strictSearch:g,searchError:void 0,status:I,isFetching:!1,error:void 0,paramsError:M,__routeContext:void 0,_nonReactive:{loadPromise:ct()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:k,loaderDeps:y?$(y.loaderDeps,S):S,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:l.options.staticData||{},fullPath:l.fullPath}}e?.preload||(E.globalNotFound=u===l.id),E.searchError=P;const F=h(p);E.context={...F,...E.__routeContext,...E.__beforeLoadContext},f.push(E)}),f.forEach((l,d)=>{const p=this.looseRoutesById[l.routeId];if(!this.getMatch(l.id)&&e?._buildLocation!==!0){const g=f[d-1],P=h(g);if(p.options.context){const S={deps:l.loaderDeps,params:l.params,context:P??{},location:o,navigate:R=>this.navigate({...R,_fromLocation:o}),buildLocation:this.buildLocation,cause:l.cause,abortController:l.abortController,preload:!!l.preload,matches:f};l.__routeContext=p.options.context(S)??void 0}l.context={...P,...l.__routeContext,...l.__beforeLoadContext}}}),f}}class Ut extends Error{}class Ts extends Error{}function Is(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function fe(t,o){if(t==null)return{};if("~standard"in t){const e=t["~standard"].validate(o);if(e instanceof Promise)throw new Ut("Async validation not supported");if(e.issues)throw new Ut(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in t?t.parse(o):typeof t=="function"?t(o):{}}function Os({pathname:t,routesById:o,processedTree:e}){const s={},n=et(t);let r,c;const i=es(n,e,!0);return i&&(r=i.route,Object.assign(s,i.rawParams),c=Object.assign({},i.parsedParams)),{matchedRoutes:i?.branch||[o[D]],routeParams:s,foundRoute:r,parsedParams:c}}function Fs({search:t,dest:o,destRoutes:e,_includeValidateSearch:s}){const n=e.reduce((i,a)=>{const u=[];if("search"in a.options)a.options.search?.middlewares&&u.push(...a.options.search.middlewares);else if(a.options.preSearchFilters||a.options.postSearchFilters){const f=({search:h,next:l})=>{let d=h;"preSearchFilters"in a.options&&a.options.preSearchFilters&&(d=a.options.preSearchFilters.reduce((m,g)=>g(m),h));const p=l(d);return"postSearchFilters"in a.options&&a.options.postSearchFilters?a.options.postSearchFilters.reduce((m,g)=>g(m),p):p};u.push(f)}if(s&&a.options.validateSearch){const f=({search:h,next:l})=>{const d=l(h);try{return{...d,...fe(a.options.validateSearch,d)??void 0}}catch{return d}};u.push(f)}return i.concat(u)},[])??[],r=({search:i})=>o.search?o.search===!0?i:q(o.search,i):{};n.push(r);const c=(i,a)=>{if(i>=n.length)return a;const u=n[i];return u({search:a,next:h=>c(i+1,h)})};return c(0,t)}const Bs="Error preloading route! ";class yo{constructor(o){if(this.init=e=>{this.originalIndex=e.originalIndex;const s=this.options,n=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),n?this._path=D:this.parentRoute||K(!1);let r=n?D:s?.path;r&&r!=="/"&&(r=no(r));const c=s?.id||r;let i=n?D:Et([this.parentRoute.id===D?"":this.parentRoute.id,c]);r===D&&(r="/"),i!==D&&(i=Et(["/",i]));const a=i===D?"/":Et([this.parentRoute.fullPath,r]);this._path=r,this._id=i,this._fullPath=a,this._to=a},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.redirect=e=>ao({from:this.fullPath,...e}),this.options=o||{},this.isRoot=!o?.getParentRoute,o?.id&&o?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class As extends yo{constructor(o){super(o)}}const St=typeof window<"u"?b.useLayoutEffect:b.useEffect;function se(t){const o=b.useRef({value:t,prev:null}),e=o.current.value;return t!==e&&(o.current={value:t,prev:e}),o.current.prev}function js(t,o,e={},s={}){b.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const n=new IntersectionObserver(([r])=>{o(r)},e);return n.observe(t.current),()=>{n.disconnect()}},[o,e,s.disabled,t])}function Ds(t){const o=b.useRef(null);return b.useImperativeHandle(t,()=>o.current,[]),o}function Pe(t){const o=t.errorComponent??zt;return x.jsx(Ns,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:e,reset:s})=>e?b.createElement(o,{error:e,reset:s}):t.children})}class Ns extends b.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(o){return{resetKey:o.getResetKey()}}static getDerivedStateFromError(o){return{error:o}}reset(){this.setState({error:null})}componentDidUpdate(o,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(o,e){this.props.onCatch&&this.props.onCatch(o,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function zt({error:t}){const[o,e]=b.useState(!1);return x.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[x.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),x.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(s=>!s),children:o?"Hide Error":"Show Error"})]}),x.jsx("div",{style:{height:".25rem"}}),o?x.jsx("div",{children:x.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?x.jsx("code",{children:t.message}):null})}):null]})}function $s({children:t,fallback:o=null}){return Us()?x.jsx(Rt.Fragment,{children:t}):x.jsx(Rt.Fragment,{children:o})}function Us(){return Rt.useSyncExternalStore(Ws,()=>!0,()=>!1)}function Ws(){return()=>{}}var ne={exports:{}},re={},ie={exports:{}},ae={};var Ve;function Vs(){if(Ve)return ae;Ve=1;var t=pe();function o(h,l){return h===l&&(h!==0||1/h===1/l)||h!==h&&l!==l}var e=typeof Object.is=="function"?Object.is:o,s=t.useState,n=t.useEffect,r=t.useLayoutEffect,c=t.useDebugValue;function i(h,l){var d=l(),p=s({inst:{value:d,getSnapshot:l}}),m=p[0].inst,g=p[1];return r(function(){m.value=d,m.getSnapshot=l,a(m)&&g({inst:m})},[h,d,l]),n(function(){return a(m)&&g({inst:m}),h(function(){a(m)&&g({inst:m})})},[h]),c(d),d}function a(h){var l=h.getSnapshot;h=h.value;try{var d=l();return!e(h,d)}catch{return!0}}function u(h,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:i;return ae.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,ae}var ze;function zs(){return ze||(ze=1,ie.exports=Vs()),ie.exports}var He;function Hs(){if(He)return re;He=1;var t=pe(),o=zs();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var s=typeof Object.is=="function"?Object.is:e,n=o.useSyncExternalStore,r=t.useRef,c=t.useEffect,i=t.useMemo,a=t.useDebugValue;return re.useSyncExternalStoreWithSelector=function(u,f,h,l,d){var p=r(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=i(function(){function P(w){if(!S){if(S=!0,R=w,w=l(w),d!==void 0&&m.hasValue){var L=m.value;if(d(L,w))return v=L}return v=w}if(L=v,s(R,w))return L;var y=l(w);return d!==void 0&&d(L,y)?(R=w,L):(R=w,v=y)}var S=!1,R,v,C=h===void 0?null:h;return[function(){return P(f())},C===null?void 0:function(){return P(C())}]},[f,h,l,d]);var g=n(u,p[0],p[1]);return c(function(){m.hasValue=!0,m.value=g},[g]),a(g),g},re}var Ke;function Ks(){return Ke||(Ke=1,ne.exports=Hs()),ne.exports}var Gs=Ks();function qs(t,o=s=>s,e={}){const s=e.equal??Js;return Gs.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,o,s)}function Js(t,o){if(Object.is(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;if(t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(const[s,n]of t)if(!o.has(s)||!Object.is(n,o.get(s)))return!1;return!0}if(t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(const s of t)if(!o.has(s))return!1;return!0}if(t instanceof Date&&o instanceof Date)return t.getTime()===o.getTime();const e=Ge(t);if(e.length!==Ge(o).length)return!1;for(let s=0;s<e.length;s++)if(!Object.prototype.hasOwnProperty.call(o,e[s])||!Object.is(t[e[s]],o[e[s]]))return!1;return!0}function Ge(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const ce=b.createContext(null);function vo(){return typeof document>"u"?ce:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ce,ce)}function j(t){const o=b.useContext(vo());return t?.warn,o}function B(t){const o=j({warn:t?.router===void 0}),e=t?.router||o,s=b.useRef(void 0);return qs(e.__store,n=>{if(t?.select){if(t.structuralSharing??e.options.defaultStructuralSharing){const r=$(s.current,t.select(n));return s.current=r,r}return t.select(n)}return n})}const Ht=b.createContext(void 0),Ys=b.createContext(void 0);function z(t){const o=b.useContext(t.from?Ys:Ht);return B({select:s=>{const n=s.matches.find(r=>t.from?t.from===r.routeId:r.id===o);if(K(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n},structuralSharing:t.structuralSharing})}function _e(t){return z({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:o=>t.select?t.select(o.loaderData):o.loaderData})}function Re(t){const{select:o,...e}=t;return z({...e,select:s=>o?o(s.loaderDeps):s.loaderDeps})}function we(t){return z({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:o=>{const e=t.strict===!1?o.params:o._strictParams;return t.select?t.select(e):e}})}function xe(t){return z({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:o=>t.select?t.select(o.search):o.search})}function Kt(t){const o=j();return b.useCallback(e=>o.navigate({...e,from:e.from??t?.from}),[t?.from,o])}function Cn(t){const o=j(),e=Kt(),s=b.useRef(null);return St(()=>{s.current!==t&&(e(t),s.current=t)},[o,t,e]),null}var Xs=Mo();function Zs(t,o){const e=j(),[s,n]=b.useState(!1),r=b.useRef(!1),c=Ds(o),{activeProps:i,inactiveProps:a,activeOptions:u,to:f,preload:h,preloadDelay:l,hashScrollIntoView:d,replace:p,startTransition:m,resetScroll:g,viewTransition:P,children:S,target:R,disabled:v,style:C,className:w,onClick:L,onFocus:y,onMouseEnter:_,onMouseLeave:M,onTouchStart:k,ignoreBlocker:E,params:F,search:I,hash:A,state:V,mask:ut,reloadDocument:Pn,unsafeRelative:_n,from:Rn,_fromLocation:wn,...Le}=t,Ro=B({select:T=>T.location.search,structuralSharing:!0}),Ce=t.from,ht=b.useMemo(()=>({...t,from:Ce}),[e,Ro,Ce,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),H=b.useMemo(()=>e.buildLocation({...ht}),[e,ht]),dt=b.useMemo(()=>{if(v)return;let T=H.maskedLocation?H.maskedLocation.url.href:H.url.href,O=!1;return e.origin&&(T.startsWith(e.origin)?T=e.history.createHref(T.replace(e.origin,""))||"/":O=!0),{href:T,external:O}},[v,H.maskedLocation,H.url,e.origin,e.history]),xt=b.useMemo(()=>{if(dt?.external)return At(dt.href)?void 0:dt.href;try{return new URL(f),At(f)?void 0:f}catch{}},[f,dt]),rt=t.reloadDocument||xt?!1:h??e.options.defaultPreload,Gt=l??e.options.defaultPreloadDelay??0,qt=B({select:T=>{if(xt)return!1;if(u?.exact){if(!as(T.location.pathname,H.pathname,e.basepath))return!1}else{const O=Dt(T.location.pathname,e.basepath),W=Dt(H.pathname,e.basepath);if(!(O.startsWith(W)&&(O.length===W.length||O[W.length]==="/")))return!1}return(u?.includeSearch??!0)&&!tt(T.location.search,H.search,{partial:!u?.exact,ignoreUndefined:!u?.explicitUndefined})?!1:u?.includeHash?T.location.hash===H.hash:!0}}),Z=b.useCallback(()=>{e.preloadRoute({...ht}).catch(T=>{console.warn(T),console.warn(Bs)})},[e,ht]),wo=b.useCallback(T=>{T?.isIntersecting&&Z()},[Z]);js(c,wo,sn,{disabled:!!v||rt!=="viewport"}),b.useEffect(()=>{r.current||!v&&rt==="render"&&(Z(),r.current=!0)},[v,Z,rt]);const xo=T=>{const O=T.currentTarget.getAttribute("target"),W=R!==void 0?R:O;if(!v&&!nn(T)&&!T.defaultPrevented&&(!W||W==="_self")&&T.button===0){T.preventDefault(),Xs.flushSync(()=>{n(!0)});const Ee=e.subscribe("onResolved",()=>{Ee(),n(!1)});e.navigate({...ht,replace:p,resetScroll:g,hashScrollIntoView:d,startTransition:m,viewTransition:P,ignoreBlocker:E})}};if(xt)return{...Le,ref:c,href:xt,...S&&{children:S},...R&&{target:R},...v&&{disabled:v},...C&&{style:C},...w&&{className:w},...L&&{onClick:L},...y&&{onFocus:y},..._&&{onMouseEnter:_},...M&&{onMouseLeave:M},...k&&{onTouchStart:k}};const be=T=>{v||rt&&Z()},Lo=be,Co=T=>{if(!(v||!rt))if(!Gt)Z();else{const O=T.target;if(gt.has(O))return;const W=setTimeout(()=>{gt.delete(O),Z()},Gt);gt.set(O,W)}},bo=T=>{if(v||!rt||!Gt)return;const O=T.target,W=gt.get(O);W&&(clearTimeout(W),gt.delete(O))},Lt=qt?q(i,{})??Qs:le,Ct=qt?le:q(a,{})??le,Me=[w,Lt.className,Ct.className].filter(Boolean).join(" "),ke=(C||Lt.style||Ct.style)&&{...C,...Lt.style,...Ct.style};return{...Le,...Lt,...Ct,href:dt?.href,ref:c,onClick:yt([L,xo]),onFocus:yt([y,be]),onMouseEnter:yt([_,Co]),onMouseLeave:yt([M,bo]),onTouchStart:yt([k,Lo]),disabled:!!v,target:R,...ke&&{style:ke},...Me&&{className:Me},...v&&tn,...qt&&en,...s&&on}}const le={},Qs={className:"active"},tn={role:"link","aria-disabled":!0},en={"data-status":"active","aria-current":"page"},on={"data-transitioning":"transitioning"},gt=new WeakMap,sn={rootMargin:"100px"},yt=t=>o=>{for(const e of t)if(e){if(o.defaultPrevented)return;e(o)}},So=b.forwardRef((t,o)=>{const{_asChild:e,...s}=t,{type:n,ref:r,...c}=Zs(s,o),i=typeof s.children=="function"?s.children({isActive:c["data-status"]==="active"}):s.children;return e===void 0&&delete c.disabled,b.createElement(e||"a",{...c,ref:r},i)});function nn(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class rn extends yo{constructor(o){super(o),this.useMatch=e=>z({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>z({...e,from:this.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>xe({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>we({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>Re({...e,from:this.id}),this.useLoaderData=e=>_e({...e,from:this.id}),this.useNavigate=()=>Kt({from:this.fullPath}),this.Link=Rt.forwardRef((e,s)=>x.jsx(So,{ref:s,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function an(t){return new rn(t)}class cn extends As{constructor(o){super(o),this.useMatch=e=>z({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>z({...e,from:this.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>xe({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>we({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>Re({...e,from:this.id}),this.useLoaderData=e=>_e({...e,from:this.id}),this.useNavigate=()=>Kt({from:this.fullPath}),this.Link=Rt.forwardRef((e,s)=>x.jsx(So,{ref:s,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function bn(t){return new cn(t)}function qe(t){return typeof t=="object"?new Je(t,{silent:!0}).createRoute(t):new Je(t,{silent:!0}).createRoute}class Je{constructor(o,e){this.path=o,this.createRoute=s=>{this.silent;const n=an(s);return n.isRoot=!1,n},this.silent=e?.silent}}class Ye{constructor(o){this.useMatch=e=>z({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>z({from:this.options.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>xe({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>we({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>Re({...e,from:this.options.id}),this.useLoaderData=e=>_e({...e,from:this.options.id}),this.useNavigate=()=>{const e=j();return Kt({from:e.routesById[this.options.id].fullPath})},this.options=o,this.$$typeof=Symbol.for("react.memo")}}function Xe(t){return typeof t=="object"?new Ye(t):o=>new Ye({id:t,...o})}function ln(){const t=j(),o=b.useRef({router:t,mounted:!1}),[e,s]=b.useState(!1),{hasPendingMatches:n,isLoading:r}=B({select:h=>({isLoading:h.isLoading,hasPendingMatches:h.matches.some(l=>l.status==="pending")}),structuralSharing:!0}),c=se(r),i=r||e||n,a=se(i),u=r||n,f=se(u);return t.startTransition=h=>{s(!0),b.startTransition(()=>{h(),s(!1)})},b.useEffect(()=>{const h=t.history.subscribe(t.load),l=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return et(t.latestLocation.publicHref)!==et(l.publicHref)&&t.commitLocation({...l,replace:!0}),()=>{h()}},[t,t.history]),St(()=>{if(typeof window<"u"&&t.ssr||o.current.router===t&&o.current.mounted)return;o.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(l){console.error(l)}})()},[t]),St(()=>{c&&!r&&t.emit({type:"onLoad",...ot(t.state)})},[c,t,r]),St(()=>{f&&!u&&t.emit({type:"onBeforeRouteMount",...ot(t.state)})},[u,f,t]),St(()=>{if(a&&!i){const h=ot(t.state);t.emit({type:"onResolved",...h}),t.__store.setState(l=>({...l,status:"idle",resolvedLocation:l.location})),h.hrefChanged&&ms(t)}},[i,a,t]),null}function un(t){const o=B({select:e=>`not-found-${e.location.pathname}-${e.status}`});return x.jsx(Pe,{getResetKey:()=>o,onCatch:(e,s)=>{if(N(e))t.onCatch?.(e,s);else throw e},errorComponent:({error:e})=>{if(N(e))return t.fallback?.(e);throw e},children:t.children})}function hn(){return x.jsx("p",{children:"Not Found"})}function it(t){return x.jsx(x.Fragment,{children:t.children})}function Po(t,o,e){return o.options.notFoundComponent?x.jsx(o.options.notFoundComponent,{...e}):t.options.defaultNotFoundComponent?x.jsx(t.options.defaultNotFoundComponent,{...e}):x.jsx(hn,{})}function dn({children:t}){const o=j();return o.isServer?x.jsx("script",{nonce:o.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:t+";document.currentScript.remove()"}}):null}function fn(){const t=j();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const e=(t.options.getScrollRestorationKey||he)(t.latestLocation),s=e!==he(t.latestLocation)?e:void 0,n={storageKey:Nt,shouldScrollRestoration:!0};return s&&(n.key=s),x.jsx(dn,{children:`(${io.toString()})(${Ko(JSON.stringify(n))})`})}const _o=b.memo(function({matchId:o}){const e=j(),s=B({select:P=>{const S=P.matches.find(R=>R.id===o);return K(S),{routeId:S.routeId,ssr:S.ssr,_displayPending:S._displayPending}},structuralSharing:!0}),n=e.routesById[s.routeId],r=n.options.pendingComponent??e.options.defaultPendingComponent,c=r?x.jsx(r,{}):null,i=n.options.errorComponent??e.options.defaultErrorComponent,a=n.options.onCatch??e.options.defaultOnCatch,u=n.isRoot?n.options.notFoundComponent??e.options.notFoundRoute?.options.component:n.options.notFoundComponent,f=s.ssr===!1||s.ssr==="data-only",h=(!n.isRoot||n.options.wrapInSuspense||f)&&(n.options.wrapInSuspense??r??(n.options.errorComponent?.preload||f))?b.Suspense:it,l=i?Pe:it,d=u?un:it,p=B({select:P=>P.loadedAt}),m=B({select:P=>{const S=P.matches.findIndex(R=>R.id===o);return P.matches[S-1]?.routeId}}),g=n.isRoot?n.options.shellComponent??it:it;return x.jsxs(g,{children:[x.jsx(Ht.Provider,{value:o,children:x.jsx(h,{fallback:c,children:x.jsx(l,{getResetKey:()=>p,errorComponent:i||zt,onCatch:(P,S)=>{if(N(P))throw P;a?.(P,S)},children:x.jsx(d,{fallback:P=>{if(!u||P.routeId&&P.routeId!==s.routeId||!P.routeId&&!n.isRoot)throw P;return b.createElement(u,P)},children:f||s._displayPending?x.jsx($s,{fallback:c,children:x.jsx(Ze,{matchId:o})}):x.jsx(Ze,{matchId:o})})})})}),m===D&&e.options.scrollRestoration?x.jsxs(x.Fragment,{children:[x.jsx(pn,{}),x.jsx(fn,{})]}):null]})});function pn(){const t=j(),o=b.useRef(void 0);return x.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(o.current===void 0||o.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ot(t.state)}),o.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const Ze=b.memo(function({matchId:o}){const e=j(),{match:s,key:n,routeId:r}=B({select:a=>{const u=a.matches.find(p=>p.id===o),f=u.routeId,l=(e.routesById[f].options.remountDeps??e.options.defaultRemountDeps)?.({routeId:f,loaderDeps:u.loaderDeps,params:u._strictParams,search:u._strictSearch});return{key:l?JSON.stringify(l):void 0,routeId:f,match:{id:u.id,status:u.status,error:u.error,invalid:u.invalid,_forcePending:u._forcePending,_displayPending:u._displayPending}}},structuralSharing:!0}),c=e.routesById[r],i=b.useMemo(()=>{const a=c.options.component??e.options.defaultComponent;return a?x.jsx(a,{},n):x.jsx(mn,{})},[n,c.options.component,e.options.defaultComponent]);if(s._displayPending)throw e.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw e.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const a=c.options.pendingMinMs??e.options.defaultPendingMinMs;if(a){const u=e.getMatch(s.id);if(u&&!u._nonReactive.minPendingPromise&&!e.isServer){const f=ct();u._nonReactive.minPendingPromise=f,setTimeout(()=>{f.resolve(),u._nonReactive.minPendingPromise=void 0},a)}}throw e.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return K(N(s.error)),Po(e,c,s.error);if(s.status==="redirected")throw K(U(s.error)),e.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(e.isServer){const a=(c.options.errorComponent??e.options.defaultErrorComponent)||zt;return x.jsx(a,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return i}),mn=b.memo(function(){const o=j(),e=b.useContext(Ht),s=B({select:u=>u.matches.find(f=>f.id===e)?.routeId}),n=o.routesById[s],r=B({select:u=>{const h=u.matches.find(l=>l.id===e);return K(h),h.globalNotFound}}),c=B({select:u=>{const f=u.matches,h=f.findIndex(l=>l.id===e);return f[h+1]?.id}}),i=o.options.defaultPendingComponent?x.jsx(o.options.defaultPendingComponent,{}):null;if(r)return Po(o,n,void 0);if(!c)return null;const a=x.jsx(_o,{matchId:c});return s===D?x.jsx(b.Suspense,{fallback:i,children:a}):a});function gn(){const t=j(),e=t.routesById[D].options.pendingComponent??t.options.defaultPendingComponent,s=e?x.jsx(e,{}):null,n=t.isServer||typeof document<"u"&&t.ssr?it:b.Suspense,r=x.jsxs(n,{fallback:s,children:[!t.isServer&&x.jsx(ln,{}),x.jsx(yn,{})]});return t.options.InnerWrap?x.jsx(t.options.InnerWrap,{children:r}):r}function yn(){const t=j(),o=B({select:n=>n.matches[0]?.id}),e=B({select:n=>n.loadedAt}),s=o?x.jsx(_o,{matchId:o}):null;return x.jsx(Ht.Provider,{value:o,children:t.options.disableGlobalCatchBoundary?s:x.jsx(Pe,{getResetKey:()=>e,errorComponent:zt,onCatch:n=>{n.message||n.toString()},children:s})})}const Mn=t=>new vn(t);class vn extends Es{constructor(o){super(o)}}typeof globalThis<"u"?(globalThis.createFileRoute=qe,globalThis.createLazyFileRoute=Xe):typeof window<"u"&&(window.createFileRoute=qe,window.createLazyFileRoute=Xe);function Sn({router:t,children:o,...e}){Object.keys(e).length>0&&t.update({...t.options,...e,context:{...t.options.context,...e.context}});const s=vo(),n=x.jsx(s.Provider,{value:t,children:o});return t.options.Wrap?x.jsx(t.options.Wrap,{children:n}):n}function kn({router:t,...o}){return x.jsx(Sn,{router:t,...o,children:x.jsx(gn,{})})}function En(t){return B({select:o=>o.location})}export{So as L,Cn as N,mn as O,kn as R,x as a,Xs as b,we as c,bn as d,an as e,Mn as f,Ln as j,b as r,En as u};
