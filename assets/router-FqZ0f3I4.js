import{g as so,r as ve,a as Fo}from"./react-vendor-Cgg2GOmP.js";function Bo(t,o){for(var e=0;e<o.length;e++){const s=o[e];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const r=Object.getOwnPropertyDescriptor(s,n);r&&Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Zt={exports:{}},mt={};var Fe;function Ao(){if(Fe)return mt;Fe=1;var t=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function e(s,n,r){var a=null;if(r!==void 0&&(a=""+r),n.key!==void 0&&(a=""+n.key),"key"in n){r={};for(var i in n)i!=="key"&&(r[i]=n[i])}else r=n;return n=r.ref,{$$typeof:t,type:s,key:a,ref:n!==void 0?n:null,props:r}}return mt.Fragment=o,mt.jsx=e,mt.jsxs=e,mt}var Be;function jo(){return Be||(Be=1,Zt.exports=Ao()),Zt.exports}var x=jo();const Do=so(x),En=Bo({__proto__:null,default:Do},[x]);var M=ve();const xt=so(M),pe=new WeakMap,No=new WeakMap,Bt={current:[]};let Qt=!1,Rt=0;const Pt=new Set,Et=new Map;function no(t){for(const o of t){if(Bt.current.includes(o))continue;Bt.current.push(o),o.recompute();const e=No.get(o);if(e)for(const s of e){const n=pe.get(s);n?.length&&no(n)}}}function Uo(t){const o={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(o)}function $o(t){const o={prevVal:t.prevState,currentVal:t.state};for(const e of t.listeners)e(o)}function ro(t){if(Rt>0&&!Et.has(t)&&Et.set(t,t.prevState),Pt.add(t),!(Rt>0)&&!Qt)try{for(Qt=!0;Pt.size>0;){const o=Array.from(Pt);Pt.clear();for(const e of o){const s=Et.get(e)??e.prevState;e.prevState=s,Uo(e)}for(const e of o){const s=pe.get(e);s&&(Bt.current.push(e),no(s))}for(const e of o){const s=pe.get(e);if(s)for(const n of s)$o(n)}}}finally{Qt=!1,Bt.current=[],Et.clear()}}function wt(t){Rt++;try{t()}finally{if(Rt--,Rt===0){const o=Pt.values().next().value;o&&ro(o)}}}function Vo(t){return typeof t=="function"}class Wo{constructor(o,e){this.listeners=new Set,this.subscribe=s=>{var n,r;this.listeners.add(s);const a=(r=(n=this.options)==null?void 0:n.onSubscribe)==null?void 0:r.call(n,s,this);return()=>{this.listeners.delete(s),a?.()}},this.prevState=o,this.state=o,this.options=e}setState(o){var e,s,n;this.prevState=this.state,(e=this.options)!=null&&e.updateFn?this.state=this.options.updateFn(this.prevState)(o):Vo(o)?this.state=o(this.prevState):this.state=o,(n=(s=this.options)==null?void 0:s.onUpdate)==null||n.call(s),ro(this)}}const Q="__TSR_index",Ae="popstate",je="beforeunload";function zo(t){let o=t.getLocation();const e=new Set,s=(a,i)=>{o=t.getLocation(),e.forEach(c=>c({location:o,action:a,navigateOpts:i}))},n=a=>{t.notifyOnIndexChange??!0?s(a):o=t.getLocation()},r=async({task:a,navigateOpts:i,...c})=>{if(i?.ignoreBlocker??!1)return a(),{type:"SUCCESS"};const f=t.getBlockers?.()??[],l=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&f.length&&l)for(const h of f){const d=At(c.path,c.state);if(await h.blockerFn({currentLocation:o,nextLocation:d,action:c.type}))return t.onBlocked?.(),{type:"BLOCKED"}}return a(),{type:"SUCCESS"}};return{get location(){return o},get length(){return t.getLength()},subscribers:e,subscribe:a=>(e.add(a),()=>{e.delete(a)}),push:(a,i,c)=>{const u=o.state[Q];return i=De(u+1,i),r({task:()=>{t.pushState(a,i),s({type:"PUSH"},c)},navigateOpts:c,type:"PUSH",path:a,state:i})},replace:(a,i,c)=>{const u=o.state[Q];return i=De(u,i),r({task:()=>{t.replaceState(a,i),s({type:"REPLACE"},c)},navigateOpts:c,type:"REPLACE",path:a,state:i})},go:(a,i)=>{r({task:()=>{t.go(a),n({type:"GO",index:a})},navigateOpts:i,type:"GO"})},back:a=>{r({task:()=>{t.back(a?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:a,type:"BACK"})},forward:a=>{r({task:()=>{t.forward(a?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:a,type:"FORWARD"})},canGoBack:()=>o.state[Q]!==0,createHref:a=>t.createHref(a),block:a=>{if(!t.setBlockers)return()=>{};const i=t.getBlockers?.()??[];return t.setBlockers([...i,a]),()=>{const c=t.getBlockers?.()??[];t.setBlockers?.(c.filter(u=>u!==a))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function De(t,o){o||(o={});const e=Se();return{...o,key:e,__TSR_key:e,[Q]:t}}function Ho(t){const o=typeof document<"u"?window:void 0,e=o.history.pushState,s=o.history.replaceState;let n=[];const r=()=>n,a=v=>n=v,i=(v=>v),c=(()=>At(`${o.location.pathname}${o.location.search}${o.location.hash}`,o.history.state));if(!o.history.state?.__TSR_key&&!o.history.state?.key){const v=Se();o.history.replaceState({[Q]:0,key:v,__TSR_key:v},"")}let u=c(),f,l=!1,h=!1,d=!1,p=!1;const g=()=>u;let m,y;const _=()=>{m&&(C._ignoreSubscribers=!0,(m.isPush?o.history.pushState:o.history.replaceState)(m.state,"",m.href),C._ignoreSubscribers=!1,m=void 0,y=void 0,f=void 0)},S=(v,w,b)=>{const k=i(w);y||(f=u),u=At(w,b),m={href:k,state:b,isPush:m?.isPush||v==="push"},y||(y=Promise.resolve().then(()=>_()))},R=v=>{u=c(),C.notify({type:v})},L=async()=>{if(h){h=!1;return}const v=c(),w=v.state[Q]-u.state[Q],b=w===1,k=w===-1,E=!b&&!k||l;l=!1;const O=E?"GO":k?"BACK":"FORWARD",I=E?{type:"GO",index:w}:{type:k?"BACK":"FORWARD"};if(d)d=!1;else{const $=r();if(typeof document<"u"&&$.length){for(const F of $)if(await F.blockerFn({currentLocation:u,nextLocation:v,action:O})){h=!0,o.history.go(1),C.notify(I);return}}}u=c(),C.notify(I)},P=v=>{if(p){p=!1;return}let w=!1;const b=r();if(typeof document<"u"&&b.length)for(const k of b){const E=k.enableBeforeUnload??!0;if(E===!0){w=!0;break}if(typeof E=="function"&&E()===!0){w=!0;break}}if(w)return v.preventDefault(),v.returnValue=""},C=zo({getLocation:g,getLength:()=>o.history.length,pushState:(v,w)=>S("push",v,w),replaceState:(v,w)=>S("replace",v,w),back:v=>(v&&(d=!0),p=!0,o.history.back()),forward:v=>{v&&(d=!0),p=!0,o.history.forward()},go:v=>{l=!0,o.history.go(v)},createHref:v=>i(v),flush:_,destroy:()=>{o.history.pushState=e,o.history.replaceState=s,o.removeEventListener(je,P,{capture:!0}),o.removeEventListener(Ae,L)},onBlocked:()=>{f&&u!==f&&(u=f)},getBlockers:r,setBlockers:a,notifyOnIndexChange:!1});return o.addEventListener(je,P,{capture:!0}),o.addEventListener(Ae,L),o.history.pushState=function(...v){const w=e.apply(o.history,v);return C._ignoreSubscribers||R("PUSH"),w},o.history.replaceState=function(...v){const w=s.apply(o.history,v);return C._ignoreSubscribers||R("REPLACE"),w},C}function Ko(t){let o=t.replace(/[\x00-\x1f\x7f]/g,"");return o.startsWith("//")&&(o="/"+o.replace(/^\/+/,"")),o}function At(t,o){const e=Ko(t),s=e.indexOf("#"),n=e.indexOf("?"),r=Se();return{href:e,pathname:e.substring(0,s>0?n>0?Math.min(s,n):s:n>0?n:e.length),hash:s>-1?e.substring(s):"",search:n>-1?e.slice(n,s===-1?void 0:s):"",state:o||{[Q]:0,key:r,__TSR_key:r}}}function Se(){return(Math.random()+1).toString(36).substring(7)}function jt(t){return t[t.length-1]}function Go(t){return typeof t=="function"}function X(t,o){return Go(t)?t(o):t}const qo=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;function W(t,o,e=0){if(t===o)return t;if(e>500)return o;const s=o,n=Ve(t)&&Ve(s);if(!n&&!(Dt(t)&&Dt(s)))return s;const r=n?t:Ue(t);if(!r)return s;const a=n?s:Ue(s);if(!a)return s;const i=r.length,c=a.length,u=n?new Array(c):{};let f=0;for(let l=0;l<c;l++){const h=n?l:a[l],d=t[h],p=s[h];if(d===p){u[h]=d,(n?l<i:qo.call(t,h))&&f++;continue}if(d===null||p===null||typeof d!="object"||typeof p!="object"){u[h]=p;continue}const g=W(d,p,e+1);u[h]=g,g===d&&f++}return i===c&&f===i?t:u}function Ue(t){const o=Object.getOwnPropertyNames(t);for(const n of o)if(!Ne.call(t,n))return!1;const e=Object.getOwnPropertySymbols(t);if(e.length===0)return o;const s=o;for(const n of e){if(!Ne.call(t,n))return!1;s.push(n)}return s}function Dt(t){if(!$e(t))return!1;const o=t.constructor;if(typeof o>"u")return!0;const e=o.prototype;return!(!$e(e)||!e.hasOwnProperty("isPrototypeOf"))}function $e(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ve(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nt(t,o,e){if(t===o)return!0;if(typeof t!=typeof o)return!1;if(Array.isArray(t)&&Array.isArray(o)){if(t.length!==o.length)return!1;for(let s=0,n=t.length;s<n;s++)if(!nt(t[s],o[s],e))return!1;return!0}if(Dt(t)&&Dt(o)){const s=e?.ignoreUndefined??!0;if(e?.partial){for(const a in o)if((!s||o[a]!==void 0)&&!nt(t[a],o[a],e))return!1;return!0}let n=0;if(!s)n=Object.keys(t).length;else for(const a in t)t[a]!==void 0&&n++;let r=0;for(const a in o)if((!s||o[a]!==void 0)&&(r++,r>n||!nt(t[a],o[a],e)))return!1;return n===r}return!1}function ht(t){let o,e;const s=new Promise((n,r)=>{o=n,e=r});return s.status="pending",s.resolve=n=>{s.status="resolved",s.value=n,o(n),t?.(n)},s.reject=n=>{s.status="rejected",e(n)},s}function tt(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function Jo(t){return t.replace(/[\x00-\x1f\x7f]/g,"")}function We(t){let o;try{o=decodeURI(t)}catch{o=t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}return Jo(o)}const io=["http:","https:","mailto:","tel:"];function Nt(t){if(!t)return!1;try{const o=new URL(t);return!io.includes(o.protocol)}catch{return!1}}const Yo={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},Xo=/[&><\u2028\u2029]/g;function Zo(t){return t.replace(Xo,o=>Yo[o])}function te(t,o){if(!t)return t;const e=/%25|%5C/gi;let s=0,n="",r;for(;(r=e.exec(t))!==null;)n+=We(t.slice(s,r.index))+r[0],s=e.lastIndex;return n=n+We(s?t.slice(s):t),n.startsWith("//")&&(n="/"+n.replace(/^\/+/,"")),n}var Qo="Invariant failed";function J(t,o){if(!t)throw new Error(Qo)}function Ut(t){const o=new Map;let e,s;const n=r=>{r.next&&(r.prev?(r.prev.next=r.next,r.next.prev=r.prev,r.next=void 0,s&&(s.next=r,r.prev=s)):(r.next.prev=void 0,e=r.next,r.next=void 0,s&&(r.prev=s,s.next=r)),s=r)};return{get(r){const a=o.get(r);if(a)return n(a),a.value},set(r,a){if(o.size>=t&&e){const c=e;o.delete(c.key),c.next&&(e=c.next,c.next.prev=void 0),c===s&&(s=void 0)}const i=o.get(r);if(i)i.value=a,n(i);else{const c={key:r,value:a,prev:s};s&&(s.next=c),s=c,e||(e=c),o.set(r,c)}},clear(){o.clear(),e=void 0,s=void 0}}}const dt=0,it=1,at=2,Lt=3,ot=4,ao=5,ts=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,es=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,os=/^([^{]*)\{\$\}([^}]*)$/;function Pe(t,o,e=new Uint16Array(6)){const s=t.indexOf("/",o),n=s===-1?t.length:s,r=t.substring(o,n);if(!r||!r.includes("$"))return e[0]=dt,e[1]=o,e[2]=o,e[3]=n,e[4]=n,e[5]=n,e;if(r==="$"){const u=t.length;return e[0]=at,e[1]=o,e[2]=o,e[3]=u,e[4]=u,e[5]=u,e}if(r.charCodeAt(0)===36)return e[0]=it,e[1]=o,e[2]=o+1,e[3]=n,e[4]=n,e[5]=n,e;const a=r.match(os);if(a){const f=a[1].length;return e[0]=at,e[1]=o+f,e[2]=o+f+1,e[3]=o+f+2,e[4]=o+f+3,e[5]=t.length,e}const i=r.match(es);if(i){const u=i[1],f=i[2],l=i[3],h=u.length;return e[0]=Lt,e[1]=o+h,e[2]=o+h+3,e[3]=o+h+3+f.length,e[4]=n-l.length,e[5]=n,e}const c=r.match(ts);if(c){const u=c[1],f=c[2],l=c[3],h=u.length;return e[0]=it,e[1]=o+h,e[2]=o+h+2,e[3]=o+h+2+f.length,e[4]=n-l.length,e[5]=n,e}return e[0]=dt,e[1]=o,e[2]=o,e[3]=n,e[4]=n,e[5]=n,e}function Ht(t,o,e,s,n,r,a){a?.(e);let i=s;{const c=e.fullPath??e.from,u=c.length,f=e.options?.caseSensitive??t,l=!!(e.options?.params?.parse&&e.options?.skipRouteOnParseError?.params);for(;i<u;){const d=Pe(c,i,o);let p;const g=i,m=d[5];switch(i=m+1,r++,d[0]){case dt:{const _=c.substring(d[2],d[3]);if(f){const S=n.static?.get(_);if(S)p=S;else{n.static??=new Map;const R=st(e.fullPath??e.from);R.parent=n,R.depth=r,p=R,n.static.set(_,R)}}else{const S=_.toLowerCase(),R=n.staticInsensitive?.get(S);if(R)p=R;else{n.staticInsensitive??=new Map;const L=st(e.fullPath??e.from);L.parent=n,L.depth=r,p=L,n.staticInsensitive.set(S,L)}}break}case it:{const _=c.substring(g,d[1]),S=c.substring(d[4],m),R=f&&!!(_||S),L=_?R?_:_.toLowerCase():void 0,P=S?R?S:S.toLowerCase():void 0,C=!l&&n.dynamic?.find(v=>!v.skipOnParamError&&v.caseSensitive===R&&v.prefix===L&&v.suffix===P);if(C)p=C;else{const v=oe(it,e.fullPath??e.from,R,L,P);p=v,v.depth=r,v.parent=n,n.dynamic??=[],n.dynamic.push(v)}break}case Lt:{const _=c.substring(g,d[1]),S=c.substring(d[4],m),R=f&&!!(_||S),L=_?R?_:_.toLowerCase():void 0,P=S?R?S:S.toLowerCase():void 0,C=!l&&n.optional?.find(v=>!v.skipOnParamError&&v.caseSensitive===R&&v.prefix===L&&v.suffix===P);if(C)p=C;else{const v=oe(Lt,e.fullPath??e.from,R,L,P);p=v,v.parent=n,v.depth=r,n.optional??=[],n.optional.push(v)}break}case at:{const _=c.substring(g,d[1]),S=c.substring(d[4],m),R=f&&!!(_||S),L=_?R?_:_.toLowerCase():void 0,P=S?R?S:S.toLowerCase():void 0,C=oe(at,e.fullPath??e.from,R,L,P);p=C,C.parent=n,C.depth=r,n.wildcard??=[],n.wildcard.push(C)}}n=p}if(l&&e.children&&!e.isRoot&&e.id&&e.id.charCodeAt(e.id.lastIndexOf("/")+1)===95){const d=st(e.fullPath??e.from);d.kind=ao,d.parent=n,r++,d.depth=r,n.pathless??=[],n.pathless.push(d),n=d}const h=(e.path||!e.children)&&!e.isRoot;if(h&&c.endsWith("/")){const d=st(e.fullPath??e.from);d.kind=ot,d.parent=n,r++,d.depth=r,n.index=d,n=d}n.parse=e.options?.params?.parse??null,n.skipOnParamError=l,n.parsingPriority=e.options?.skipRouteOnParseError?.priority??0,h&&!n.route&&(n.route=e,n.fullPath=e.fullPath??e.from)}if(e.children)for(const c of e.children)Ht(t,o,c,i,n,r,a)}function ee(t,o){if(t.skipOnParamError&&!o.skipOnParamError)return-1;if(!t.skipOnParamError&&o.skipOnParamError)return 1;if(t.skipOnParamError&&o.skipOnParamError&&(t.parsingPriority||o.parsingPriority))return o.parsingPriority-t.parsingPriority;if(t.prefix&&o.prefix&&t.prefix!==o.prefix){if(t.prefix.startsWith(o.prefix))return-1;if(o.prefix.startsWith(t.prefix))return 1}if(t.suffix&&o.suffix&&t.suffix!==o.suffix){if(t.suffix.endsWith(o.suffix))return-1;if(o.suffix.endsWith(t.suffix))return 1}return t.prefix&&!o.prefix?-1:!t.prefix&&o.prefix?1:t.suffix&&!o.suffix?-1:!t.suffix&&o.suffix?1:t.caseSensitive&&!o.caseSensitive?-1:!t.caseSensitive&&o.caseSensitive?1:0}function Y(t){if(t.pathless)for(const o of t.pathless)Y(o);if(t.static)for(const o of t.static.values())Y(o);if(t.staticInsensitive)for(const o of t.staticInsensitive.values())Y(o);if(t.dynamic?.length){t.dynamic.sort(ee);for(const o of t.dynamic)Y(o)}if(t.optional?.length){t.optional.sort(ee);for(const o of t.optional)Y(o)}if(t.wildcard?.length){t.wildcard.sort(ee);for(const o of t.wildcard)Y(o)}}function st(t){return{kind:dt,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function oe(t,o,e,s,n){return{kind:t,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:o,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:e,prefix:s,suffix:n}}function ss(t,o){const e=st("/"),s=new Uint16Array(6);for(const n of t)Ht(!1,s,n,1,e,0);Y(e),o.masksTree=e,o.flatCache=Ut(1e3)}function ns(t,o){t||="/";const e=o.flatCache.get(t);if(e)return e;const s=_e(t,o.masksTree);return o.flatCache.set(t,s),s}function rs(t,o,e,s,n){t||="/",s||="/";const r=o?`case\0${t}`:t;let a=n.singleCache.get(r);if(!a){a=st("/");const i=new Uint16Array(6);Ht(o,i,{from:t},1,a,0),n.singleCache.set(r,a)}return _e(s,a,e)}function is(t,o,e=!1){const s=e?t:`nofuzz\0${t}`,n=o.matchCache.get(s);if(n!==void 0)return n;t||="/";let r;try{r=_e(t,o.segmentTree,e)}catch(a){if(a instanceof URIError)r=null;else throw a}return r&&(r.branch=ls(r.route)),o.matchCache.set(s,r),r}function as(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function cs(t,o=!1,e){const s=st(t.fullPath),n=new Uint16Array(6),r={},a={};let i=0;return Ht(o,n,t,1,s,0,u=>{if(e?.(u,i),J(!(u.id in r),`Duplicate routes found with id: ${String(u.id)}`),r[u.id]=u,i!==0&&u.path){const f=as(u.fullPath);(!a[f]||u.fullPath.endsWith("/"))&&(a[f]=u)}i++}),Y(s),{processedTree:{segmentTree:s,singleCache:Ut(1e3),matchCache:Ut(1e3),flatCache:null,masksTree:null},routesById:r,routesByPath:a}}function _e(t,o,e=!1){const s=t.split("/"),n=hs(t,s,o,e);if(!n)return null;const[r]=co(t,s,n);return{route:n.node.route,rawParams:r,parsedParams:n.parsedParams}}function co(t,o,e){const s=us(e.node);let n=null;const r={};let a=e.extract?.part??0,i=e.extract?.node??0,c=e.extract?.path??0,u=e.extract?.segment??0;for(;i<s.length;a++,i++,c++,u++){const f=s[i];if(f.kind===ot)break;if(f.kind===ao){u--,a--,c--;continue}const l=o[a],h=c;if(l&&(c+=l.length),f.kind===it){n??=e.node.fullPath.split("/");const d=n[u],p=f.prefix?.length??0;if(d.charCodeAt(p)===123){const m=f.suffix?.length??0,y=d.substring(p+2,d.length-m-1),_=l.substring(p,l.length-m);r[y]=decodeURIComponent(_)}else{const m=d.substring(1);r[m]=decodeURIComponent(l)}}else if(f.kind===Lt){if(e.skipped&1<<i){a--,c=h-1;continue}n??=e.node.fullPath.split("/");const d=n[u],p=f.prefix?.length??0,g=f.suffix?.length??0,m=d.substring(p+3,d.length-g-1),y=f.suffix||f.prefix?l.substring(p,l.length-g):l;y&&(r[m]=decodeURIComponent(y))}else if(f.kind===at){const d=f,p=t.substring(h+(d.prefix?.length??0),t.length-(d.suffix?.length??0)),g=decodeURIComponent(p);r["*"]=g,r._splat=g;break}}return e.rawParams&&Object.assign(r,e.rawParams),[r,{part:a,node:i,path:c,segment:u}]}function ls(t){const o=[t];for(;t.parentRoute;)t=t.parentRoute,o.push(t);return o.reverse(),o}function us(t){const o=Array(t.depth+1);do o[t.depth]=t,t=t.parent;while(t);return o}function hs(t,o,e,s){if(t==="/"&&e.index)return{node:e.index,skipped:0};const n=!jt(o),r=n&&t!=="/",a=o.length-(n?1:0),i=[{node:e,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let c=null,u=null,f=null;for(;i.length;){const l=i.pop(),{node:h,index:d,skipped:p,depth:g,statics:m,dynamics:y,optionals:_}=l;let{extract:S,rawParams:R,parsedParams:L}=l;if(h.skipOnParamError){if(!se(t,o,l))continue;R=l.rawParams,S=l.extract,L=l.parsedParams}s&&h.route&&h.kind!==ot&&gt(u,l)&&(u=l);const P=d===a;if(P&&(h.route&&!r&&gt(f,l)&&(f=l),!h.optional&&!h.wildcard&&!h.index&&!h.pathless))continue;const C=P?void 0:o[d];let v;if(P&&h.index){const w={node:h.index,index:d,skipped:p,depth:g+1,statics:m,dynamics:y,optionals:_,extract:S,rawParams:R,parsedParams:L};let b=!0;if(h.index.skipOnParamError&&(se(t,o,w)||(b=!1)),b){if(m===a&&!y&&!_&&!p)return w;gt(f,w)&&(f=w)}}if(h.wildcard&&gt(c,l))for(const w of h.wildcard){const{prefix:b,suffix:k}=w;if(b&&(P||!(w.caseSensitive?C:v??=C.toLowerCase()).startsWith(b)))continue;if(k){if(P)continue;const O=o.slice(d).join("/").slice(-k.length);if((w.caseSensitive?O:O.toLowerCase())!==k)continue}const E={node:w,index:a,skipped:p,depth:g,statics:m,dynamics:y,optionals:_,extract:S,rawParams:R,parsedParams:L};if(!(w.skipOnParamError&&!se(t,o,E))){c=E;break}}if(h.optional){const w=p|1<<g,b=g+1;for(let k=h.optional.length-1;k>=0;k--){const E=h.optional[k];i.push({node:E,index:d,skipped:w,depth:b,statics:m,dynamics:y,optionals:_,extract:S,rawParams:R,parsedParams:L})}if(!P)for(let k=h.optional.length-1;k>=0;k--){const E=h.optional[k],{prefix:O,suffix:I}=E;if(O||I){const $=E.caseSensitive?C:v??=C.toLowerCase();if(O&&!$.startsWith(O)||I&&!$.endsWith(I))continue}i.push({node:E,index:d+1,skipped:p,depth:b,statics:m,dynamics:y,optionals:_+1,extract:S,rawParams:R,parsedParams:L})}}if(!P&&h.dynamic&&C)for(let w=h.dynamic.length-1;w>=0;w--){const b=h.dynamic[w],{prefix:k,suffix:E}=b;if(k||E){const O=b.caseSensitive?C:v??=C.toLowerCase();if(k&&!O.startsWith(k)||E&&!O.endsWith(E))continue}i.push({node:b,index:d+1,skipped:p,depth:g+1,statics:m,dynamics:y+1,optionals:_,extract:S,rawParams:R,parsedParams:L})}if(!P&&h.staticInsensitive){const w=h.staticInsensitive.get(v??=C.toLowerCase());w&&i.push({node:w,index:d+1,skipped:p,depth:g+1,statics:m+1,dynamics:y,optionals:_,extract:S,rawParams:R,parsedParams:L})}if(!P&&h.static){const w=h.static.get(C);w&&i.push({node:w,index:d+1,skipped:p,depth:g+1,statics:m+1,dynamics:y,optionals:_,extract:S,rawParams:R,parsedParams:L})}if(h.pathless){const w=g+1;for(let b=h.pathless.length-1;b>=0;b--){const k=h.pathless[b];i.push({node:k,index:d,skipped:p,depth:w,statics:m,dynamics:y,optionals:_,extract:S,rawParams:R,parsedParams:L})}}}if(f&&c)return gt(c,f)?f:c;if(f)return f;if(c)return c;if(s&&u){let l=u.index;for(let d=0;d<u.index;d++)l+=o[d].length;const h=l===t.length?"/":t.slice(l);return u.rawParams??={},u.rawParams["**"]=decodeURIComponent(h),u}return null}function se(t,o,e){try{const[s,n]=co(t,o,e);e.rawParams=s,e.extract=n;const r=e.node.parse(s);return e.parsedParams=Object.assign({},e.parsedParams,r),!0}catch{return null}}function gt(t,o){return t?o.statics>t.statics||o.statics===t.statics&&(o.dynamics>t.dynamics||o.dynamics===t.dynamics&&(o.optionals>t.optionals||o.optionals===t.optionals&&((o.node.kind===ot)>(t.node.kind===ot)||o.node.kind===ot==(t.node.kind===ot)&&o.depth>t.depth))):!0}function Ot(t){return Re(t.filter(o=>o!==void 0).join("/"))}function Re(t){return t.replace(/\/{2,}/g,"/")}function lo(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function K(t){const o=t.length;return o>1&&t[o-1]==="/"?t.replace(/\/{1,}$/,""):t}function uo(t){return K(lo(t))}function $t(t,o){return t?.endsWith("/")&&t!=="/"&&t!==`${o}/`?t.slice(0,-1):t}function ds(t,o,e){return $t(t,e)===$t(o,e)}function fs({base:t,to:o,trailingSlash:e="never",cache:s}){const n=o.startsWith("/"),r=!n&&o===".";let a;if(s){a=n?o:r?t:t+"\0"+o;const l=s.get(a);if(l)return l}let i;if(r)i=t.split("/");else if(n)i=o.split("/");else{for(i=t.split("/");i.length>1&&jt(i)==="";)i.pop();const l=o.split("/");for(let h=0,d=l.length;h<d;h++){const p=l[h];p===""?h?h===d-1&&i.push(p):i=[p]:p===".."?i.pop():p==="."||i.push(p)}}i.length>1&&(jt(i)===""?e==="never"&&i.pop():e==="always"&&i.push(""));let c,u="";for(let l=0;l<i.length;l++){l>0&&(u+="/");const h=i[l];if(!h)continue;c=Pe(h,0,c);const d=c[0];if(d===dt){u+=h;continue}const p=c[5],g=h.substring(0,c[1]),m=h.substring(c[4],p),y=h.substring(c[2],c[3]);d===it?u+=g||m?`${g}{$${y}}${m}`:`$${y}`:d===at?u+=g||m?`${g}{$}${m}`:"$":u+=`${g}{-$${y}}${m}`}u=Re(u);const f=u||"/";return a&&s&&s.set(a,f),f}function ne(t,o,e){const s=o[t];return typeof s!="string"?s:t==="_splat"?encodeURI(s):ps(s,e)}function re({path:t,params:o,decodeCharMap:e}){let s=!1;const n={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:n,isMissingParams:s};if(!t.includes("$"))return{interpolatedPath:t,usedParams:n,isMissingParams:s};const r=t.length;let a=0,i,c="";for(;a<r;){const f=a;i=Pe(t,f,i);const l=i[5];if(a=l+1,f===l)continue;const h=i[0];if(h===dt){c+="/"+t.substring(f,l);continue}if(h===at){const d=o._splat;n._splat=d,n["*"]=d;const p=t.substring(f,i[1]),g=t.substring(i[4],l);if(!d){s=!0,(p||g)&&(c+="/"+p+g);continue}const m=ne("_splat",o,e);c+="/"+p+m+g;continue}if(h===it){const d=t.substring(i[2],i[3]);!s&&!(d in o)&&(s=!0),n[d]=o[d];const p=t.substring(f,i[1]),g=t.substring(i[4],l),m=ne(d,o,e)??"undefined";c+="/"+p+m+g;continue}if(h===Lt){const d=t.substring(i[2],i[3]),p=o[d];if(p==null)continue;n[d]=p;const g=t.substring(f,i[1]),m=t.substring(i[4],l),y=ne(d,o,e)??"";c+="/"+g+y+m;continue}}return t.endsWith("/")&&(c+="/"),{usedParams:n,interpolatedPath:c||"/",isMissingParams:s}}function ps(t,o){let e=encodeURIComponent(t);if(o)for(const[s,n]of o)e=e.replaceAll(s,n);return e}function V(t){return!!t?.isNotFound}function ms(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Vt="tsr-scroll-restoration-v1_3",gs=(t,o)=>{let e;return(...s)=>{e||(e=setTimeout(()=>{t(...s),e=null},o))}};function ys(){const t=ms();if(!t)return null;const o=t.getItem(Vt);let e=o?JSON.parse(o):{};return{state:e,set:s=>{e=X(s,e)||e;try{t.setItem(Vt,JSON.stringify(e))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const Tt=ys(),me=t=>t.state.__TSR_key||t.href;function vs(t){const o=[];let e;for(;e=t.parentNode;)o.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(e.children,t)+1})`),t=e;return`${o.reverse().join(" > ")}`.toLowerCase()}let Wt=!1;function ho({storageKey:t,key:o,behavior:e,shouldScrollRestoration:s,scrollToTopSelectors:n,location:r}){let a;try{a=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(u){console.error(u);return}const i=o||window.history.state?.__TSR_key,c=a[i];Wt=!0;t:{if(s&&c&&Object.keys(c).length>0){for(const l in c){const h=c[l];if(l==="window")window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:e});else if(l){const d=document.querySelector(l);d&&(d.scrollLeft=h.scrollX,d.scrollTop=h.scrollY)}}break t}const u=(r??window.location).hash.split("#",2)[1];if(u){const l=window.history.state?.__hashScrollIntoViewOptions??!0;if(l){const h=document.getElementById(u);h&&h.scrollIntoView(l)}break t}const f={top:0,left:0,behavior:e};if(window.scrollTo(f),n)for(const l of n){if(l==="window")continue;const h=typeof l=="function"?l():document.querySelector(l);h&&h.scrollTo(f)}}Wt=!1}function Ss(t,o){if(!Tt&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!Tt))return;t.isScrollRestorationSetup=!0,Wt=!1;const s=t.options.getScrollRestorationKey||me;window.history.scrollRestoration="manual";const n=r=>{if(Wt||!t.isScrollRestoring)return;let a="";if(r.target===document||r.target===window)a="window";else{const c=r.target.getAttribute("data-scroll-restoration-id");c?a=`[data-scroll-restoration-id="${c}"]`:a=vs(r.target)}const i=s(t.state.location);Tt.set(c=>{const u=c[i]||={},f=u[a]||={};if(a==="window")f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(a){const l=document.querySelector(a);l&&(f.scrollX=l.scrollLeft||0,f.scrollY=l.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",gs(n,100),!0),t.subscribe("onRendered",r=>{const a=s(r.toLocation);(r.toLocation.state.__TSR_resetScroll??!0)&&(typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(ho({storageKey:Vt,key:a,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&Tt.set(c=>(c[a]||={},c))))})}function Ps(t){if(typeof document<"u"&&document.querySelector){const o=t.state.location.state.__hashScrollIntoViewOptions??!0;if(o&&t.state.location.hash!==""){const e=document.getElementById(t.state.location.hash);e&&e.scrollIntoView(o)}}}function _s(t,o=String){const e=new URLSearchParams;for(const s in t){const n=t[s];n!==void 0&&e.set(s,o(n))}return e.toString()}function ie(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function Rs(t){const o=new URLSearchParams(t),e={};for(const[s,n]of o.entries()){const r=e[s];r==null?e[s]=ie(n):Array.isArray(r)?r.push(ie(n)):e[s]=[r,ie(n)]}return e}const ws=Ls(JSON.parse),xs=Cs(JSON.stringify,JSON.parse);function Ls(t){return o=>{o[0]==="?"&&(o=o.substring(1));const e=Rs(o);for(const s in e){const n=e[s];if(typeof n=="string")try{e[s]=t(n)}catch{}}return e}}function Cs(t,o){const e=typeof o=="function";function s(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(e&&typeof n=="string")try{return o(n),t(n)}catch{}return n}return n=>{const r=_s(n,s);return r?`?${r}`:""}}const N="__root__";function fo(t){if(t.statusCode=t.statusCode||t.code||307,typeof t.href=="string"&&Nt(t.href))throw new Error(`Redirect blocked: unsafe protocol in href "${t.href}". Only ${io.join(", ")} protocols are allowed.`);if(!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const o=new Headers(t.headers);t.href&&o.get("Location")===null&&o.set("Location",t.href);const e=new Response(null,{status:t.statusCode,headers:o});if(e.options=t,t.throw)throw e;return e}function z(t){return t instanceof Response&&!!t.options}const Ft=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Kt=(t,o)=>!!(t.preload&&!t.router.state.matches.some(e=>e.id===o)),ut=(t,o,e=!0)=>{const s={...t.router.options.context??{}},n=e?o:o-1;for(let r=0;r<=n;r++){const a=t.matches[r];if(!a)continue;const i=t.router.getMatch(a.id);i&&Object.assign(s,i.__routeContext,i.__beforeLoadContext)}return s},po=(t,o)=>{const e=t.router.routesById[o.routeId??""]??t.router.routeTree;!e.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(e.options.notFoundComponent=t.router.options.defaultNotFoundComponent),J(e.options.notFoundComponent);const s=t.matches.find(n=>n.routeId===e.id);J(s,"Could not find match for route: "+e.id),t.updateMatch(s.id,n=>({...n,status:"notFound",error:o,isFetching:!1})),o.routerCode==="BEFORE_LOAD"&&e.parentRoute&&(o.routeId=e.parentRoute.id,po(t,o))},Z=(t,o,e)=>{if(!(!z(e)&&!V(e))){if(z(e)&&e.redirectHandled&&!e.options.reloadDocument)throw e;if(o){o._nonReactive.beforeLoadPromise?.resolve(),o._nonReactive.loaderPromise?.resolve(),o._nonReactive.beforeLoadPromise=void 0,o._nonReactive.loaderPromise=void 0;const s=z(e)?"redirected":"notFound";o._nonReactive.error=e,t.updateMatch(o.id,n=>({...n,status:s,context:ut(t,o.index),isFetching:!1,error:e})),V(e)&&!e.routeId&&(e.routeId=o.routeId),o._nonReactive.loadPromise?.resolve()}throw z(e)?(t.rendered=!0,e.options._fromLocation=t.location,e.redirectHandled=!0,e=t.router.resolveRedirect(e),e):(po(t,e),e)}},mo=(t,o)=>{const e=t.router.getMatch(o);return!!(!t.router.isServer&&e._nonReactive.dehydrated||t.router.isServer&&e.ssr===!1)},yt=(t,o,e,s)=>{const{id:n,routeId:r}=t.matches[o],a=t.router.looseRoutesById[r];if(e instanceof Promise)throw e;e.routerCode=s,t.firstBadMatchIndex??=o,Z(t,t.router.getMatch(n),e);try{a.options.onError?.(e)}catch(i){e=i,Z(t,t.router.getMatch(n),e)}t.updateMatch(n,i=>(i._nonReactive.beforeLoadPromise?.resolve(),i._nonReactive.beforeLoadPromise=void 0,i._nonReactive.loadPromise?.resolve(),{...i,error:e,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},bs=(t,o,e,s)=>{const n=t.router.getMatch(o),r=t.matches[e-1]?.id,a=r?t.router.getMatch(r):void 0;if(t.router.isShell()){n.ssr=s.id===N;return}if(a?.ssr===!1){n.ssr=!1;return}const i=d=>d===!0&&a?.ssr==="data-only"?"data-only":d,c=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){n.ssr=i(c);return}if(typeof s.options.ssr!="function"){n.ssr=i(s.options.ssr);return}const{search:u,params:f}=n,l={search:It(u,n.searchError),params:It(f,n.paramsError),location:t.location,matches:t.matches.map(d=>({index:d.index,pathname:d.pathname,fullPath:d.fullPath,staticData:d.staticData,id:d.id,routeId:d.routeId,search:It(d.search,d.searchError),params:It(d.params,d.paramsError),ssr:d.ssr}))},h=s.options.ssr(l);if(tt(h))return h.then(d=>{n.ssr=i(d??c)});n.ssr=i(h??c)},go=(t,o,e,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const n=e.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!Kt(t,o)&&(e.options.loader||e.options.beforeLoad||So(e))&&typeof n=="number"&&n!==1/0&&(e.options.pendingComponent??t.router.options?.defaultPendingComponent))){const a=setTimeout(()=>{Ft(t)},n);s._nonReactive.pendingTimeout=a}},Ms=(t,o,e)=>{const s=t.router.getMatch(o);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;go(t,o,e,s);const n=()=>{const r=t.router.getMatch(o);r.preload&&(r.status==="redirected"||r.status==="notFound")&&Z(t,r,r.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(n):n()},ks=(t,o,e,s)=>{const n=t.router.getMatch(o),r=n._nonReactive.loadPromise;n._nonReactive.loadPromise=ht(()=>{r?.resolve()});const{paramsError:a,searchError:i}=n;a&&yt(t,e,a,"PARSE_PARAMS"),i&&yt(t,e,i,"VALIDATE_SEARCH"),go(t,o,s,n);const c=new AbortController,u=t.matches[e-1]?.id;(u?t.router.getMatch(u):void 0)?.context??t.router.options.context;let l=!1;const h=()=>{l||(l=!0,t.updateMatch(o,P=>({...P,isFetching:"beforeLoad",fetchCount:P.fetchCount+1,abortController:c})))},d=()=>{n._nonReactive.beforeLoadPromise?.resolve(),n._nonReactive.beforeLoadPromise=void 0,t.updateMatch(o,P=>({...P,isFetching:!1}))};if(!s.options.beforeLoad){wt(()=>{h(),d()});return}n._nonReactive.beforeLoadPromise=ht();const p={...ut(t,e,!1),...n.__routeContext},{search:g,params:m,cause:y}=n,_=Kt(t,o),S={search:g,abortController:c,params:m,preload:_,context:p,location:t.location,navigate:P=>t.router.navigate({...P,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:_?"preload":y,matches:t.matches,...t.router.options.additionalContext},R=P=>{if(P===void 0){wt(()=>{h(),d()});return}(z(P)||V(P))&&(h(),yt(t,e,P,"BEFORE_LOAD")),wt(()=>{h(),t.updateMatch(o,C=>({...C,__beforeLoadContext:P})),d()})};let L;try{if(L=s.options.beforeLoad(S),tt(L))return h(),L.catch(P=>{yt(t,e,P,"BEFORE_LOAD")}).then(R)}catch(P){h(),yt(t,e,P,"BEFORE_LOAD")}R(L)},Es=(t,o)=>{const{id:e,routeId:s}=t.matches[o],n=t.router.looseRoutesById[s],r=()=>{if(t.router.isServer){const c=bs(t,e,o,n);if(tt(c))return c.then(i)}return i()},a=()=>ks(t,e,o,n),i=()=>{if(mo(t,e))return;const c=Ms(t,e,n);return tt(c)?c.then(a):a()};return r()},Ts=(t,o,e)=>{const s=t.router.getMatch(o);if(!s||!e.options.head&&!e.options.scripts&&!e.options.headers)return;const n={ssr:t.router.options.ssr,matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([e.options.head?.(n),e.options.scripts?.(n),e.options.headers?.(n)]).then(([r,a,i])=>{const c=r?.meta,u=r?.links,f=r?.scripts,l=r?.styles;return{meta:c,links:u,headScripts:f,headers:i,scripts:a,styles:l}})},yo=(t,o,e,s)=>{const n=t.matchPromises[e-1],{params:r,loaderDeps:a,abortController:i,cause:c}=t.router.getMatch(o),u=ut(t,e),f=Kt(t,o);return{params:r,deps:a,preload:!!f,parentMatchPromise:n,abortController:i,context:u,location:t.location,navigate:l=>t.router.navigate({...l,_fromLocation:t.location}),cause:f?"preload":c,route:s,...t.router.options.additionalContext}},ze=async(t,o,e,s)=>{try{const n=t.router.getMatch(o);try{(!t.router.isServer||n.ssr===!0)&&vo(s);const r=s.options.loader?.(yo(t,o,e,s)),a=s.options.loader&&tt(r);if((a||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||n._nonReactive.minPendingPromise)&&t.updateMatch(o,u=>({...u,isFetching:"loader"})),s.options.loader){const u=a?await r:r;Z(t,t.router.getMatch(o),u),u!==void 0&&t.updateMatch(o,f=>({...f,loaderData:u}))}s._lazyPromise&&await s._lazyPromise;const c=n._nonReactive.minPendingPromise;c&&await c,s._componentsPromise&&await s._componentsPromise,t.updateMatch(o,u=>({...u,error:void 0,context:ut(t,e),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(r){let a=r;if(a?.name==="AbortError"){t.updateMatch(o,c=>({...c,status:c.status==="pending"?"success":c.status,isFetching:!1,context:ut(t,e)}));return}const i=n._nonReactive.minPendingPromise;i&&await i,V(r)&&await s.options.notFoundComponent?.preload?.(),Z(t,t.router.getMatch(o),r);try{s.options.onError?.(r)}catch(c){a=c,Z(t,t.router.getMatch(o),c)}t.updateMatch(o,c=>({...c,error:a,context:ut(t,e),status:"error",isFetching:!1}))}}catch(n){const r=t.router.getMatch(o);r&&(r._nonReactive.loaderPromise=void 0),Z(t,r,n)}},Is=async(t,o)=>{const{id:e,routeId:s}=t.matches[o];let n=!1,r=!1;const a=t.router.looseRoutesById[s];if(mo(t,e)){if(t.router.isServer)return t.router.getMatch(e)}else{const u=t.router.getMatch(e);if(u._nonReactive.loaderPromise){if(u.status==="success"&&!t.sync&&!u.preload)return u;await u._nonReactive.loaderPromise;const f=t.router.getMatch(e),l=f._nonReactive.error||f.error;l&&Z(t,f,l)}else{const f=Date.now()-u.updatedAt,l=Kt(t,e),h=l?a.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:a.options.staleTime??t.router.options.defaultStaleTime??0,d=a.options.shouldReload,p=typeof d=="function"?d(yo(t,e,o,a)):d,g=!!l&&!t.router.state.matches.some(S=>S.id===e),m=t.router.getMatch(e);m._nonReactive.loaderPromise=ht(),g!==m.preload&&t.updateMatch(e,S=>({...S,preload:g}));const{status:y,invalid:_}=m;n=y==="success"&&(_||(p??f>h)),l&&a.options.preload===!1||(n&&!t.sync?(r=!0,(async()=>{try{await ze(t,e,o,a);const S=t.router.getMatch(e);S._nonReactive.loaderPromise?.resolve(),S._nonReactive.loadPromise?.resolve(),S._nonReactive.loaderPromise=void 0}catch(S){z(S)&&await t.router.navigate(S.options)}})()):(y!=="success"||n&&t.sync)&&await ze(t,e,o,a))}}const i=t.router.getMatch(e);r||(i._nonReactive.loaderPromise?.resolve(),i._nonReactive.loadPromise?.resolve()),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0,r||(i._nonReactive.loaderPromise=void 0),i._nonReactive.dehydrated=void 0;const c=r?i.isFetching:!1;return c!==i.isFetching||i.invalid!==!1?(t.updateMatch(e,u=>({...u,isFetching:c,invalid:!1})),t.router.getMatch(e)):i};async function He(t){const o=Object.assign(t,{matchPromises:[]});!o.router.isServer&&o.router.state.matches.some(e=>e._forcePending)&&Ft(o);try{for(let i=0;i<o.matches.length;i++){const c=Es(o,i);tt(c)&&await c}const e=o.firstBadMatchIndex??o.matches.length;for(let i=0;i<e;i++)o.matchPromises.push(Is(o,i));const n=(await Promise.allSettled(o.matchPromises)).filter(i=>i.status==="rejected").map(i=>i.reason);let r;for(const i of n){if(z(i))throw i;!r&&V(i)&&(r=i)}for(const i of o.matches){const{id:c,routeId:u}=i,f=o.router.looseRoutesById[u];try{const l=Ts(o,c,f);if(l){const h=await l;o.updateMatch(c,d=>({...d,...h}))}}catch(l){console.error(`Error executing head for route ${u}:`,l)}}if(r)throw r;const a=Ft(o);tt(a)&&await a}catch(e){if(V(e)&&!o.preload){const s=Ft(o);throw tt(s)&&await s,e}if(z(e))throw e}return o.matches}async function vo(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(o=>{const{id:e,...s}=o.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const o=()=>{const e=[];for(const s of Po){const n=t.options[s]?.preload;n&&e.push(n())}if(e.length)return Promise.all(e).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(o):o()}return t._componentsPromise}function It(t,o){return o?{status:"error",error:o}:{status:"success",value:t}}function So(t){for(const o of Po)if(t.options[o]?.preload)return!0;return!1}const Po=["component","errorComponent","pendingComponent","notFoundComponent"];function Os(t){return{input:({url:o})=>{for(const e of t)o=ge(e,o);return o},output:({url:o})=>{for(let e=t.length-1;e>=0;e--)o=_o(t[e],o);return o}}}function Fs(t){const o=uo(t.basepath),e=`/${o}`,s=`${e}/`,n=t.caseSensitive?e:e.toLowerCase(),r=t.caseSensitive?s:s.toLowerCase();return{input:({url:a})=>{const i=t.caseSensitive?a.pathname:a.pathname.toLowerCase();return i===n?a.pathname="/":i.startsWith(r)&&(a.pathname=a.pathname.slice(e.length)),a},output:({url:a})=>(a.pathname=Ot(["/",o,a.pathname]),a)}}function ge(t,o){const e=t?.input?.({url:o});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return o}function _o(t,o){const e=t?.output?.({url:o});if(e){if(typeof e=="string")return new URL(e);if(e instanceof URL)return e}return o}function rt(t){const o=t.resolvedLocation,e=t.location,s=o?.pathname!==e.pathname,n=o?.href!==e.href,r=o?.hash!==e.hash;return{fromLocation:o,toLocation:e,pathChanged:s,hrefChanged:n,hashChanged:r}}class Bs{constructor(o){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=e=>e(),this.update=e=>{e.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,n=this.basepath??s?.basepath??"/",r=this.basepath===void 0,a=s?.rewrite;this.options={...s,...e},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(h=>[encodeURIComponent(h),h])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=Ho())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Wo(js(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(h=>!["redirected"].includes(h.status))}}}),Ss(this));let i=!1;const c=this.options.basepath??"/",u=this.options.rewrite;if(r||n!==c||a!==u){this.basepath=c;const h=[];uo(c)!==""&&h.push(Fs({basepath:c})),u&&h.push(u),this.rewrite=h.length===0?void 0:h.length===1?h[0]:Os(h),this.history&&this.updateLatestLocation(),i=!0}i&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:e,routesByPath:s,processedTree:n}=cs(this.routeTree,this.options.caseSensitive,(a,i)=>{a.init({originalIndex:i})});this.options.routeMasks&&ss(this.options.routeMasks,n),this.routesById=e,this.routesByPath=s,this.processedTree=n;const r=this.options.notFoundRoute;r&&(r.init({originalIndex:99999999999}),this.routesById[r.id]=r)},this.subscribe=(e,s)=>{const n={eventType:e,fn:s};return this.subscribers.add(n),()=>{this.subscribers.delete(n)}},this.emit=e=>{this.subscribers.forEach(s=>{s.eventType===e.type&&s.fn(e)})},this.parseLocation=(e,s)=>{const n=({href:c,state:u})=>{const f=new URL(c,this.origin),l=ge(this.rewrite,f),h=this.options.parseSearch(l.search),d=this.options.stringifySearch(h);return l.search=d,{href:l.href.replace(l.origin,""),publicHref:c,url:l,pathname:te(l.pathname),searchStr:d,search:W(s?.search,h),hash:te(l.hash.split("#").reverse()[0]??""),state:W(s?.state,u)}},r=n(e),{__tempLocation:a,__tempKey:i}=r.state;if(a&&(!i||i===this.tempLocationKey)){const c=n(a);return c.state.key=r.state.key,c.state.__TSR_key=r.state.__TSR_key,delete c.state.__tempLocation,{...c,maskedLocation:r}}return r},this.resolvePathCache=Ut(1e3),this.resolvePathWithBase=(e,s)=>fs({base:e,to:Re(s),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(e,s,n)=>typeof e=="string"?this.matchRoutesInternal({pathname:e,search:s},n).matches:this.matchRoutesInternal(e,s).matches,this.getMatchedRoutes=e=>Ds({pathname:e,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=e=>{const s=this.getMatch(e);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const e=this.state.matches.filter(r=>r.status==="pending"),s=this.state.matches.filter(r=>r.isFetching==="loader");new Set([...this.state.pendingMatches??[],...e,...s]).forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=e=>{const s=(r={})=>{const a=r._fromLocation||this.pendingBuiltLocation||this.latestLocation,i=this.matchRoutes(a,{_buildLocation:!0}),c=jt(i);r.from;const u=r.unsafeRelative==="path"?a.pathname:r.from??c.fullPath,f=this.resolvePathWithBase(u,"."),l=c.search,h={...c.params},d=r.to?this.resolvePathWithBase(f,`${r.to}`):this.resolvePathWithBase(f,"."),p=r.params===!1||r.params===null?{}:(r.params??!0)===!0?h:Object.assign(h,X(r.params,h)),g=re({path:d,params:p}).interpolatedPath,m=this.getMatchedRoutes(g);let y=m.matchedRoutes;const _=m.routeParams,S=m.foundRoute?m.foundRoute.path!=="/"&&m.routeParams["**"]:K(g);let R;if(S&&(this.options.notFoundRoute?y=[...y,this.options.notFoundRoute]:R=Ke(this.options.notFoundMode,y)),Object.keys(p).length>0)for(const j of y){const B=j.options.params?.stringify??j.options.stringifyParams;B&&Object.assign(p,B(p))}const L=e.leaveParams?d:te(re({path:d,params:p,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let P=l;if(e._includeValidateSearch&&this.options.search?.strict){const j={};y.forEach(B=>{if(B.options.validateSearch)try{Object.assign(j,ye(B.options.validateSearch,{...j,...P}))}catch{}}),P=j}P=$s({search:P,dest:r,destRoutes:y,_includeValidateSearch:e._includeValidateSearch}),P=W(l,P);const C=this.options.stringifySearch(P),v=r.hash===!0?a.hash:r.hash?X(r.hash,a.hash):void 0,w=v?`#${v}`:"";let b=r.state===!0?a.state:r.state?X(r.state,a.state):{};b=W(a.state,b);const k={..._,...p},E=Us({routes:y,params:k,searchStr:C,globalNotFoundRouteId:R}),O=`${L}${C}${w}`,I=new URL(O,this.origin),$=_o(this.rewrite,I),F=I.href.replace(I.origin,"");return{publicHref:$.pathname+$.search+$.hash,href:F,url:$,pathname:L,search:P,searchStr:C,state:b,hash:v??"",unmaskOnReload:r.unmaskOnReload,_matchSnapshot:E}},n=(r={},a)=>{const i=s(r);let c=a?s(a):void 0;if(!c){const u={};if(this.options.routeMasks){const f=ns(i.pathname,this.processedTree);if(f){Object.assign(u,f.rawParams);const{from:l,params:h,...d}=f.route,p=h===!1||h===null?{}:(h??!0)===!0?u:Object.assign(u,X(h,u));a={from:e.from,...d,params:p},c=s(a)}}}return c&&(i.maskedLocation=c),i};return e.mask?n(e,{from:e.from,...e.mask}):n(e)},this.commitLocation=async({viewTransition:e,ignoreBlocker:s,...n})=>{const r=()=>{const p=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];p.forEach(m=>{n.state[m]=this.latestLocation.state[m]});const g=nt(n.state,this.latestLocation.state);return p.forEach(m=>{delete n.state[m]}),g},a=K(this.latestLocation.href)===K(n.href),i=this.commitLocationPromise;if(this.commitLocationPromise=ht(()=>{i?.resolve()}),a&&r())return this.load(),this.commitLocationPromise;let{maskedLocation:c,hashScrollIntoView:u,url:f,...l}=n;c&&(l={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),l.state.__hashScrollIntoViewOptions=u??this.options.defaultHashScrollIntoView??!0,l.state.__TSR_resetScroll=n.resetScroll??!0,this.shouldViewTransition=e,l.state.__TSR_sessionId=this.sessionId,l.state.__TSR_matches=n._matchSnapshot??Ns({matchResult:this.getMatchedRoutes(n.pathname),pathname:n.pathname,searchStr:n.searchStr,notFoundRoute:this.options.notFoundRoute,notFoundMode:this.options.notFoundMode});const h={...n,publicHref:l.publicHref,state:l.state,maskedLocation:c};return(await this.history[n.replace?"replace":"push"](l.publicHref,l.state,{ignoreBlocker:s,skipTransitionerLoad:!0})).type==="BLOCKED"?(this.commitLocationPromise?.resolve(),this.commitLocationPromise):this.history.location.href!==l.publicHref?this.commitLocationPromise:(this.latestLocation=h,this.load({_skipUpdateLatestLocation:!0}),this.commitLocationPromise)},this.buildAndCommitLocation=({replace:e,resetScroll:s,hashScrollIntoView:n,viewTransition:r,ignoreBlocker:a,href:i,...c}={})=>{if(i){const l=this.history.location.state.__TSR_index,h=At(i,{__TSR_index:e?l:l+1}),d=new URL(h.pathname,this.origin),p=ge(this.rewrite,d);c.to=p.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const u=this.buildLocation({...c,_includeValidateSearch:!0});this.pendingBuiltLocation=u;const f=this.commitLocation({...u,viewTransition:r,replace:e,resetScroll:s,hashScrollIntoView:n,ignoreBlocker:a});return Promise.resolve().then(()=>{this.pendingBuiltLocation===u&&(this.pendingBuiltLocation=void 0)}),f},this.navigate=async({to:e,reloadDocument:s,href:n,publicHref:r,...a})=>{let i=!1;if(n)try{new URL(`${n}`),i=!0}catch{}if(i&&!s&&(s=!0),s){if(e!==void 0||!n){const u=this.buildLocation({to:e,...a});n=n??u.url.href,r=r??u.url.href}const c=!i&&r?r:n;if(Nt(c))return Promise.resolve();if(!a.ignoreBlocker){const f=this.history.getBlockers?.()??[];for(const l of f)if(l?.blockerFn&&await l.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return a.replace?window.location.replace(c):window.location.href=c,Promise.resolve()}return this.buildAndCommitLocation({...a,href:n,to:e,_isNavigate:!0})},this.beforeLoad=e=>{if(this.cancelMatches(),e?._skipUpdateLatestLocation||this.updateLatestLocation(),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(this.latestLocation.publicHref!==r.publicHref||r.url.origin!==this.origin){const a=this.getParsedLocationHref(r);throw fo({href:a})}}const s=this.latestLocation.state.__TSR_sessionId===this.sessionId?this.latestLocation.state.__TSR_matches:void 0,n=this.matchRoutes(this.latestLocation,{snapshot:s});this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:r.cachedMatches.filter(a=>!n.some(i=>i.id===a.id))}))},this.load=async e=>{let s,n,r;for(r=new Promise(i=>{this.startTransition(async()=>{try{this.beforeLoad({_skipUpdateLatestLocation:e?._skipUpdateLatestLocation});const c=this.latestLocation,u=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...rt({resolvedLocation:u,location:c})}),this.emit({type:"onBeforeLoad",...rt({resolvedLocation:u,location:c})}),await He({router:this,sync:e?.sync,matches:this.state.pendingMatches,location:c,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let f=[],l=[],h=[];wt(()=>{this.__store.setState(d=>{const p=d.matches,g=d.pendingMatches||d.matches;return f=p.filter(m=>!g.some(y=>y.id===m.id)),l=g.filter(m=>!p.some(y=>y.id===m.id)),h=g.filter(m=>p.some(y=>y.id===m.id)),{...d,isLoading:!1,loadedAt:Date.now(),matches:g,pendingMatches:void 0,cachedMatches:[...d.cachedMatches,...f.filter(m=>m.status!=="error"&&m.status!=="notFound")]}}),this.clearExpiredCache()}),[[f,"onLeave"],[l,"onEnter"],[h,"onStay"]].forEach(([d,p])=>{d.forEach(g=>{this.looseRoutesById[g.routeId].options[p]?.(g)})})})})}})}catch(c){z(c)?(s=c,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):V(c)&&(n=c),this.__store.setState(u=>({...u,statusCode:s?s.status:n?404:u.matches.some(f=>f.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===r&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),i()})}),this.latestLoadPromise=r,await r;this.latestLoadPromise&&r!==this.latestLoadPromise;)await this.latestLoadPromise;let a;this.hasNotFoundMatch()?a=404:this.__store.state.matches.some(i=>i.status==="error")&&(a=500),a!==void 0&&this.__store.setState(i=>({...i,statusCode:a}))},this.startViewTransition=e=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let n;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const r=this.latestLocation,a=this.state.resolvedLocation,i=typeof s.types=="function"?s.types(rt({resolvedLocation:a,location:r})):s.types;if(i===!1){e();return}n={update:e,types:i}}else n=e;document.startViewTransition(n)}else e()},this.updateMatch=(e,s)=>{this.startTransition(()=>{const n=this.state.pendingMatches?.some(r=>r.id===e)?"pendingMatches":this.state.matches.some(r=>r.id===e)?"matches":this.state.cachedMatches.some(r=>r.id===e)?"cachedMatches":"";n&&this.__store.setState(r=>({...r,[n]:r[n]?.map(a=>a.id===e?s(a):a)}))})},this.getMatch=e=>{const s=n=>n.id===e;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=e=>{const s=n=>e?.filter?.(n)??!0?{...n,invalid:!0,...e?.forcePending||n.status==="error"||n.status==="notFound"?{status:"pending",error:void 0}:void 0}:n;return this.__store.setState(n=>({...n,matches:n.matches.map(s),cachedMatches:n.cachedMatches.map(s),pendingMatches:n.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:e?.sync})},this.getParsedLocationHref=e=>{let s=e.url.href;return this.origin&&e.url.origin===this.origin&&(s=s.replace(this.origin,"")||"/"),s},this.resolveRedirect=e=>{const s=e.headers.get("Location");if(e.options.href){if(s)try{const n=new URL(s);if(this.origin&&n.origin===this.origin){const r=n.pathname+n.search+n.hash;e.options.href=r,e.headers.set("Location",r)}}catch{}}else{const n=this.buildLocation(e.options),r=this.getParsedLocationHref(n);e.options.href=r,e.headers.set("Location",r)}return e.headers.get("Location")||e.headers.set("Location",e.options.href),e},this.clearCache=e=>{const s=e?.filter;s!==void 0?this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(r=>!s(r))})):this.__store.setState(n=>({...n,cachedMatches:[]}))},this.clearExpiredCache=()=>{const e=s=>{const n=this.looseRoutesById[s.routeId];if(!n.options.loader)return!0;const r=(s.preload?n.options.preloadGcTime??this.options.defaultPreloadGcTime:n.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=r};this.clearCache({filter:e})},this.loadRouteChunk=vo,this.preloadRoute=async e=>{const s=this.buildLocation(e);let n=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:e});const r=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(i=>i.id)),a=new Set([...r,...this.state.cachedMatches.map(i=>i.id)]);wt(()=>{n.forEach(i=>{a.has(i.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,i]}))})});try{return n=await He({router:this,matches:n,location:s,preload:!0,updateMatch:(i,c)=>{r.has(i)?n=n.map(u=>u.id===i?c(u):u):this.updateMatch(i,c)}}),n}catch(i){if(z(i))return i.options.reloadDocument?void 0:await this.preloadRoute({...i.options,_fromLocation:s});V(i)||console.error(i);return}},this.matchRoute=(e,s)=>{const n={...e,to:e.to?this.resolvePathWithBase(e.from||"",e.to):void 0,params:e.params||{},leaveParams:!0},r=this.buildLocation(n);if(s?.pending&&this.state.status!=="pending")return!1;const i=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=rs(r.pathname,s?.caseSensitive??!1,s?.fuzzy??!1,i.pathname,this.processedTree);return!c||e.params&&!nt(c.rawParams,e.params,{partial:!0})?!1:s?.includeSearch??!0?nt(i.search,r.search,{partial:!0})?c.rawParams:!1:c.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(e=>e.status==="notFound"||e.globalNotFound),this.sessionId=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2)}`,this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...o,caseSensitive:o.caseSensitive??!1,notFoundMode:o.notFoundMode??"fuzzy",stringifySearch:o.stringifySearch??xs,parseSearch:o.parseSearch??ws}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(o,e){const s=e?.snapshot,n=s&&s.routeIds.length>0&&s.routeIds.every(p=>this.routesById[p]);let r,a,i,c,u;if(n)r=s.routeIds.map(p=>this.routesById[p]),a={...s.params},i={...s.params},c=s.globalNotFoundRouteId,u=s.parsedParams;else{const p=this.getMatchedRoutes(o.pathname),{foundRoute:g,routeParams:m}=p;a=m,i={...m},r=p.matchedRoutes,u=p.parsedParams;let y=!1;(g?g.path!=="/"&&a["**"]:K(o.pathname))&&(this.options.notFoundRoute?r=[...r,this.options.notFoundRoute]:y=!0),c=y?Ke(this.options.notFoundMode,r):void 0}const f=[],l=p=>p?.id?p.context??this.options.context??void 0:this.options.context??void 0,h=n&&s.searchStr===o.searchStr&&s.validatedSearches?.length===r.length,d=[];if(r.forEach((p,g)=>{const m=f[g-1],[y,_,S]=(()=>{if(h){const B=s.validatedSearches[g];return[B.search,B.strictSearch,void 0]}const F=m?.search??o.search,j=m?._strictSearch??void 0;try{const B=ye(p.options.validateSearch,{...F})??void 0;return[{...F,...B},{...j,...B},void 0]}catch(B){let Ct=B;if(B instanceof zt||(Ct=new zt(B.message,{cause:B})),e?.throwOnError)throw Ct;return[F,{},Ct]}})();h||d.push({search:y,strictSearch:_});const R=p.options.loaderDeps?.({search:y})??"",L=R?JSON.stringify(R):"",{interpolatedPath:P,usedParams:C}=re({path:p.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),v=p.id+P+L,w=this.getMatch(v),b=this.state.matches.find(F=>F.routeId===p.id),k=w?._strictParams??C;let E;if(!w)if(p.options.skipRouteOnParseError)for(const F in C)F in u&&(k[F]=u[F]);else{const F=p.options.params?.parse??p.options.parseParams;if(F)try{Object.assign(k,F(k))}catch(j){if(V(j)||z(j)?E=j:E=new As(j.message,{cause:j}),e?.throwOnError)throw E}}Object.assign(a,k);const O=b?"stay":"enter";let I;if(w)I={...w,cause:O,params:b?W(b.params,a):a,_strictParams:k,search:W(b?b.search:w.search,y),_strictSearch:_};else{const F=p.options.loader||p.options.beforeLoad||p.lazyFn||So(p)?"pending":"success";I={id:v,ssr:this.isServer?void 0:p.options.ssr,index:g,routeId:p.id,params:b?W(b.params,a):a,_strictParams:k,pathname:P,updatedAt:Date.now(),search:b?W(b.search,y):y,_strictSearch:_,searchError:void 0,status:F,isFetching:!1,error:void 0,paramsError:E,__routeContext:void 0,_nonReactive:{loadPromise:ht()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:O,loaderDeps:b?W(b.loaderDeps,R):R,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:p.options.staticData||{},fullPath:p.fullPath}}e?.preload||(I.globalNotFound=c===p.id),I.searchError=S;const $=l(m);I.context={...$,...I.__routeContext,...I.__beforeLoadContext},f.push(I)}),!h&&d.length>0){const p=o.state?.__TSR_matches;p&&(p.searchStr=o.searchStr,p.validatedSearches=d)}return f.forEach((p,g)=>{const m=this.looseRoutesById[p.routeId];if(!this.getMatch(p.id)&&e?._buildLocation!==!0){const _=f[g-1],S=l(_);if(m.options.context){const R={deps:p.loaderDeps,params:p.params,context:S??{},location:o,navigate:L=>this.navigate({...L,_fromLocation:o}),buildLocation:this.buildLocation,cause:p.cause,abortController:p.abortController,preload:!!p.preload,matches:f};p.__routeContext=m.options.context(R)??void 0}p.context={...S,...p.__routeContext,...p.__beforeLoadContext}}}),{matches:f,rawParams:i}}}class zt extends Error{}class As extends Error{}function js(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function ye(t,o){if(t==null)return{};if("~standard"in t){const e=t["~standard"].validate(o);if(e instanceof Promise)throw new zt("Async validation not supported");if(e.issues)throw new zt(JSON.stringify(e.issues,void 0,2),{cause:e});return e.value}return"parse"in t?t.parse(o):typeof t=="function"?t(o):{}}function Ds({pathname:t,routesById:o,processedTree:e}){const s={},n=K(t);let r,a={};const i=is(n,e,!0);return i&&(r=i.route,Object.assign(s,i.rawParams),a=Object.assign({},i.parsedParams)),{matchedRoutes:i?.branch||[o[N]],routeParams:s,foundRoute:r,parsedParams:a}}function Ns({matchResult:t,pathname:o,searchStr:e,notFoundRoute:s,notFoundMode:n}){const r={routeIds:t.matchedRoutes.map(i=>i.id),params:t.routeParams,parsedParams:t.parsedParams,searchStr:e};if(t.foundRoute?t.foundRoute.path!=="/"&&t.routeParams["**"]:K(o))if(s)r.globalNotFoundRouteId=s.id;else{if(n!=="root")for(let i=t.matchedRoutes.length-1;i>=0;i--){const c=t.matchedRoutes[i];if(c.children){r.globalNotFoundRouteId=c.id;break}}r.globalNotFoundRouteId||(r.globalNotFoundRouteId=N)}return r}function Us({routes:t,params:o,searchStr:e,globalNotFoundRouteId:s}){const n={};for(const a in o){const i=o[a];i!=null&&(n[a]=String(i))}const r={routeIds:t.map(a=>a.id),params:n,parsedParams:o,searchStr:e};return s&&(r.globalNotFoundRouteId=s),r}function $s({search:t,dest:o,destRoutes:e,_includeValidateSearch:s}){const n=e.reduce((i,c)=>{const u=[];if("search"in c.options)c.options.search?.middlewares&&u.push(...c.options.search.middlewares);else if(c.options.preSearchFilters||c.options.postSearchFilters){const f=({search:l,next:h})=>{let d=l;"preSearchFilters"in c.options&&c.options.preSearchFilters&&(d=c.options.preSearchFilters.reduce((g,m)=>m(g),l));const p=h(d);return"postSearchFilters"in c.options&&c.options.postSearchFilters?c.options.postSearchFilters.reduce((g,m)=>m(g),p):p};u.push(f)}if(s&&c.options.validateSearch){const f=({search:l,next:h})=>{const d=h(l);try{return{...d,...ye(c.options.validateSearch,d)??void 0}}catch{return d}};u.push(f)}return i.concat(u)},[])??[],r=({search:i})=>o.search?o.search===!0?i:X(o.search,i):{};n.push(r);const a=(i,c)=>{if(i>=n.length)return c;const u=n[i];return u({search:c,next:l=>a(i+1,l)})};return a(0,t)}function Ke(t,o){if(t!=="root")for(let e=o.length-1;e>=0;e--){const s=o[e];if(s.children)return s.id}return N}const Vs="Error preloading route! ";class Ro{constructor(o){if(this.init=e=>{this.originalIndex=e.originalIndex;const s=this.options,n=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),n?this._path=N:this.parentRoute||J(!1);let r=n?N:s?.path;r&&r!=="/"&&(r=lo(r));const a=s?.id||r;let i=n?N:Ot([this.parentRoute.id===N?"":this.parentRoute.id,a]);r===N&&(r="/"),i!==N&&(i=Ot(["/",i]));const c=i===N?"/":Ot([this.parentRoute.fullPath,r]);this._path=r,this._id=i,this._fullPath=c,this._to=K(c)},this.addChildren=e=>this._addFileChildren(e),this._addFileChildren=e=>(Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this),this._addFileTypes=()=>this,this.updateLoader=e=>(Object.assign(this.options,e),this),this.update=e=>(Object.assign(this.options,e),this),this.lazy=e=>(this.lazyFn=e,this),this.redirect=e=>fo({from:this.fullPath,...e}),this.options=o||{},this.isRoot=!o?.getParentRoute,o?.id&&o?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class Ws extends Ro{constructor(o){super(o)}}const _t=typeof window<"u"?M.useLayoutEffect:M.useEffect;function ae(t){const o=M.useRef({value:t,prev:null}),e=o.current.value;return t!==e&&(o.current={value:t,prev:e}),o.current.prev}function zs(t,o,e={},s={}){M.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const n=new IntersectionObserver(([r])=>{o(r)},e);return n.observe(t.current),()=>{n.disconnect()}},[o,e,s.disabled,t])}function Hs(t){const o=M.useRef(null);return M.useImperativeHandle(t,()=>o.current,[]),o}function we(t){const o=t.errorComponent??Gt;return x.jsx(Ks,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:e,reset:s})=>e?M.createElement(o,{error:e,reset:s}):t.children})}class Ks extends M.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(o){return{resetKey:o.getResetKey()}}static getDerivedStateFromError(o){return{error:o}}reset(){this.setState({error:null})}componentDidUpdate(o,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(o,e){this.props.onCatch&&this.props.onCatch(o,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Gt({error:t}){const[o,e]=M.useState(!1);return x.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[x.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),x.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>e(s=>!s),children:o?"Hide Error":"Show Error"})]}),x.jsx("div",{style:{height:".25rem"}}),o?x.jsx("div",{children:x.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?x.jsx("code",{children:t.message}):null})}):null]})}function Gs({children:t,fallback:o=null}){return wo()?x.jsx(xt.Fragment,{children:t}):x.jsx(xt.Fragment,{children:o})}function wo(){return xt.useSyncExternalStore(qs,()=>!0,()=>!1)}function qs(){return()=>{}}var ce={exports:{}},le={},ue={exports:{}},he={};var Ge;function Js(){if(Ge)return he;Ge=1;var t=ve();function o(l,h){return l===h&&(l!==0||1/l===1/h)||l!==l&&h!==h}var e=typeof Object.is=="function"?Object.is:o,s=t.useState,n=t.useEffect,r=t.useLayoutEffect,a=t.useDebugValue;function i(l,h){var d=h(),p=s({inst:{value:d,getSnapshot:h}}),g=p[0].inst,m=p[1];return r(function(){g.value=d,g.getSnapshot=h,c(g)&&m({inst:g})},[l,d,h]),n(function(){return c(g)&&m({inst:g}),l(function(){c(g)&&m({inst:g})})},[l]),a(d),d}function c(l){var h=l.getSnapshot;l=l.value;try{var d=h();return!e(l,d)}catch{return!0}}function u(l,h){return h()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:i;return he.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,he}var qe;function Ys(){return qe||(qe=1,ue.exports=Js()),ue.exports}var Je;function Xs(){if(Je)return le;Je=1;var t=ve(),o=Ys();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var s=typeof Object.is=="function"?Object.is:e,n=o.useSyncExternalStore,r=t.useRef,a=t.useEffect,i=t.useMemo,c=t.useDebugValue;return le.useSyncExternalStoreWithSelector=function(u,f,l,h,d){var p=r(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=i(function(){function y(P){if(!_){if(_=!0,S=P,P=h(P),d!==void 0&&g.hasValue){var C=g.value;if(d(C,P))return R=C}return R=P}if(C=R,s(S,P))return C;var v=h(P);return d!==void 0&&d(C,v)?(S=P,C):(S=P,R=v)}var _=!1,S,R,L=l===void 0?null:l;return[function(){return y(f())},L===null?void 0:function(){return y(L())}]},[f,l,h,d]);var m=n(u,p[0],p[1]);return a(function(){g.hasValue=!0,g.value=m},[m]),c(m),m},le}var Ye;function Zs(){return Ye||(Ye=1,ce.exports=Xs()),ce.exports}var Qs=Zs();function tn(t,o=s=>s,e={}){const s=e.equal??en;return Qs.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,o,s)}function en(t,o){if(Object.is(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;if(t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(const[s,n]of t)if(!o.has(s)||!Object.is(n,o.get(s)))return!1;return!0}if(t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(const s of t)if(!o.has(s))return!1;return!0}if(t instanceof Date&&o instanceof Date)return t.getTime()===o.getTime();const e=Xe(t);if(e.length!==Xe(o).length)return!1;for(let s=0;s<e.length;s++)if(!Object.prototype.hasOwnProperty.call(o,e[s])||!Object.is(t[e[s]],o[e[s]]))return!1;return!0}function Xe(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const de=M.createContext(null);function xo(){return typeof document>"u"?de:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=de,de)}function U(t){const o=M.useContext(xo());return t?.warn,o}function D(t){const o=U({warn:t?.router===void 0}),e=t?.router||o,s=M.useRef(void 0);return tn(e.__store,n=>{if(t?.select){if(t.structuralSharing??e.options.defaultStructuralSharing){const r=W(s.current,t.select(n));return s.current=r,r}return t.select(n)}return n})}const qt=M.createContext(void 0),on=M.createContext(void 0);function G(t){const o=M.useContext(t.from?on:qt);return D({select:s=>{const n=s.matches.find(r=>t.from?t.from===r.routeId:r.id===o);if(J(!((t.shouldThrow??!0)&&!n),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),n!==void 0)return t.select?t.select(n):n},structuralSharing:t.structuralSharing})}function xe(t){return G({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:o=>t.select?t.select(o.loaderData):o.loaderData})}function Le(t){const{select:o,...e}=t;return G({...e,select:s=>o?o(s.loaderDeps):s.loaderDeps})}function Ce(t){return G({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:o=>{const e=t.strict===!1?o.params:o._strictParams;return t.select?t.select(e):e}})}function be(t){return G({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:o=>t.select?t.select(o.search):o.search})}function Jt(t){const o=U();return M.useCallback(e=>o.navigate({...e,from:e.from??t?.from}),[t?.from,o])}function Tn(t){const o=U(),e=Jt(),s=M.useRef(null);return _t(()=>{s.current!==t&&(e(t),s.current=t)},[o,t,e]),null}var sn=Fo();function nn(t,o){const e=U(),[s,n]=M.useState(!1),r=M.useRef(!1),a=Hs(o),i=wo(),{activeProps:c,inactiveProps:u,activeOptions:f,to:l,preload:h,preloadDelay:d,hashScrollIntoView:p,replace:g,startTransition:m,resetScroll:y,viewTransition:_,children:S,target:R,disabled:L,style:P,className:C,onClick:v,onFocus:w,onMouseEnter:b,onMouseLeave:k,onTouchStart:E,ignoreBlocker:O,params:I,search:$,hash:F,state:j,mask:B,reloadDocument:Ct,unsafeRelative:Cn,from:bn,_fromLocation:Mn,...Me}=t,Mo=D({select:T=>T.location.search,structuralSharing:!0}),ke=t.from,ft=M.useMemo(()=>({...t,from:ke}),[e,Mo,ke,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),q=M.useMemo(()=>e.buildLocation({...ft}),[e,ft]),pt=M.useMemo(()=>{if(L)return;let T=q.maskedLocation?q.maskedLocation.url.href:q.url.href,A=!1;return e.origin&&(T.startsWith(e.origin)?T=e.history.createHref(T.replace(e.origin,""))||"/":A=!0),{href:T,external:A}},[L,q.maskedLocation,q.url,e.origin,e.history]),bt=M.useMemo(()=>{if(pt?.external)return Nt(pt.href)?void 0:pt.href;if(!(typeof l=="string"&&l.charCodeAt(0)===47&&l.charCodeAt(1)!==47))try{return new URL(l),Nt(l)?void 0:l}catch{}},[l,pt]),ct=t.reloadDocument||bt?!1:h??e.options.defaultPreload,Yt=d??e.options.defaultPreloadDelay??0,Xt=D({select:T=>{if(bt)return!1;if(f?.exact){if(!ds(T.location.pathname,q.pathname,e.basepath))return!1}else{const A=$t(T.location.pathname,e.basepath),H=$t(q.pathname,e.basepath);if(!(A.startsWith(H)&&(A.length===H.length||A[H.length]==="/")))return!1}return(f?.includeSearch??!0)&&!nt(T.location.search,q.search,{partial:!f?.exact,ignoreUndefined:!f?.explicitUndefined})?!1:f?.includeHash?i&&T.location.hash===q.hash:!0}}),et=M.useCallback(()=>{e.preloadRoute({...ft}).catch(T=>{console.warn(T),console.warn(Vs)})},[e,ft]),ko=M.useCallback(T=>{T?.isIntersecting&&et()},[et]);zs(a,ko,un,{disabled:!!L||ct!=="viewport"}),M.useEffect(()=>{r.current||!L&&ct==="render"&&(et(),r.current=!0)},[L,et,ct]);const Eo=T=>{const A=T.currentTarget.getAttribute("target"),H=R!==void 0?R:A;if(!L&&!hn(T)&&!T.defaultPrevented&&(!H||H==="_self")&&T.button===0){T.preventDefault(),sn.flushSync(()=>{n(!0)});const Oe=e.subscribe("onResolved",()=>{Oe(),n(!1)});e.navigate({...ft,replace:g,resetScroll:y,hashScrollIntoView:p,startTransition:m,viewTransition:_,ignoreBlocker:O})}};if(bt)return{...Me,ref:a,href:bt,...S&&{children:S},...R&&{target:R},...L&&{disabled:L},...P&&{style:P},...C&&{className:C},...v&&{onClick:v},...w&&{onFocus:w},...b&&{onMouseEnter:b},...k&&{onMouseLeave:k},...E&&{onTouchStart:E}};const Ee=T=>{L||ct&&et()},To=Ee,Io=T=>{if(!(L||!ct))if(!Yt)et();else{const A=T.target;if(vt.has(A))return;const H=setTimeout(()=>{vt.delete(A),et()},Yt);vt.set(A,H)}},Oo=T=>{if(L||!ct||!Yt)return;const A=T.target,H=vt.get(A);H&&(clearTimeout(H),vt.delete(A))},Mt=Xt?X(c,{})??rn:fe,kt=Xt?fe:X(u,{})??fe,Te=[C,Mt.className,kt.className].filter(Boolean).join(" "),Ie=(P||Mt.style||kt.style)&&{...P,...Mt.style,...kt.style};return{...Me,...Mt,...kt,href:pt?.href,ref:a,onClick:St([v,Eo]),onFocus:St([w,Ee]),onMouseEnter:St([b,Io]),onMouseLeave:St([k,Oo]),onTouchStart:St([E,To]),disabled:!!L,target:R,...Ie&&{style:Ie},...Te&&{className:Te},...L&&an,...Xt&&cn,...s&&ln}}const fe={},rn={className:"active"},an={role:"link","aria-disabled":!0},cn={"data-status":"active","aria-current":"page"},ln={"data-transitioning":"transitioning"},vt=new WeakMap,un={rootMargin:"100px"},St=t=>o=>{for(const e of t)if(e){if(o.defaultPrevented)return;e(o)}},Lo=M.forwardRef((t,o)=>{const{_asChild:e,...s}=t,{type:n,...r}=nn(s,o),a=typeof s.children=="function"?s.children({isActive:r["data-status"]==="active"}):s.children;if(!e){const{disabled:i,...c}=r;return M.createElement("a",c,a)}return M.createElement(e,r,a)});function hn(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class dn extends Ro{constructor(o){super(o),this.useMatch=e=>G({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>G({...e,from:this.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>be({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>Ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>Le({...e,from:this.id}),this.useLoaderData=e=>xe({...e,from:this.id}),this.useNavigate=()=>Jt({from:this.fullPath}),this.Link=xt.forwardRef((e,s)=>x.jsx(Lo,{ref:s,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function fn(t){return new dn(t)}class pn extends Ws{constructor(o){super(o),this.useMatch=e=>G({select:e?.select,from:this.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>G({...e,from:this.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>be({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useParams=e=>Ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.id}),this.useLoaderDeps=e=>Le({...e,from:this.id}),this.useLoaderData=e=>xe({...e,from:this.id}),this.useNavigate=()=>Jt({from:this.fullPath}),this.Link=xt.forwardRef((e,s)=>x.jsx(Lo,{ref:s,from:this.fullPath,...e})),this.$$typeof=Symbol.for("react.memo")}}function In(t){return new pn(t)}function Ze(t){return typeof t=="object"?new Qe(t,{silent:!0}).createRoute(t):new Qe(t,{silent:!0}).createRoute}class Qe{constructor(o,e){this.path=o,this.createRoute=s=>{this.silent;const n=fn(s);return n.isRoot=!1,n},this.silent=e?.silent}}class to{constructor(o){this.useMatch=e=>G({select:e?.select,from:this.options.id,structuralSharing:e?.structuralSharing}),this.useRouteContext=e=>G({from:this.options.id,select:s=>e?.select?e.select(s.context):s.context}),this.useSearch=e=>be({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useParams=e=>Ce({select:e?.select,structuralSharing:e?.structuralSharing,from:this.options.id}),this.useLoaderDeps=e=>Le({...e,from:this.options.id}),this.useLoaderData=e=>xe({...e,from:this.options.id}),this.useNavigate=()=>{const e=U();return Jt({from:e.routesById[this.options.id].fullPath})},this.options=o,this.$$typeof=Symbol.for("react.memo")}}function eo(t){return typeof t=="object"?new to(t):o=>new to({id:t,...o})}function mn(){const t=U(),o=M.useRef({router:t,mounted:!1}),[e,s]=M.useState(!1),{hasPendingMatches:n,isLoading:r}=D({select:l=>({isLoading:l.isLoading,hasPendingMatches:l.matches.some(h=>h.status==="pending")}),structuralSharing:!0}),a=ae(r),i=r||e||n,c=ae(i),u=r||n,f=ae(u);return t.startTransition=l=>{s(!0),M.startTransition(()=>{l(),s(!1)})},M.useEffect(()=>{const l=t.history.subscribe(({navigateOpts:d})=>{d?.skipTransitionerLoad||t.load()}),h=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return K(t.latestLocation.publicHref)!==K(h.publicHref)&&t.commitLocation({...h,replace:!0}),()=>{l()}},[t,t.history]),_t(()=>{if(typeof window<"u"&&t.ssr||o.current.router===t&&o.current.mounted)return;o.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(h){console.error(h)}})()},[t]),_t(()=>{a&&!r&&t.emit({type:"onLoad",...rt(t.state)})},[a,t,r]),_t(()=>{f&&!u&&t.emit({type:"onBeforeRouteMount",...rt(t.state)})},[u,f,t]),_t(()=>{if(c&&!i){const l=rt(t.state);t.emit({type:"onResolved",...l}),t.__store.setState(h=>({...h,status:"idle",resolvedLocation:h.location})),l.hrefChanged&&Ps(t)}},[i,c,t]),null}function gn(t){const o=D({select:e=>`not-found-${e.location.pathname}-${e.status}`});return x.jsx(we,{getResetKey:()=>o,onCatch:(e,s)=>{if(V(e))t.onCatch?.(e,s);else throw e},errorComponent:({error:e})=>{if(V(e))return t.fallback?.(e);throw e},children:t.children})}function yn(){return x.jsx("p",{children:"Not Found"})}function lt(t){return x.jsx(x.Fragment,{children:t.children})}function Co(t,o,e){return o.options.notFoundComponent?x.jsx(o.options.notFoundComponent,{...e}):t.options.defaultNotFoundComponent?x.jsx(t.options.defaultNotFoundComponent,{...e}):x.jsx(yn,{})}function vn({children:t}){const o=U();return o.isServer?x.jsx("script",{nonce:o.options.ssr?.nonce,dangerouslySetInnerHTML:{__html:t+";document.currentScript.remove()"}}):null}function Sn(){const t=U();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const e=(t.options.getScrollRestorationKey||me)(t.latestLocation),s=e!==me(t.latestLocation)?e:void 0,n={storageKey:Vt,shouldScrollRestoration:!0};return s&&(n.key=s),x.jsx(vn,{children:`(${ho.toString()})(${Zo(JSON.stringify(n))})`})}const bo=M.memo(function({matchId:o}){const e=U(),s=D({select:y=>{const _=y.matches.find(S=>S.id===o);return J(_),{routeId:_.routeId,ssr:_.ssr,_displayPending:_._displayPending}},structuralSharing:!0}),n=e.routesById[s.routeId],r=n.options.pendingComponent??e.options.defaultPendingComponent,a=r?x.jsx(r,{}):null,i=n.options.errorComponent??e.options.defaultErrorComponent,c=n.options.onCatch??e.options.defaultOnCatch,u=n.isRoot?n.options.notFoundComponent??e.options.notFoundRoute?.options.component:n.options.notFoundComponent,f=s.ssr===!1||s.ssr==="data-only",l=(!n.isRoot||n.options.wrapInSuspense||f)&&(n.options.wrapInSuspense??r??(n.options.errorComponent?.preload||f))?M.Suspense:lt,h=i?we:lt,d=u?gn:lt,p=D({select:y=>y.loadedAt}),g=D({select:y=>{const _=y.matches.findIndex(S=>S.id===o);return y.matches[_-1]?.routeId}}),m=n.isRoot?n.options.shellComponent??lt:lt;return x.jsxs(m,{children:[x.jsx(qt.Provider,{value:o,children:x.jsx(l,{fallback:a,children:x.jsx(h,{getResetKey:()=>p,errorComponent:i||Gt,onCatch:(y,_)=>{if(V(y))throw y;c?.(y,_)},children:x.jsx(d,{fallback:y=>{if(!u||y.routeId&&y.routeId!==s.routeId||!y.routeId&&!n.isRoot)throw y;return M.createElement(u,y)},children:f||s._displayPending?x.jsx(Gs,{fallback:a,children:x.jsx(oo,{matchId:o})}):x.jsx(oo,{matchId:o})})})})}),g===N&&e.options.scrollRestoration?x.jsxs(x.Fragment,{children:[x.jsx(Pn,{}),x.jsx(Sn,{})]}):null]})});function Pn(){const t=U(),o=M.useRef(void 0);return x.jsx("script",{suppressHydrationWarning:!0,ref:e=>{e&&(o.current===void 0||o.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...rt(t.state)}),o.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const oo=M.memo(function({matchId:o}){const e=U(),{match:s,key:n,routeId:r}=D({select:c=>{const u=c.matches.find(p=>p.id===o),f=u.routeId,h=(e.routesById[f].options.remountDeps??e.options.defaultRemountDeps)?.({routeId:f,loaderDeps:u.loaderDeps,params:u._strictParams,search:u._strictSearch});return{key:h?JSON.stringify(h):void 0,routeId:f,match:{id:u.id,status:u.status,error:u.error,invalid:u.invalid,_forcePending:u._forcePending,_displayPending:u._displayPending}}},structuralSharing:!0}),a=e.routesById[r],i=M.useMemo(()=>{const c=a.options.component??e.options.defaultComponent;return c?x.jsx(c,{},n):x.jsx(_n,{})},[n,a.options.component,e.options.defaultComponent]);if(s._displayPending)throw e.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw e.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const c=a.options.pendingMinMs??e.options.defaultPendingMinMs;if(c){const u=e.getMatch(s.id);if(u&&!u._nonReactive.minPendingPromise&&!e.isServer){const f=ht();u._nonReactive.minPendingPromise=f,setTimeout(()=>{f.resolve(),u._nonReactive.minPendingPromise=void 0},c)}}throw e.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return J(V(s.error)),Co(e,a,s.error);if(s.status==="redirected")throw J(z(s.error)),e.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(e.isServer){const c=(a.options.errorComponent??e.options.defaultErrorComponent)||Gt;return x.jsx(c,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return i}),_n=M.memo(function(){const o=U(),e=M.useContext(qt),s=D({select:u=>u.matches.find(f=>f.id===e)?.routeId}),n=o.routesById[s],r=D({select:u=>{const l=u.matches.find(h=>h.id===e);return J(l),l.globalNotFound}}),a=D({select:u=>{const f=u.matches,l=f.findIndex(h=>h.id===e);return f[l+1]?.id}}),i=o.options.defaultPendingComponent?x.jsx(o.options.defaultPendingComponent,{}):null;if(r)return Co(o,n,void 0);if(!a)return null;const c=x.jsx(bo,{matchId:a});return s===N?x.jsx(M.Suspense,{fallback:i,children:c}):c});function Rn(){const t=U(),e=t.routesById[N].options.pendingComponent??t.options.defaultPendingComponent,s=e?x.jsx(e,{}):null,n=t.isServer||typeof document<"u"&&t.ssr?lt:M.Suspense,r=x.jsxs(n,{fallback:s,children:[!t.isServer&&x.jsx(mn,{}),x.jsx(wn,{})]});return t.options.InnerWrap?x.jsx(t.options.InnerWrap,{children:r}):r}function wn(){const t=U(),o=D({select:n=>n.matches[0]?.id}),e=D({select:n=>n.loadedAt}),s=o?x.jsx(bo,{matchId:o}):null;return x.jsx(qt.Provider,{value:o,children:t.options.disableGlobalCatchBoundary?s:x.jsx(we,{getResetKey:()=>e,errorComponent:Gt,onCatch:n=>{n.message||n.toString()},children:s})})}const On=t=>new xn(t);class xn extends Bs{constructor(o){super(o)}}typeof globalThis<"u"?(globalThis.createFileRoute=Ze,globalThis.createLazyFileRoute=eo):typeof window<"u"&&(window.createFileRoute=Ze,window.createLazyFileRoute=eo);function Ln({router:t,children:o,...e}){Object.keys(e).length>0&&t.update({...t.options,...e,context:{...t.options.context,...e.context}});const s=xo(),n=x.jsx(s.Provider,{value:t,children:o});return t.options.Wrap?x.jsx(t.options.Wrap,{children:n}):n}function Fn({router:t,...o}){return x.jsx(Ln,{router:t,...o,children:x.jsx(Rn,{})})}function Bn(t){return D({select:o=>o.location})}export{Lo as L,Tn as N,_n as O,Fn as R,x as a,sn as b,Ce as c,In as d,fn as e,On as f,En as j,M as r,Bn as u};
