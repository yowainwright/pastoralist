<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="description" content="Pastoralist - Manage your package.json overrides, resolutions, and patches with ease"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/pastoralist/favicon.svg"><meta name="generator" content="Astro v5.15.2"><title>API Reference</title><style>.sidebar-content[data-astro-cid-ngufsdsg]{transition:max-height .3s ease-out}.sidebar-chevron[data-astro-cid-ngufsdsg]{transition:transform .2s ease}[data-astro-cid-sckkx6r4]{scroll-behavior:smooth}
</style>
<link rel="stylesheet" href="/pastoralist/_astro/index.COA_hZYR.css"></head> <body data-astro-cid-sckkx6r4> <div class="flex flex-col min-h-screen" data-astro-cid-sckkx6r4> <div class="drawer lg:drawer-open flex-1" data-astro-cid-sckkx6r4> <input id="my-drawer-2" type="checkbox" class="drawer-toggle" data-astro-cid-sckkx6r4> <div class="drawer-content flex flex-col" data-astro-cid-sckkx6r4> <header class="sticky top-0 z-30"> <nav class="navbar bg-base-100/90 shadow-sm backdrop-blur-lg justify-center items-center py-2 px-4 sm:px-6 md:px-10 border-b border-base-content/10"> <div class="navbar-start"> <label for="my-drawer-2" class="btn btn-square btn-ghost lg:hidden"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </label> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="IUfit" component-url="/pastoralist/_astro/Search.BXU4_WnV.js" component-export="default" renderer-url="/pastoralist/_astro/client.Ch_FkTiw.js" props="{&quot;searchData&quot;:[1,[[0,{&quot;title&quot;:[0,&quot;Advanced Features&quot;],&quot;description&quot;:[0,&quot;Deep dive into pastoralist&#39;s advanced capabilities&quot;],&quot;content&quot;:[0,&quot;Pastoralist includes several advanced features that make dependency override management more powerful and maintainable.  Nested Overrides (Transitive Dependencies) Pastoralist fully supports npm&#39;s nested override syntax for overriding transitive dependencies (dependencies of dependencies).  How It Works When you need to override a transitive dependency, you can use nested overrides: This tells npm to use  whenever it&#39;s required by the  package, regardless of what version  actually specifies.  Mu&quot;],&quot;slug&quot;:[0,&quot;advanced-features&quot;]}],[0,{&quot;title&quot;:[0,&quot;API Reference&quot;],&quot;description&quot;:[0,&quot;Complete reference for pastoralist CLI and Node.js API&quot;],&quot;content&quot;:[0,&quot;Pastoralist provides both a CLI interface and a Node.js API for programmatic usage. :::tip[Configuration Files] Most CLI options can be configured using config files. See the Configuration documentation for details on using , , or  for persistent settings. :::  CLI   Run pastoralist on the current directory&#39;s package.json.   Run pastoralist on a specific package.json file. params: - : path to a package.json file   Run pastoralist on multiple package.json files using glob patterns. params: - : ar&quot;],&quot;slug&quot;:[0,&quot;api-reference&quot;]}],[0,{&quot;title&quot;:[0,&quot;Architecture&quot;],&quot;description&quot;:[0,&quot;Deep dive into how Pastoralist works, including overrides, resolutions, patches, and the object anatomy&quot;],&quot;content&quot;:[0,&quot;How Pastoralist Works Pastoralist manages overrides, resolutions, and patches so you don&#39;t have to!  Core Architecture How Pastoralist processes and manages overrides internally: It is comprised of a few functions which read the root package.json file&#39;s overrides or resolutions and map the packages in them to a  object. Additionally, it automatically detects and tracks patches in your project (such as those created by ). If Pastoralist observes an override, resolution, or patch is no longer need&quot;],&quot;slug&quot;:[0,&quot;architecture&quot;]}],[0,{&quot;title&quot;:[0,&quot;Interactive Tutorial&quot;],&quot;description&quot;:[0,&quot;Learn pastoralist step-by-step&quot;],&quot;content&quot;:[0,&quot;The Problem When using npm overrides or yarn resolutions, you often: - Forget why an override was added - Leave outdated overrides in place - Don&#39;t know which packages need them  The Solution Pastoralist automatically: - Documents each override with an appendix - Shows which packages require each override - Removes unnecessary overrides - Runs via postinstall hooks  Quick Start  How It Works  Before Pastoralist  After Pastoralist  Automatic Cleanup When dependencies no longer need an override, p&quot;],&quot;slug&quot;:[0,&quot;codelab&quot;]}],[0,{&quot;title&quot;:[0,&quot;Configuration&quot;],&quot;description&quot;:[0,&quot;Learn how to configure Pastoralist using config files or package.json&quot;],&quot;content&quot;:[0,&quot;Pastoralist supports multiple configuration methods to fit your project&#39;s needs. Configuration can be defined in external files or directly in your .  Configuration Files Pastoralist searches for configuration files in this order (first found wins): 1.  (JSON format) 2.  3.  4.  5.   Example Configurations  Minimal Configuration Enable security checks with defaults:        Configuration Priority When both external config files and  configuration exist, they are merged with  taking precedence: 1.&quot;],&quot;slug&quot;:[0,&quot;configuration&quot;]}],[0,{&quot;title&quot;:[0,&quot;Interactive Demos&quot;],&quot;description&quot;:[0,&quot;Try pastoralist features directly in your browser with StackBlitz&quot;],&quot;content&quot;:[0,&quot;🚀 Quick Start Click any demo below to open it instantly in StackBlitz - no installation required!  📦 Basic Demo Learn the fundamentals of override management  🔒 Security Demo Detect and fix vulnerabilities automatically  🏗️ Workspaces Demo Manage overrides in monorepos  🔄 Migration Demo Migrate from manual overrides  What Each Demo Shows Basic: How pastoralist tracks overrides, creates documentation, and cleans up unused ones Security: Scan for vulnerabilities, auto-fix issues, and manage s&quot;],&quot;slug&quot;:[0,&quot;demos&quot;]}],[0,{&quot;title&quot;:[0,&quot;Introduction to Pastoralist&quot;],&quot;description&quot;:[0,&quot;Pastoralist is a dependency management tool that keeps your package.json overrides, resolutions, and patches up-to-date automatically&quot;],&quot;content&quot;:[0,&quot;What is Pastoralist? Pastoralist is a command-line tool that automatically manages and updates your package.json overrides, resolutions, and patches. It ensures that your dependency overrides stay up-to-date with the latest versions, saving you time and reducing potential security vulnerabilities.  Why is Pastoralist Awesome?  The Problem When working with Node.js projects, you often need to override specific package versions due to: - Security vulnerabilities in transitive dependencies - Bug fi&quot;],&quot;slug&quot;:[0,&quot;introduction&quot;]}],[0,{&quot;title&quot;:[0,&quot;Security Vulnerability Detection&quot;],&quot;description&quot;:[0,&quot;Detect and fix security vulnerabilities in your dependencies&quot;],&quot;content&quot;:[0,&quot;Pastoralist includes an experimental security feature that can detect vulnerabilities in your dependencies and automatically generate package overrides to fix them.  Overview The security feature scans your project&#39;s dependencies against vulnerability databases and suggests or applies fixes through package overrides. This helps maintain secure dependencies without manual intervention.  Quick Start  Basic Check  Auto Fix  Interactive  Workspaces  Configuration You can configure security settings &quot;],&quot;slug&quot;:[0,&quot;security&quot;]}],[0,{&quot;title&quot;:[0,&quot;Setup&quot;],&quot;description&quot;:[0,&quot;Quick and easy setup guide for Pastoralist CLI&quot;],&quot;content&quot;:[0,&quot;Getting Started 1. Install Pastoralist globally:     2. Run it in your project:     3. That&#39;s it! Pastoralist will automatically:    - Scan for overrides and resolutions    - Check for updates    - Update your package.json    - Track everything in the appendix  Setup Okay! Hopefully the breakdowns above were clear enough on why you might want to use Pastoralist! Please submit a pull request or issue if it wasn&#39;t! Now for the super simple setup! 1. Install 2. run 3. (recommended) add Pastoralist &quot;],&quot;slug&quot;:[0,&quot;setup&quot;]}],[0,{&quot;title&quot;:[0,&quot;Troubleshooting &amp; FAQ&quot;],&quot;description&quot;:[0,&quot;Common issues and frequently asked questions&quot;],&quot;content&quot;:[0,&quot;Frequently Asked Questions  What is pastoralist? Pastoralist is a tool that automatically manages your npm overrides (or yarn resolutions) by creating an appendix that documents why each override exists and which packages depend on them.  Why do I need pastoralist? Without pastoralist, it&#39;s easy to: - Forget why an override was added - Leave outdated overrides in your package.json - Not know which packages need specific overrides - Accumulate technical debt over time  Does pastoralist work with &quot;],&quot;slug&quot;:[0,&quot;troubleshooting&quot;]}],[0,{&quot;title&quot;:[0,&quot;Workspaces &amp; Monorepos&quot;],&quot;description&quot;:[0,&quot;Using pastoralist in workspace and monorepo environments&quot;],&quot;content&quot;:[0,&quot;Pastoralist works seamlessly with workspace and monorepo setups. This guide covers how to effectively use pastoralist across multiple packages.  How Pastoralist Works in Workspaces Pastoralist operates on a single  at a time. In a workspace setup, you can run it on: - The root package.json - Individual workspace packages - Multiple packages using scripts  Configuration Methods Pastoralist provides multiple ways to configure workspace scanning in monorepos:  Method 1: depPaths in package.json (Re&quot;],&quot;slug&quot;:[0,&quot;workspaces&quot;]}]]]}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> <div class="navbar-end"> <a class="btn btn-sm btn-ghost" href="https://github.com/yowainwright/pastoralist" aria-label="github"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="h-4 w-4"><path d="M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z" fill="currentColor"></path> </svg> </a> <button aria-label="theme-toggle" id="themeToggle" class="btn btn-sm btn-ghost swap swap-rotate btn-square"> <svg class="w-4 h-4 fill-current swap-off" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path> </svg> <svg class="w-4 h-4 fill-current swap-on" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path> </svg> </button> <script>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "night";
    }
    return "lofi";
  })();

  if (theme === "lofi") {
    document.documentElement.setAttribute("data-theme", "lofi");
    document.getElementById("themeToggle").classList.remove("swap-active");
  } else {
    document.documentElement.setAttribute("data-theme", "night");
    document.getElementById("themeToggle").classList.add("swap-active");
  }

  window.localStorage.setItem("theme", theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    const isDark = element.dataset.theme === "night";
    localStorage.setItem("theme", isDark ? "lofi" : "night");
    element.setAttribute("data-theme", isDark ? "lofi" : "night");
    if (isDark) {
      document.getElementById("themeToggle").classList.remove("swap-active");
    } else {
      document.getElementById("themeToggle").classList.add("swap-active");
    }
  };

  document
    .getElementById("themeToggle")
    .addEventListener("click", handleToggleClick);
</script> </div> </nav> </header> <div class="flex-1" data-astro-cid-sckkx6r4>  <div class="flex flex-col lg:flex-row p-4 sm:p-6 md:p-10 md:pt-10 font-spline-sans-mono"> <article class="flex flex-col w-full lg:max-w-4xl xl:max-w-5xl"> <div class="text-base breadcrumbs pt-0 pb-4"> <ul> <li><a href="/pastoralist" class="hover:text-primary">Home</a></li> <li class="text-primary">API Reference</li> </ul> </div> <section class="prose prose-sm sm:prose-base md:prose-md mb-10 max-w-none prose-pre:max-w-[90vw] prose-pre:overflow-x-auto"> <div> <h1>API Reference</h1> <p>Complete reference for pastoralist CLI and Node.js API</p> </div> <div class="divider my-5"></div> <p>Pastoralist provides both a CLI interface and a Node.js API for programmatic usage.</p>
<p>:::tip[Configuration Files]
Most CLI options can be configured using config files. See the <a href="/configuration">Configuration</a> documentation for details on using <code>.pastoralistrc</code>, <code>pastoralist.config.js</code>, or <code>package.json</code> for persistent settings.
:::</p>
<h2 id="cli">CLI</h2>
<h3 id="pastoralist"><code>pastoralist</code></h3>
<p>Run pastoralist on the current directory’s package.json.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span></span></code></pre>
<h3 id="pastoralist---path-path"><code>pastoralist --path &lt;path&gt;</code></h3>
<p>Run pastoralist on a specific package.json file.</p>
<p><strong>params:</strong></p>
<ul>
<li><code>&lt;path&gt;</code>: path to a package.json file</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run on a specific package</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> packages/app/package.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Run on a nested project</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> ./nested/project/package.json</span></span></code></pre>
<h3 id="pastoralist---deppaths-paths"><code>pastoralist --depPaths [paths...]</code></h3>
<p>Run pastoralist on multiple package.json files using glob patterns.</p>
<p><strong>params:</strong></p>
<ul>
<li><code>[paths...]</code>: array of glob patterns</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run on all packages in monorepo</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --depPaths</span><span style="color:#9ECBFF"> &quot;packages/*/package.json&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Run on multiple directories</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --depPaths</span><span style="color:#9ECBFF"> &quot;packages/*/package.json&quot;</span><span style="color:#9ECBFF"> &quot;apps/*/package.json&quot;</span></span></code></pre>
<h3 id="pastoralist---ignore-patterns"><code>pastoralist --ignore [patterns...]</code></h3>
<p>Exclude files matching glob patterns.</p>
<p><strong>params:</strong></p>
<ul>
<li><code>[patterns...]</code>: array of glob patterns to ignore</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Ignore test directories</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --ignore</span><span style="color:#9ECBFF"> &quot;**/test/**&quot;</span><span style="color:#9ECBFF"> &quot;**/dist/**&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Ignore specific packages</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --depPaths</span><span style="color:#9ECBFF"> &quot;**/*package.json&quot;</span><span style="color:#79B8FF"> --ignore</span><span style="color:#9ECBFF"> &quot;**/node_modules/**&quot;</span><span style="color:#9ECBFF"> &quot;**/legacy/**&quot;</span></span></code></pre>
<h3 id="pastoralist---root-root"><code>pastoralist --root &lt;root&gt;</code></h3>
<p>Set the root directory for all operations.</p>
<p><strong>params:</strong></p>
<ul>
<li><code>&lt;root&gt;</code>: root directory path</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run from different directory</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --root</span><span style="color:#9ECBFF"> /path/to/project</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Combine with other options</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --root</span><span style="color:#9ECBFF"> ../my-project</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> package.json</span></span></code></pre>
<h3 id="pastoralist---init"><code>pastoralist --init</code></h3>
<p>Initialize interactive configuration for monorepo support. This will guide you through setting up workspace paths and configuration.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Start interactive setup</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --init</span></span></code></pre>
<p>When run, this will:</p>
<ul>
<li>Detect if you have overrides for packages not in root dependencies</li>
<li>Prompt you to choose between auto-detection or manual configuration</li>
<li>Offer common workspace structures (standard, packages-only, apps-only, custom)</li>
<li>Optionally save configuration to your package.json</li>
</ul>
<h3 id="pastoralist---interactive"><code>pastoralist --interactive</code></h3>
<p>Run pastoralist in interactive mode. When overrides are detected for packages not in root dependencies, you’ll be prompted to configure monorepo support.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run with interactive prompts</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --interactive</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Combine with security checks</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --checkSecurity</span><span style="color:#79B8FF"> --interactive</span></span></code></pre>
<h3 id="pastoralist---debug"><code>pastoralist --debug</code></h3>
<p>Enable detailed debug output.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run with debug logging</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --debug</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Debug specific package</span></span>
<span class="line"><span style="color:#B392F0">npx</span><span style="color:#9ECBFF"> pastoralist</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> packages/app/package.json</span><span style="color:#79B8FF"> --debug</span></span></code></pre>
<h2 id="nodejs-api">Node.js API</h2>
<h3 id="installation">Installation</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> pastoralist</span></span></code></pre>
<h3 id="updateoptions"><code>update(options)</code></h3>
<p>Update package.json overrides and manage the appendix.</p>
<p><strong>params:</strong></p>
<ul>
<li><code>options</code>: configuration object (optional)
<ul>
<li><code>path</code>: path to package.json (default: ’./package.json’)</li>
<li><code>depPaths</code>: array of glob patterns for multiple files</li>
<li><code>ignore</code>: array of glob patterns to ignore</li>
<li><code>root</code>: root directory path</li>
<li><code>debug</code>: enable debug logging</li>
</ul>
</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Basic usage</span></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// With specific path</span></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  path: </span><span style="color:#9ECBFF">&#39;./packages/app/package.json&#39;</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// With debug mode</span></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  debug: </span><span style="color:#79B8FF">true</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Multiple packages</span></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  depPaths: [</span><span style="color:#9ECBFF">&#39;packages/*/package.json&#39;</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#E1E4E8">  ignore: [</span><span style="color:#9ECBFF">&#39;**/test/**&#39;</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<h3 id="loggerconfig"><code>logger(config)</code></h3>
<p>Create a logger instance for custom debugging.</p>
<p><strong>params:</strong></p>
<ul>
<li><code>config</code>: logger configuration
<ul>
<li><code>file</code>: source file name</li>
<li><code>isLogging</code>: enable/disable logging</li>
</ul>
</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { logger } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Create logger</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> log</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> logger</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  file: </span><span style="color:#9ECBFF">&#39;my-script.js&#39;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  isLogging: </span><span style="color:#79B8FF">true</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Use logger</span></span>
<span class="line"><span style="color:#E1E4E8">log.</span><span style="color:#B392F0">debug</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;method-name&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;action&#39;</span><span style="color:#E1E4E8">, { data: </span><span style="color:#9ECBFF">&#39;value&#39;</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">log.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;method-name&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;error&#39;</span><span style="color:#E1E4E8">, { error: err });</span></span></code></pre>
<h2 id="examples">Examples</h2>
<h3 id="build-tool-integration">Build Tool Integration</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Ensure overrides are up-to-date before building</span></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;✓ Package overrides verified&#39;</span><span style="color:#E1E4E8">);</span></span></code></pre>
<h3 id="workspace-automation">Workspace Automation</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> glob </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;glob&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Update all workspace packages</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> packages</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> glob.</span><span style="color:#B392F0">sync</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;packages/*/package.json&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> (</span><span style="color:#F97583">const</span><span style="color:#79B8FF"> pkgPath</span><span style="color:#F97583"> of</span><span style="color:#E1E4E8"> packages) {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">({ path: pkgPath });</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`✓ Updated ${</span><span style="color:#E1E4E8">pkgPath</span><span style="color:#9ECBFF">}`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="cicd-validation">CI/CD Validation</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { execSync } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;child_process&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Check if overrides are up-to-date</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> before</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> execSync</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;git status --porcelain&#39;</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> after</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> execSync</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;git status --porcelain&#39;</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">toString</span><span style="color:#E1E4E8">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> (before </span><span style="color:#F97583">!==</span><span style="color:#E1E4E8"> after) {</span></span>
<span class="line"><span style="color:#E1E4E8">  console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;❌ Package.json overrides need updating&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  process.</span><span style="color:#B392F0">exit</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="custom-logger">Custom Logger</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update, logger } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Create custom logger</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> log</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> logger</span><span style="color:#E1E4E8">({</span></span>
<span class="line"><span style="color:#E1E4E8">  file: </span><span style="color:#9ECBFF">&#39;my-script.js&#39;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  isLogging: process.env.</span><span style="color:#79B8FF">DEBUG</span><span style="color:#F97583"> ===</span><span style="color:#9ECBFF"> &#39;true&#39;</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Log custom events</span></span>
<span class="line"><span style="color:#E1E4E8">log.</span><span style="color:#B392F0">debug</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;custom-action&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;starting&#39;</span><span style="color:#E1E4E8">, { time: Date.</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">() });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">({ debug: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">log.</span><span style="color:#B392F0">debug</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;custom-action&#39;</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">&#39;completed&#39;</span><span style="color:#E1E4E8">, { time: Date.</span><span style="color:#B392F0">now</span><span style="color:#E1E4E8">() });</span></span></code></pre>
<h3 id="error-handling">Error Handling</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">({ path: </span><span style="color:#9ECBFF">&#39;./package.json&#39;</span><span style="color:#E1E4E8"> });</span></span>
<span class="line"><span style="color:#E1E4E8">} </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#E1E4E8"> (error.code </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> &#39;ENOENT&#39;</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;Package.json not found&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">error</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;Unexpected error:&#39;</span><span style="color:#E1E4E8">, error);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="environment-variables">Environment Variables</h2>
<h3 id="debugpastoralist"><code>DEBUG=pastoralist*</code></h3>
<p>Enable debug output (equivalent to —debug flag).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#E1E4E8">DEBUG</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">pastoralist*</span><span style="color:#B392F0"> npx</span><span style="color:#9ECBFF"> pastoralist</span></span></code></pre>
<h2 id="typescript">TypeScript</h2>
<p>Pastoralist includes full TypeScript support.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { update, Options } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> &#39;pastoralist&#39;</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> options</span><span style="color:#F97583">:</span><span style="color:#B392F0"> Options</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  path: </span><span style="color:#9ECBFF">&#39;./package.json&#39;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  debug: </span><span style="color:#79B8FF">true</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">await</span><span style="color:#B392F0"> update</span><span style="color:#E1E4E8">(options);</span></span></code></pre> </section> <div class="divider"></div> <div class="flex gap-7"> <a class="mr-auto flex" href="/pastoralist/docs/codelab"> <button class="btn rounded-full"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"> <path fill="currentColor" d="M16.707 19.293 9.414 12l7.293-7.293-1.414-1.414L6.586 12l8.707 8.707 1.414-1.414z"></path> </svg> <span class="text-xs md:text-sm font-medium">Basic Usage</span> </button> </a> <a class="ml-auto flex" href="/pastoralist/docs/architecture"> <button class="btn rounded-full"> <span class="text-xs md:text-sm font-medium">Architecture</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"> <path fill="currentColor" d="M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z"></path> </svg> </button> </a> </div> </article> <div class="hidden xl:block ml-auto pl-8"> <div class="hidden xl:sticky xl:block xl:top-28 w-64"><nav aria-label="Table of contents"><h2 class="mb-3 text-xs font-semibold text-base-content/60 uppercase tracking-wider font-spline-sans-mono">
On this page
</h2><ul id="toc-list" class="space-y-2.5"><li><a href="#cli" data-toc-link class="block text-sm text-base-content/70 hover:text-[#1D4ED8] transition-colors py-1 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">CLI</a><ul class="mt-2 space-y-2 ml-3"><li><a href="#pastoralist" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist</a></li><li><a href="#pastoralist---path-path" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --path &lt;path&gt;</a></li><li><a href="#pastoralist---deppaths-paths" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --depPaths [paths...]</a></li><li><a href="#pastoralist---ignore-patterns" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --ignore [patterns...]</a></li><li><a href="#pastoralist---root-root" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --root &lt;root&gt;</a></li><li><a href="#pastoralist---init" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --init</a></li><li><a href="#pastoralist---interactive" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --interactive</a></li><li><a href="#pastoralist---debug" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">pastoralist --debug</a></li></ul></li><li><a href="#nodejs-api" data-toc-link class="block text-sm text-base-content/70 hover:text-[#1D4ED8] transition-colors py-1 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Node.js API</a><ul class="mt-2 space-y-2 ml-3"><li><a href="#installation" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Installation</a></li><li><a href="#updateoptions" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">update(options)</a></li><li><a href="#loggerconfig" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">logger(config)</a></li></ul></li><li><a href="#examples" data-toc-link class="block text-sm text-base-content/70 hover:text-[#1D4ED8] transition-colors py-1 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Examples</a><ul class="mt-2 space-y-2 ml-3"><li><a href="#build-tool-integration" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Build Tool Integration</a></li><li><a href="#workspace-automation" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Workspace Automation</a></li><li><a href="#cicd-validation" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">CI/CD Validation</a></li><li><a href="#custom-logger" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Custom Logger</a></li><li><a href="#error-handling" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Error Handling</a></li></ul></li><li><a href="#environment-variables" data-toc-link class="block text-sm text-base-content/70 hover:text-[#1D4ED8] transition-colors py-1 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">Environment Variables</a><ul class="mt-2 space-y-2 ml-3"><li><a href="#debugpastoralist" data-toc-link class="block text-base-content/60 hover:text-[#1D4ED8] text-sm transition-colors py-0.5 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">DEBUG=pastoralist*</a></li></ul></li><li><a href="#typescript" data-toc-link class="block text-sm text-base-content/70 hover:text-[#1D4ED8] transition-colors py-1 border-l-2 border-transparent pl-4 -ml-0.5 font-spline-sans-mono">TypeScript</a></li></ul></nav></div>

  <script type="module">function s(){const c=new IntersectionObserver(t=>{t.forEach(o=>{const n=o.target.getAttribute("id"),e=document.querySelector(`a[href="#${n}"]`);o.isIntersecting&&(document.querySelectorAll("[data-toc-link]").forEach(r=>{r.classList.remove("text-[#1D4ED8]","font-medium","border-[#1D4ED8]"),r.classList.add("text-base-content/70","border-transparent")}),e&&(e.classList.remove("text-base-content/70","text-base-content/60","border-transparent"),e.classList.add("text-[#1D4ED8]","font-medium","border-[#1D4ED8]")))})},{rootMargin:"-20% 0% -70% 0%",threshold:0});document.querySelectorAll("h2[id], h3[id], h4[id]").forEach(t=>{c.observe(t)}),document.querySelectorAll("[data-toc-link]").forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();const n=t.getAttribute("href").substring(1),e=document.getElementById(n);if(e){const d=e.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:d,behavior:"smooth"})}})})}document.addEventListener("DOMContentLoaded",s);document.addEventListener("astro:page-load",s);</script> </div> </div>  </div> </div> <div class="drawer-side z-40 md:border-r md:border-base-content/10" data-astro-cid-ngufsdsg> <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay" data-astro-cid-ngufsdsg></label> <aside class="bg-base-100 min-h-screen w-64 sm:w-72" data-astro-cid-ngufsdsg> <div class="bg-base-100 sticky top-0 z-20 items-center gap-2 bg-opacity-90 px-3 py-2 backdrop-blur lg:flex font-spline-sans-mono border-b border-base-content/10" data-astro-cid-ngufsdsg> <a href="/pastoralist" class="flex items-center gap-2 px-2 py-1" data-astro-cid-ngufsdsg> <h1 class="text-lg font-bold gradient-text" data-astro-cid-ngufsdsg>
Pastoralist
</h1> </a> </div> <div class="px-3 py-4 space-y-3" data-astro-cid-ngufsdsg> <div class="sidebar-section" data-astro-cid-ngufsdsg> <button class="sidebar-toggle w-full flex items-center justify-between px-2 py-1.5 text-xs font-semibold text-base-content/70 uppercase tracking-normal font-spline-sans-mono hover:text-base-content transition-colors" aria-expanded="false" data-section-index="0" data-astro-cid-ngufsdsg> <span data-astro-cid-ngufsdsg>Getting Started</span> <svg class="sidebar-chevron w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-ngufsdsg> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-astro-cid-ngufsdsg></path> </svg> </button> <div class="sidebar-content hidden" data-astro-cid-ngufsdsg> <div class="ml-2 mt-1 border-l-2 border-base-content/10" data-astro-cid-ngufsdsg> <ul class="space-y-0.5 py-1" data-astro-cid-ngufsdsg> <li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/introduction" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Introduction  </span> </a> </li><li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/setup" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Setup  </span> </a> </li><li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/demos" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Interactive Demos  </span> </a> </li> </ul> </div> </div> </div><div class="sidebar-section" data-astro-cid-ngufsdsg> <button class="sidebar-toggle w-full flex items-center justify-between px-2 py-1.5 text-xs font-semibold text-base-content/70 uppercase tracking-normal font-spline-sans-mono hover:text-base-content transition-colors" aria-expanded="false" data-section-index="1" data-astro-cid-ngufsdsg> <span data-astro-cid-ngufsdsg>Features</span> <svg class="sidebar-chevron w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-ngufsdsg> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-astro-cid-ngufsdsg></path> </svg> </button> <div class="sidebar-content hidden" data-astro-cid-ngufsdsg> <div class="ml-2 mt-1 border-l-2 border-base-content/10" data-astro-cid-ngufsdsg> <ul class="space-y-0.5 py-1" data-astro-cid-ngufsdsg> <li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/security" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Security Scanning  </span> </a> </li><li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/workspaces" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Workspaces &amp; Monorepos  </span> </a> </li><li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/advanced-features" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Advanced Features  </span> </a> </li> </ul> </div> </div> </div><div class="sidebar-section" data-astro-cid-ngufsdsg> <button class="sidebar-toggle w-full flex items-center justify-between px-2 py-1.5 text-xs font-semibold text-base-content/70 uppercase tracking-normal font-spline-sans-mono hover:text-base-content transition-colors" aria-expanded="false" data-section-index="2" data-astro-cid-ngufsdsg> <span data-astro-cid-ngufsdsg>Codelabs</span> <svg class="sidebar-chevron w-4 h-4 transition-transform duration-200 " fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-ngufsdsg> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-astro-cid-ngufsdsg></path> </svg> </button> <div class="sidebar-content hidden" data-astro-cid-ngufsdsg> <div class="ml-2 mt-1 border-l-2 border-base-content/10" data-astro-cid-ngufsdsg> <ul class="space-y-0.5 py-1" data-astro-cid-ngufsdsg> <li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/codelab" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Basic Usage  </span> </a> </li> </ul> </div> </div> </div><div class="sidebar-section" data-astro-cid-ngufsdsg> <button class="sidebar-toggle w-full flex items-center justify-between px-2 py-1.5 text-xs font-semibold text-base-content/70 uppercase tracking-normal font-spline-sans-mono hover:text-base-content transition-colors" aria-expanded="true" data-section-index="3" data-astro-cid-ngufsdsg> <span data-astro-cid-ngufsdsg>Reference</span> <svg class="sidebar-chevron w-4 h-4 transition-transform duration-200 rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-astro-cid-ngufsdsg> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-astro-cid-ngufsdsg></path> </svg> </button> <div class="sidebar-content " data-astro-cid-ngufsdsg> <div class="ml-2 mt-1 border-l-2 border-base-content/10" data-astro-cid-ngufsdsg> <ul class="space-y-0.5 py-1" data-astro-cid-ngufsdsg> <li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/api-reference" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-[#1D4ED8] bg-[#1D4ED8]/10 font-medium before:absolute before:left-[-2px] before:top-0 before:bottom-0 before:w-0.5 before:bg-[#1D4ED8]" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> API Reference  </span> </a> </li><li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/architecture" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Architecture  </span> </a> </li><li data-astro-cid-ngufsdsg> <a href="/pastoralist/docs/troubleshooting" class="block ml-0 pl-4 pr-3 py-2 text-sm transition-colors relative text-base-content/80 hover:text-[#1D4ED8] hover:bg-base-content/5" data-astro-cid-ngufsdsg> <span class="flex items-center justify-between" data-astro-cid-ngufsdsg> Troubleshooting &amp; FAQ  </span> </a> </li> </ul> </div> </div> </div> </div> </aside> </div> <script type="module">function d(){document.querySelectorAll(".sidebar-toggle").forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement.querySelector(".sidebar-content"),n=e.querySelector(".sidebar-chevron"),s=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",(!s).toString()),s?(t.classList.add("hidden"),n.classList.remove("rotate-90")):(t.classList.remove("hidden"),n.classList.add("rotate-90"))})})}document.addEventListener("DOMContentLoaded",d);document.addEventListener("astro:page-load",d);</script>  </div> <footer class="w-full px-4 sm:px-6 md:px-10 xl:px-28 py-6 sm:py-7 border-t border-base-300 flex flex-col gap-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center font-spline-sans-mono"> <div class="flex items-center justify-center sm:justify-start gap-2 order-3 sm:order-1"> <p class="text-sm sm:text-base text-center sm:text-left">Copyright © 2025 - All rights reserved</p> </div> <div class="flex items-center justify-center gap-2 order-1 sm:order-2"> <img src="/pastoralist/pastoralist-logo.svg" alt="Pastoralist Logo" class="h-12 w-12"> </div> <nav class="flex justify-center sm:justify-end order-2 sm:order-3"> <div class="grid grid-flow-col gap-4"> <a class="btn btn-ghost btn-circle flex items-center justify-center" href="https://github.com/yowainwright/pastoralist" aria-label="GitHub" target="_blank" rel="noopener noreferrer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="h-5 w-5"><path d="M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z" fill="currentColor"></path> </svg> </a> </div> </nav> </footer> </div> </body></html>