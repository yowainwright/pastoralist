<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="description" content="Pastoralist - Manage your package.json overrides, resolutions, and patches with ease"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/pastoralist/favicon.svg"><meta name="generator" content="Astro v5.13.8"><title>Security Vulnerability Detection</title><link rel="stylesheet" href="/pastoralist/_astro/index.D2qQq3qL.css">
<style>[data-astro-cid-sckkx6r4]{scroll-behavior:smooth}
</style></head> <body data-astro-cid-sckkx6r4> <div class="flex flex-col min-h-screen" data-astro-cid-sckkx6r4> <div class="drawer lg:drawer-open flex-1" data-astro-cid-sckkx6r4> <input id="my-drawer-2" type="checkbox" class="drawer-toggle" data-astro-cid-sckkx6r4> <div class="drawer-content flex flex-col" data-astro-cid-sckkx6r4> <header class="sticky top-0 z-30"> <nav class="navbar bg-base-100/90 shadow-sm backdrop-blur-lg justify-center items-center py-2 px-4 sm:px-6 md:px-10 border-b border-base-content/10"> <div class="navbar-start"> <label for="my-drawer-2" class="btn btn-square btn-ghost lg:hidden"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </label> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1bWdKk" component-url="/pastoralist/_astro/Search.Caihqmny.js" component-export="default" renderer-url="/pastoralist/_astro/client.knIjkhL_.js" props="{&quot;searchData&quot;:[1,[[0,{&quot;title&quot;:[0,&quot;Advanced Features&quot;],&quot;description&quot;:[0,&quot;Deep dive into pastoralist&#39;s advanced capabilities&quot;],&quot;content&quot;:[0,&quot;Pastoralist includes several advanced features that make dependency override management more powerful and maintainable.  Nested Overrides (Transitive Dependencies) Pastoralist fully supports npm&#39;s nested override syntax for overriding transitive dependencies (dependencies of dependencies).  How It Works When you need to override a transitive dependency, you can use nested overrides: This tells npm to use  whenever it&#39;s required by the  package, regardless of what version  actually specifies.  Mu&quot;],&quot;slug&quot;:[0,&quot;advanced-features&quot;]}],[0,{&quot;title&quot;:[0,&quot;API Reference&quot;],&quot;description&quot;:[0,&quot;Complete reference for pastoralist CLI and Node.js API&quot;],&quot;content&quot;:[0,&quot;Pastoralist provides both a CLI interface and a Node.js API for programmatic usage.  CLI   Run pastoralist on the current directory&#39;s package.json.   Run pastoralist on a specific package.json file. params: - : path to a package.json file   Run pastoralist on multiple package.json files using glob patterns. params: - : array of glob patterns   Exclude files matching glob patterns. params: - : array of glob patterns to ignore   Set the root directory for all operations. params: - : root directory&quot;],&quot;slug&quot;:[0,&quot;api-reference&quot;]}],[0,{&quot;title&quot;:[0,&quot;Architecture&quot;],&quot;description&quot;:[0,&quot;Deep dive into how Pastoralist works, including overrides, resolutions, patches, and the object anatomy&quot;],&quot;content&quot;:[0,&quot;How Pastoralist Works Pastoralist manages overrides, resolutions, and patches so you don&#39;t have to! It is comprised of a few functions which read the root package.json file&#39;s overrides or resolutions and map the packages in them to a  object. Additionally, it automatically detects and tracks patches in your project (such as those created by ). If Pastoralist observes an override, resolution, or patch is no longer needed, it removes it from the respective objects and the pastoralist appendix obje&quot;],&quot;slug&quot;:[0,&quot;architecture&quot;]}],[0,{&quot;title&quot;:[0,&quot;Interactive Tutorial&quot;],&quot;description&quot;:[0,&quot;Learn pastoralist step-by-step&quot;],&quot;content&quot;:[0,&quot;The Problem When using npm overrides or yarn resolutions, you often: - Forget why an override was added - Leave outdated overrides in place - Don&#39;t know which packages need them  The Solution Pastoralist automatically: - Documents each override with an appendix - Shows which packages require each override - Removes unnecessary overrides - Runs via postinstall hooks  Quick Start  How It Works  Before Pastoralist  After Pastoralist  Automatic Cleanup When dependencies no longer need an override, p&quot;],&quot;slug&quot;:[0,&quot;codelab&quot;]}],[0,{&quot;title&quot;:[0,&quot;Introduction to Pastoralist&quot;],&quot;description&quot;:[0,&quot;Pastoralist is a dependency management tool that keeps your package.json overrides, resolutions, and patches up-to-date automatically&quot;],&quot;content&quot;:[0,&quot;What is Pastoralist? Pastoralist is a command-line tool that automatically manages and updates your package.json overrides, resolutions, and patches. It ensures that your dependency overrides stay up-to-date with the latest versions, saving you time and reducing potential security vulnerabilities.  Why is Pastoralist Awesome?  The Problem When working with Node.js projects, you often need to override specific package versions due to: - Security vulnerabilities in transitive dependencies - Bug fi&quot;],&quot;slug&quot;:[0,&quot;introduction&quot;]}],[0,{&quot;title&quot;:[0,&quot;Interactive Demos&quot;],&quot;description&quot;:[0,&quot;Try pastoralist features directly in your browser with StackBlitz&quot;],&quot;content&quot;:[0,&quot;üöÄ Quick Start Click any demo below to open it instantly in StackBlitz - no installation required!  üì¶ Basic Demo Learn the fundamentals of override management  üîí Security Demo Detect and fix vulnerabilities automatically  üèóÔ∏è Workspaces Demo Manage overrides in monorepos  üîÑ Migration Demo Migrate from manual overrides  What Each Demo Shows Basic: How pastoralist tracks overrides, creates documentation, and cleans up unused ones Security: Scan for vulnerabilities, auto-fix issues, and manage s&quot;],&quot;slug&quot;:[0,&quot;demos&quot;]}],[0,{&quot;title&quot;:[0,&quot;Security Vulnerability Detection&quot;],&quot;description&quot;:[0,&quot;Detect and fix security vulnerabilities in your dependencies&quot;],&quot;content&quot;:[0,&quot;Pastoralist includes an experimental security feature that can detect vulnerabilities in your dependencies and automatically generate package overrides to fix them.  Overview The security feature scans your project&#39;s dependencies against vulnerability databases and suggests or applies fixes through package overrides. This helps maintain secure dependencies without manual intervention.  Quick Start  Basic Check  Auto Fix  Interactive  Workspaces  Configuration You can configure security settings &quot;],&quot;slug&quot;:[0,&quot;security&quot;]}],[0,{&quot;title&quot;:[0,&quot;Setup&quot;],&quot;description&quot;:[0,&quot;Quick and easy setup guide for Pastoralist CLI&quot;],&quot;content&quot;:[0,&quot;Getting Started 1. Install Pastoralist globally:     2. Run it in your project:     3. That&#39;s it! Pastoralist will automatically:    - Scan for overrides and resolutions    - Check for updates    - Update your package.json    - Track everything in the appendix  Setup Okay! Hopefully the breakdowns above were clear enough on why you might want to use Pastoralist! Please submit a pull request or issue if it wasn&#39;t! Now for the super simple setup! 1. Install 2. run 3. (recommended) add Pastoralist &quot;],&quot;slug&quot;:[0,&quot;setup&quot;]}],[0,{&quot;title&quot;:[0,&quot;Troubleshooting &amp; FAQ&quot;],&quot;description&quot;:[0,&quot;Common issues and frequently asked questions&quot;],&quot;content&quot;:[0,&quot;Frequently Asked Questions  What is pastoralist? Pastoralist is a tool that automatically manages your npm overrides (or yarn resolutions) by creating an appendix that documents why each override exists and which packages depend on them.  Why do I need pastoralist? Without pastoralist, it&#39;s easy to: - Forget why an override was added - Leave outdated overrides in your package.json - Not know which packages need specific overrides - Accumulate technical debt over time  Does pastoralist work with &quot;],&quot;slug&quot;:[0,&quot;troubleshooting&quot;]}],[0,{&quot;title&quot;:[0,&quot;Workspaces &amp; Monorepos&quot;],&quot;description&quot;:[0,&quot;Using pastoralist in workspace and monorepo environments&quot;],&quot;content&quot;:[0,&quot;Pastoralist works seamlessly with workspace and monorepo setups. This guide covers how to effectively use pastoralist across multiple packages.  How Pastoralist Works in Workspaces Pastoralist operates on a single  at a time. In a workspace setup, you can run it on: - The root package.json - Individual workspace packages - Multiple packages using scripts  Interactive Configuration Pastoralist offers interactive configuration for monorepo setups: When Pastoralist detects overrides for packages no&quot;],&quot;slug&quot;:[0,&quot;workspaces&quot;]}]]]}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> <div class="navbar-end"> <a class="btn btn-sm btn-ghost" href="https://github.com/yowainwright/pastoralist" aria-label="github"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="h-4 w-4"><path d="M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z" fill="currentColor"></path> </svg> </a> <button aria-label="theme-toggle" id="themeToggle" class="btn btn-sm btn-ghost swap swap-rotate btn-square"> <svg class="w-4 h-4 fill-current swap-off" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path> </svg> <svg class="w-4 h-4 fill-current swap-on" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path> </svg> </button> <script>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "night";
    }
    return "lofi";
  })();

  if (theme === "lofi") {
    document.documentElement.setAttribute("data-theme", "lofi");
    document.getElementById("themeToggle").classList.remove("swap-active");
  } else {
    document.documentElement.setAttribute("data-theme", "night");
    document.getElementById("themeToggle").classList.add("swap-active");
  }

  window.localStorage.setItem("theme", theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    const isDark = element.dataset.theme === "night";
    localStorage.setItem("theme", isDark ? "lofi" : "night");
    element.setAttribute("data-theme", isDark ? "lofi" : "night");
    if (isDark) {
      document.getElementById("themeToggle").classList.remove("swap-active");
    } else {
      document.getElementById("themeToggle").classList.add("swap-active");
    }
  };

  document
    .getElementById("themeToggle")
    .addEventListener("click", handleToggleClick);
</script> </div> </nav> </header> <div class="flex-1" data-astro-cid-sckkx6r4>  <div class="flex flex-col lg:flex-row p-4 sm:p-6 md:p-10 md:pt-10 xl:gap-20 font-outfit"> <article class="flex flex-col w-full lg:max-w-3xl"> <div class="text-sm breadcrumbs pt-0 pb-4"> <ul> <li><a href="/pastoralist" class="hover:text-primary">Home</a></li> <li class="text-primary">Security Vulnerability Detection</li> </ul> </div> <section class="prose prose-sm sm:prose-base md:prose-md mb-10 max-w-none prose-pre:max-w-[90vw] prose-pre:overflow-x-auto"> <div> <h1>Security Vulnerability Detection</h1> <p>Detect and fix security vulnerabilities in your dependencies</p> </div> <div class="divider my-5"></div> <p>Pastoralist includes an experimental security feature that can detect vulnerabilities in your dependencies and automatically generate package overrides to fix them.</p>
<h2 id="overview">Overview</h2>
<p>The security feature scans your project‚Äôs dependencies against vulnerability databases and suggests or applies fixes through package overrides. This helps maintain secure dependencies without manual intervention.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="basic-check">Basic Check</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Check for vulnerabilities and display a report</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span><span style="color:#79B8FF"> --checkSecurity</span></span></code></pre>
<h3 id="auto-fix">Auto Fix</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Automatically apply security fixes</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span><span style="color:#79B8FF"> --checkSecurity</span><span style="color:#79B8FF"> --forceSecurityRefactor</span></span></code></pre>
<h3 id="interactive">Interactive</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Choose which fixes to apply</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span><span style="color:#79B8FF"> --checkSecurity</span><span style="color:#79B8FF"> --interactive</span></span></code></pre>
<h3 id="workspaces">Workspaces</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Include workspace packages in the scan</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span><span style="color:#79B8FF"> --checkSecurity</span><span style="color:#79B8FF"> --includeWorkspaces</span></span></code></pre>
<h2 id="configuration">Configuration</h2>
<p>You can configure security settings in your <code>package.json</code>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;pastoralist&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;security&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;enabled&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;provider&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;osv&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;autoFix&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;interactive&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;securityProviderToken&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;includeWorkspaces&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">false</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;severityThreshold&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;medium&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      &quot;excludePackages&quot;</span><span style="color:#E1E4E8">: []</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="configuration-options">Configuration Options</h3>



























































<table><thead><tr><th>Option</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>enabled</code></td><td>boolean</td><td><code>false</code></td><td>Enable automatic security checks when running pastoralist</td></tr><tr><td><code>provider</code></td><td>string</td><td><code>&quot;osv&quot;</code></td><td>Security provider to use (currently only ‚Äúosv‚Äù is implemented)</td></tr><tr><td><code>autoFix</code></td><td>boolean</td><td><code>false</code></td><td>Automatically apply security fixes without prompting</td></tr><tr><td><code>interactive</code></td><td>boolean</td><td><code>false</code></td><td>Use interactive mode to select which fixes to apply</td></tr><tr><td><code>securityProviderToken</code></td><td>string</td><td><code>&quot;&quot;</code></td><td>Authentication token for providers that require it (future use)</td></tr><tr><td><code>includeWorkspaces</code></td><td>boolean</td><td><code>false</code></td><td>Include workspace packages in security scan</td></tr><tr><td><code>severityThreshold</code></td><td>string</td><td><code>&quot;medium&quot;</code></td><td>Minimum severity level to report (low, medium, high, critical)</td></tr><tr><td><code>excludePackages</code></td><td>array</td><td><code>[]</code></td><td>List of package names to exclude from security checks</td></tr></tbody></table>
<h2 id="cli-options">CLI Options</h2>

































<table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><code>--checkSecurity</code></td><td>Enable security vulnerability checking</td></tr><tr><td><code>--forceSecurityRefactor</code></td><td>Automatically apply security fixes without prompting</td></tr><tr><td><code>--securityProvider &lt;provider&gt;</code></td><td>Specify the security provider (default: ‚Äúosv‚Äù)</td></tr><tr><td><code>--securityProviderToken &lt;token&gt;</code></td><td>Provide authentication token for the security provider</td></tr><tr><td><code>--interactive</code></td><td>Use interactive mode to select fixes</td></tr><tr><td><code>--includeWorkspaces</code></td><td>Include workspace packages in the security scan</td></tr></tbody></table>
<h2 id="security-providers">Security Providers</h2>
<h3 id="osv-open-source-vulnerabilities">OSV (Open Source Vulnerabilities)</h3>
<p>Currently, Pastoralist uses the <a href="https://osv.dev/">OSV database</a> as its security provider. OSV is a distributed vulnerability database for open source, created by Google and the open source community.</p>
<h4 id="benefits-of-osv">Benefits of OSV</h4>
<ul>
<li>Fully open source and transparent</li>
<li>No authentication required</li>
<li>Aggregates data from multiple vulnerability sources</li>
<li>Fast and reliable API</li>
<li>Comprehensive coverage of npm packages</li>
</ul>
<h3 id="planned-providers">Planned Providers</h3>
<p>Support for additional providers is planned for future releases:</p>
<ul>
<li><strong>GitHub</strong>: Dependabot alerts API</li>
<li><strong>Snyk</strong>: Commercial vulnerability database</li>
<li><strong>NPM</strong>: Native npm audit data</li>
<li><strong>Socket</strong>: Supply chain security analysis</li>
</ul>
<h2 id="how-it-works">How It Works</h2>
<ol>
<li><strong>Scanning</strong>: Pastoralist extracts all dependencies from your <code>package.json</code> (and optionally workspace packages)</li>
<li><strong>Checking</strong>: Dependencies are checked against the OSV database for known vulnerabilities</li>
<li><strong>Reporting</strong>: Vulnerable packages are displayed with severity levels and available fixes</li>
<li><strong>Fixing</strong>: If fixes are available, Pastoralist can:
<ul>
<li>Display them for review</li>
<li>Apply them automatically (with <code>--forceSecurityRefactor</code>)</li>
<li>Let you choose interactively (with <code>--interactive</code>)</li>
</ul>
</li>
<li><strong>Applying</strong>: Selected fixes are added to your <code>package.json</code> overrides section</li>
</ol>
<h2 id="example-output">Example Output</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>üîí pastoralist checking for security vulnerabilities...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üîí Security Check Report</span></span>
<span class="line"><span>‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Found 3 vulnerable package(s):</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üî• lodash@4.17.20</span></span>
<span class="line"><span>   Prototype Pollution</span></span>
<span class="line"><span>   CVE: CVE-2021-23337</span></span>
<span class="line"><span>   ‚úÖ Fix available: 4.17.21</span></span>
<span class="line"><span>   üîó https://osv.dev/vulnerability/GHSA-35jh-r3h4-6jhm</span></span>
<span class="line"><span></span></span>
<span class="line"><span>‚ö†Ô∏è minimist@1.2.5</span></span>
<span class="line"><span>   Prototype Pollution</span></span>
<span class="line"><span>   CVE: CVE-2021-44906</span></span>
<span class="line"><span>   ‚úÖ Fix available: 1.2.6</span></span>
<span class="line"><span>   üîó https://osv.dev/vulnerability/GHSA-xvch-5gv4-984h</span></span>
<span class="line"><span></span></span>
<span class="line"><span>üìù Generated 2 override(s):</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &quot;lodash&quot;: &quot;4.17.21&quot; // Security fix: Prototype Pollution (high)</span></span>
<span class="line"><span>  &quot;minimist&quot;: &quot;1.2.6&quot; // Security fix: Prototype Pollution (medium)</span></span></code></pre>
<h2 id="performance-considerations">Performance Considerations</h2>
<p>:::caution[Performance Impact]</p>
<ul>
<li>Security scanning is <strong>disabled by default</strong> to maintain fast performance</li>
<li>Workspace scanning is <strong>opt-in</strong> via the <code>includeWorkspaces</code> option</li>
<li>The OSV provider is optimized for batch queries</li>
<li>Results are processed in parallel when possible
:::</li>
</ul>
<h2 id="best-practices">Best Practices</h2>
<ul>
<li><strong>Regular Scanning</strong>: Run security checks as part of your CI/CD pipeline</li>
<li><strong>Review First</strong>: Always review suggested fixes before applying them</li>
<li><strong>Test After Fixes</strong>: Ensure your application still works after applying security overrides</li>
<li><strong>Monitor Workspaces</strong>: In monorepos, consider enabling workspace scanning for comprehensive coverage</li>
</ul>
<h2 id="limitations">Limitations</h2>
<p>:::note[Current Limitations]</p>
<ul>
<li>Currently only supports npm packages</li>
<li>Only the OSV provider is implemented</li>
<li>Interactive mode requires the <code>inquirer</code> package (installed on demand)</li>
<li>Some vulnerabilities may not have available fixes
:::</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="no-vulnerabilities-found-when-expected">No vulnerabilities found when expected</h3>
<ul>
<li>Ensure you‚Äôre using the latest version of pastoralist</li>
<li>Check that your dependencies are correctly specified in package.json</li>
<li>Try running with <code>--debug</code> to see detailed logs</li>
</ul>
<h3 id="fixes-not-being-applied">Fixes not being applied</h3>
<ul>
<li>Verify you have write permissions to package.json</li>
<li>Check for existing overrides that might conflict</li>
<li>Ensure the package manager supports overrides</li>
</ul>
<h3 id="performance-issues">Performance issues</h3>
<ul>
<li>Disable workspace scanning if not needed</li>
<li>Consider excluding large dependency trees with <code>excludePackages</code></li>
<li>Use severity threshold to limit results</li>
</ul>
<h2 id="example-cicd-integration">Example: CI/CD Integration</h2>
<h3 id="github-actions">GitHub Actions</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Security Check</span></span>
<span class="line"><span style="color:#79B8FF">on</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">push</span><span style="color:#E1E4E8">, </span><span style="color:#9ECBFF">pull_request</span><span style="color:#E1E4E8">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#85E89D">jobs</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">  security</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">    runs-on</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">ubuntu-latest</span></span>
<span class="line"><span style="color:#85E89D">    steps</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">uses</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">actions/checkout@v3</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">uses</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">actions/setup-node@v3</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">run</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">npm install</span></span>
<span class="line"><span style="color:#E1E4E8">      - </span><span style="color:#85E89D">run</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">npx pastoralist --checkSecurity</span></span></code></pre>
<h3 id="gitlab-ci">GitLab CI</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#85E89D">security</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#85E89D">  script</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">    - </span><span style="color:#9ECBFF">npm install</span></span>
<span class="line"><span style="color:#E1E4E8">    - </span><span style="color:#9ECBFF">npx pastoralist --checkSecurity</span></span>
<span class="line"><span style="color:#85E89D">  only</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">    - </span><span style="color:#9ECBFF">main</span></span>
<span class="line"><span style="color:#E1E4E8">    - </span><span style="color:#9ECBFF">merge_requests</span></span></code></pre>
<h2 id="contributing">Contributing</h2>
<p>The security feature is experimental and we welcome contributions! Areas for improvement:</p>
<ul>
<li>Additional security provider implementations</li>
<li>Enhanced vulnerability filtering</li>
<li>Better workspace integration</li>
<li>Performance optimizations</li>
</ul>
<p>Please see our <a href="https://github.com/yowainwright/pastoralist/blob/main/CONTRIBUTING.md">contributing guide</a> for more information.</p> </section> <div class="divider"></div> <div class="flex gap-7"> <a class="mr-auto flex" href="/pastoralist/docs/demos"> <button class="btn rounded-full"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"> <path fill="currentColor" d="M16.707 19.293 9.414 12l7.293-7.293-1.414-1.414L6.586 12l8.707 8.707 1.414-1.414z"></path> </svg> <span class="text-xs md:text-sm font-medium">Interactive Demos</span> </button> </a> <a class="ml-auto flex" href="/pastoralist/docs/workspaces"> <button class="btn rounded-full"> <span class="text-xs md:text-sm font-medium">Workspaces &amp; Monorepos</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"> <path fill="currentColor" d="M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z"></path> </svg> </button> </a> </div> </article> <div class="hidden lg:block"> <div class="hidden xl:sticky xl:block xl:top-28"><h1 class="mb-4 text-xl font-bold font-outfit">On this page</h1><ul><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#overview"> Overview </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#quick-start"> Quick Start </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#configuration"> Configuration </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#cli-options"> CLI Options </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#security-providers"> Security Providers </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#how-it-works"> How It Works </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#example-output"> Example Output </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#performance-considerations"> Performance Considerations </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#best-practices"> Best Practices </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#limitations"> Limitations </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#troubleshooting"> Troubleshooting </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#example-cicd-integration"> Example: CI/CD Integration </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#contributing"> Contributing </a> </li></ul></div> </div> </div>  </div> </div> <div class="drawer-side z-40 md:border-r md:border-base-content/10"> <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"></label> <aside class="bg-base-100 min-h-screen w-72 sm:w-80"> <div class="bg-base-100 sticky top-0 z-20 items-center gap-2 bg-opacity-90 px-4 py-2 backdrop-blur lg:flex font-outfit"> <a href="/pastoralist" class="btn btn-ghost px-2"> <h1 class="text-2xl font-bold gradient-text">
Pastoralist
</h1> </a> </div> <div class="p-4 pt-8"> <div> <h2 class="mb-4 text-xl font-bold font-outfit"> Getting Started </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/introduction" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Introduction  </a> </li><li> <a href="/pastoralist/docs/setup" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Setup  </a> </li><li> <a href="/pastoralist/docs/demos" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Interactive Demos  </a> </li> </ul> </div><div> <h2 class="mb-4 text-xl font-bold font-outfit"> Features </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/security" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition text-[#1D4ED8] bg-[#1D4ED8]/10"> Security Scanning  </a> </li><li> <a href="/pastoralist/docs/workspaces" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Workspaces &amp; Monorepos  </a> </li><li> <a href="/pastoralist/docs/advanced-features" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Advanced Features  </a> </li> </ul> </div><div> <h2 class="mb-4 text-xl font-bold font-outfit"> Codelabs </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/codelab-basic" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Basic Usage  </a> </li><li> <a href="/pastoralist/docs/codelab-security" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Security Features  </a> </li><li> <a href="/pastoralist/docs/codelab-migration" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Migration Guide  </a> </li> </ul> </div><div> <h2 class="mb-4 text-xl font-bold font-outfit"> Reference </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/api-reference" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> API Reference  </a> </li><li> <a href="/pastoralist/docs/architecture" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Architecture  </a> </li><li> <a href="/pastoralist/docs/troubleshooting" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Troubleshooting &amp; FAQ  </a> </li> </ul> </div> </div> </aside> </div> </div> <footer class="w-full px-4 sm:px-6 md:px-10 xl:px-28 py-6 sm:py-7 border-t border-base-300 flex flex-col gap-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center font-outfit"> <div class="flex items-center justify-center sm:justify-start gap-2 order-3 sm:order-1"> <p class="text-sm sm:text-base text-center sm:text-left">Copyright ¬© 2025 - All rights reserved</p> </div> <div class="flex items-center justify-center gap-2 order-1 sm:order-2"> <img src="/pastoralist/pastoralist-logo.svg" alt="Pastoralist Logo" class="h-12 w-12"> </div> <nav class="flex justify-center sm:justify-end order-2 sm:order-3"> <div class="grid grid-flow-col gap-4"> <a class="btn btn-ghost btn-circle flex items-center justify-center" href="https://github.com/yowainwright/pastoralist" aria-label="GitHub" target="_blank" rel="noopener noreferrer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="h-5 w-5"><path d="M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z" fill="currentColor"></path> </svg> </a> </div> </nav> </footer> </div> </body></html>