<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="description" content="Pastoralist - Manage your package.json overrides, resolutions, and patches with ease"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/pastoralist/favicon.svg"><meta name="generator" content="Astro v5.13.3"><title>Workspaces &amp; Monorepos</title><link rel="stylesheet" href="/pastoralist/_astro/index.CgjaTqJD.css">
<style>[data-astro-cid-sckkx6r4]{scroll-behavior:smooth}
</style></head> <body data-astro-cid-sckkx6r4> <div class="flex flex-col min-h-screen" data-astro-cid-sckkx6r4> <div class="drawer lg:drawer-open flex-1" data-astro-cid-sckkx6r4> <input id="my-drawer-2" type="checkbox" class="drawer-toggle" data-astro-cid-sckkx6r4> <div class="drawer-content flex flex-col" data-astro-cid-sckkx6r4> <header class="sticky top-0 z-30"> <nav class="navbar bg-base-100/90 shadow-sm backdrop-blur-lg justify-center items-center py-2 px-4 sm:px-6 md:px-10 border-b border-base-content/10"> <div class="navbar-start"> <label for="my-drawer-2" class="btn btn-square btn-ghost lg:hidden"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> </svg> </label> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1Se8MP" component-url="/pastoralist/_astro/Search.Caihqmny.js" component-export="default" renderer-url="/pastoralist/_astro/client.knIjkhL_.js" props="{&quot;searchData&quot;:[1,[[0,{&quot;title&quot;:[0,&quot;Advanced Features&quot;],&quot;description&quot;:[0,&quot;Deep dive into pastoralist&#39;s advanced capabilities&quot;],&quot;content&quot;:[0,&quot;Pastoralist includes several advanced features that make dependency override management more powerful and maintainable.  Nested Overrides (Transitive Dependencies) Pastoralist fully supports npm&#39;s nested override syntax for overriding transitive dependencies (dependencies of dependencies).  How It Works When you need to override a transitive dependency, you can use nested overrides: This tells npm to use  whenever it&#39;s required by the  package, regardless of what version  actually specifies.  Mu&quot;],&quot;slug&quot;:[0,&quot;advanced-features&quot;]}],[0,{&quot;title&quot;:[0,&quot;API Reference&quot;],&quot;description&quot;:[0,&quot;Complete reference for pastoralist CLI and Node.js API&quot;],&quot;content&quot;:[0,&quot;Pastoralist provides both a CLI interface and a Node.js API for programmatic usage.  CLI   Run pastoralist on the current directory&#39;s package.json.   Run pastoralist on a specific package.json file. params: - : path to a package.json file   Run pastoralist on multiple package.json files using glob patterns. params: - : array of glob patterns   Exclude files matching glob patterns. params: - : array of glob patterns to ignore   Set the root directory for all operations. params: - : root directory&quot;],&quot;slug&quot;:[0,&quot;api-reference&quot;]}],[0,{&quot;title&quot;:[0,&quot;Architecture&quot;],&quot;description&quot;:[0,&quot;Deep dive into how Pastoralist works, including overrides, resolutions, patches, and the object anatomy&quot;],&quot;content&quot;:[0,&quot;How Pastoralist Works Pastoralist manages overrides, resolutions, and patches so you don&#39;t have to! It is comprised of a few functions which read the root package.json file&#39;s overrides or resolutions and map the packages in them to a  object. Additionally, it automatically detects and tracks patches in your project (such as those created by ). If Pastoralist observes an override, resolution, or patch is no longer needed, it removes it from the respective objects and the pastoralist appendix obje&quot;],&quot;slug&quot;:[0,&quot;architecture&quot;]}],[0,{&quot;title&quot;:[0,&quot;Interactive Codelab&quot;],&quot;description&quot;:[0,&quot;Learn how pastoralist works through hands-on examples&quot;],&quot;content&quot;:[0,&quot;Welcome to the pastoralist interactive codelab! This hands-on tutorial will help you understand how pastoralist manages your package.json overrides and resolutions through real examples you can run in your browser.  What You&#39;ll Learn In this codelab, you&#39;ll discover: - 📝 How pastoralist documents your overrides - 🧹 Automatic cleanup of unnecessary overrides - 🔍 Dependency tracking and visualization - 🚀 Integration into your workflow  Before You Begin  The Problem When using npm overrides or &quot;],&quot;slug&quot;:[0,&quot;codelab&quot;]}],[0,{&quot;title&quot;:[0,&quot;Interactive Demos&quot;],&quot;description&quot;:[0,&quot;Try pastoralist features directly in your browser with StackBlitz&quot;],&quot;content&quot;:[0,&quot;Experience pastoralist&#39;s features through interactive demos that run directly in your browser. No installation required!  🚀 Quick Start with StackBlitz All demos open instantly in StackBlitz - just click and explore!  📦 Basic Demo Learn the fundamentals of override management. ![Open in StackBlitz](https://stackblitz.com/github/yowainwright/pastoralist/tree/main/demo/basic)  🔒 Security Demo Detect and fix vulnerabilities automatically. ![Open in StackBlitz](https://stackblitz.com/github/yowai&quot;],&quot;slug&quot;:[0,&quot;demos&quot;]}],[0,{&quot;title&quot;:[0,&quot;Introduction to Pastoralist&quot;],&quot;description&quot;:[0,&quot;Pastoralist is a dependency management tool that keeps your package.json overrides, resolutions, and patches up-to-date automatically&quot;],&quot;content&quot;:[0,&quot;What is Pastoralist? Pastoralist is a command-line tool that automatically manages and updates your package.json overrides, resolutions, and patches. It ensures that your dependency overrides stay up-to-date with the latest versions, saving you time and reducing potential security vulnerabilities.  Why is Pastoralist Awesome?  The Problem When working with Node.js projects, you often need to override specific package versions due to: - Security vulnerabilities in transitive dependencies - Bug fi&quot;],&quot;slug&quot;:[0,&quot;introduction&quot;]}],[0,{&quot;title&quot;:[0,&quot;Security Vulnerability Detection&quot;],&quot;description&quot;:[0,&quot;Detect and fix security vulnerabilities in your dependencies&quot;],&quot;content&quot;:[0,&quot;Pastoralist includes an experimental security feature that can detect vulnerabilities in your dependencies and automatically generate package overrides to fix them.  Overview The security feature scans your project&#39;s dependencies against vulnerability databases and suggests or applies fixes through package overrides. This helps maintain secure dependencies without manual intervention.  Quick Start  Basic Check  Auto Fix  Interactive  Workspaces  Configuration You can configure security settings &quot;],&quot;slug&quot;:[0,&quot;security&quot;]}],[0,{&quot;title&quot;:[0,&quot;Setup&quot;],&quot;description&quot;:[0,&quot;Quick and easy setup guide for Pastoralist CLI&quot;],&quot;content&quot;:[0,&quot;Getting Started 1. Install Pastoralist globally:     2. Run it in your project:     3. That&#39;s it! Pastoralist will automatically:    - Scan for overrides and resolutions    - Check for updates    - Update your package.json    - Track everything in the appendix  Setup Okay! Hopefully the breakdowns above were clear enough on why you might want to use Pastoralist! Please submit a pull request or issue if it wasn&#39;t! Now for the super simple setup! 1. Install 2. run 3. (recommended) add Pastoralist &quot;],&quot;slug&quot;:[0,&quot;setup&quot;]}],[0,{&quot;title&quot;:[0,&quot;Troubleshooting &amp; FAQ&quot;],&quot;description&quot;:[0,&quot;Common issues and frequently asked questions&quot;],&quot;content&quot;:[0,&quot;Frequently Asked Questions  What is pastoralist? Pastoralist is a tool that automatically manages your npm overrides (or yarn resolutions) by creating an appendix that documents why each override exists and which packages depend on them.  Why do I need pastoralist? Without pastoralist, it&#39;s easy to: - Forget why an override was added - Leave outdated overrides in your package.json - Not know which packages need specific overrides - Accumulate technical debt over time  Does pastoralist work with &quot;],&quot;slug&quot;:[0,&quot;troubleshooting&quot;]}],[0,{&quot;title&quot;:[0,&quot;Workspaces &amp; Monorepos&quot;],&quot;description&quot;:[0,&quot;Using pastoralist in workspace and monorepo environments&quot;],&quot;content&quot;:[0,&quot;Pastoralist works seamlessly with workspace and monorepo setups. This guide covers how to effectively use pastoralist across multiple packages.  How Pastoralist Works in Workspaces Pastoralist operates on a single  at a time. In a workspace setup, you can run it on: - The root package.json - Individual workspace packages - Multiple packages using scripts  Basic Usage  Running on Root Package This will manage overrides in your root , which affect all workspaces.  Running on Workspace Packages  Co&quot;],&quot;slug&quot;:[0,&quot;workspaces&quot;]}]]]}" ssr client="only" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </div> <div class="navbar-end"> <a class="btn btn-sm btn-ghost" href="https://github.com/yowainwright/pastoralist" aria-label="github"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="h-4 w-4"><path d="M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z" fill="currentColor"></path> </svg> </a> <button aria-label="theme-toggle" id="themeToggle" class="btn btn-sm btn-ghost swap swap-rotate btn-square"> <svg class="w-4 h-4 fill-current swap-off" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path> </svg> <svg class="w-4 h-4 fill-current swap-on" width="24px" height="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"> <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path> </svg> </button> <script>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "night";
    }
    return "lofi";
  })();

  if (theme === "lofi") {
    document.documentElement.setAttribute("data-theme", "lofi");
    document.getElementById("themeToggle").classList.remove("swap-active");
  } else {
    document.documentElement.setAttribute("data-theme", "night");
    document.getElementById("themeToggle").classList.add("swap-active");
  }

  window.localStorage.setItem("theme", theme);

  const handleToggleClick = () => {
    const element = document.documentElement;
    const isDark = element.dataset.theme === "night";
    localStorage.setItem("theme", isDark ? "lofi" : "night");
    element.setAttribute("data-theme", isDark ? "lofi" : "night");
    if (isDark) {
      document.getElementById("themeToggle").classList.remove("swap-active");
    } else {
      document.getElementById("themeToggle").classList.add("swap-active");
    }
  };

  document
    .getElementById("themeToggle")
    .addEventListener("click", handleToggleClick);
</script> </div> </nav> </header> <div class="flex-1" data-astro-cid-sckkx6r4>  <div class="flex flex-col lg:flex-row p-4 sm:p-6 md:p-10 md:pt-10 xl:gap-20 font-outfit"> <article class="flex flex-col w-full lg:max-w-3xl"> <div class="text-sm breadcrumbs pt-0 pb-4"> <ul> <li><a href="/pastoralist" class="hover:text-primary">Home</a></li> <li class="text-primary">Workspaces &amp; Monorepos</li> </ul> </div> <section class="prose prose-sm sm:prose-base md:prose-md mb-10 max-w-none prose-pre:max-w-[90vw] prose-pre:overflow-x-auto"> <div> <h1>Workspaces &amp; Monorepos</h1> <p>Using pastoralist in workspace and monorepo environments</p> </div> <div class="divider my-5"></div> <p>Pastoralist works seamlessly with workspace and monorepo setups. This guide covers how to effectively use pastoralist across multiple packages.</p>
<h2 id="how-pastoralist-works-in-workspaces">How Pastoralist Works in Workspaces</h2>
<p>Pastoralist operates on a single <code>package.json</code> at a time. In a workspace setup, you can run it on:</p>
<ul>
<li>The root package.json</li>
<li>Individual workspace packages</li>
<li>Multiple packages using scripts</li>
</ul>
<h2 id="basic-usage">Basic Usage</h2>
<h3 id="running-on-root-package">Running on Root Package</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run on the root package.json</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span></span></code></pre>
<p>This will manage overrides in your root <code>package.json</code>, which affect all workspaces.</p>
<h3 id="running-on-workspace-packages">Running on Workspace Packages</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Run on a specific workspace package</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> packages/app-a/package.json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Or navigate to the package</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> packages/app-a</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span></span></code></pre>
<h2 id="common-patterns">Common Patterns</h2>
<h3 id="pattern-1-root-level-overrides">Pattern 1: Root-Level Overrides</h3>
<p>Most monorepos use root-level overrides that apply to all workspaces:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// root package.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;name&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;my-monorepo&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;workspaces&quot;</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&quot;packages/*&quot;</span><span style="color:#E1E4E8">],</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;overrides&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;lodash&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;4.17.21&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;react&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;18.2.0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Run pastoralist at the root:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pastoralist</span></span></code></pre>
<h3 id="pattern-2-package-specific-overrides">Pattern 2: Package-Specific Overrides</h3>
<p>Some packages may need their own overrides:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// packages/legacy-app/package.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;name&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;legacy-app&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;overrides&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;react&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;17.0.2&quot;</span><span style="color:#6A737D">  // This app needs React 17</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Run pastoralist for this package:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pastoralist</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> packages/legacy-app/package.json</span></span></code></pre>
<h3 id="pattern-3-automated-workspace-management">Pattern 3: Automated Workspace Management</h3>
<p>Create a script to run pastoralist across all workspaces:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// root package.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;pastoralist:all&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;npm run pastoralist:root &amp;&amp; npm run pastoralist:workspaces&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;pastoralist:root&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;pastoralist:workspaces&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;lerna run pastoralist --parallel&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Or with a custom script:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># scripts/update-overrides.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> &quot;Updating root overrides...&quot;</span></span>
<span class="line"><span style="color:#B392F0">pastoralist</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> &quot;Updating workspace overrides...&quot;</span></span>
<span class="line"><span style="color:#F97583">for</span><span style="color:#E1E4E8"> pkg </span><span style="color:#F97583">in</span><span style="color:#9ECBFF"> packages/*/package.json</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">do</span></span>
<span class="line"><span style="color:#F97583">  if</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -q</span><span style="color:#9ECBFF"> &quot;overrides&quot;</span><span style="color:#9ECBFF"> &quot;</span><span style="color:#E1E4E8">$pkg</span><span style="color:#9ECBFF">&quot;</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> &quot;Updating </span><span style="color:#E1E4E8">$pkg</span><span style="color:#9ECBFF">...&quot;</span></span>
<span class="line"><span style="color:#B392F0">    pastoralist</span><span style="color:#79B8FF"> --path</span><span style="color:#9ECBFF"> &quot;</span><span style="color:#E1E4E8">$pkg</span><span style="color:#9ECBFF">&quot;</span></span>
<span class="line"><span style="color:#F97583">  fi</span></span>
<span class="line"><span style="color:#F97583">done</span></span></code></pre>
<h2 id="integration-strategies">Integration Strategies</h2>
<h3 id="strategy-1-centralized-management-recommended">Strategy 1: Centralized Management (Recommended)</h3>
<p>Keep all overrides in the root <code>package.json</code>:</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Single source of truth</li>
<li>Easier to maintain</li>
<li>Consistent versions across packages</li>
</ul>
<p><strong>Setup:</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// root package.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;overrides&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;lodash&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;4.17.21&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="strategy-2-distributed-management">Strategy 2: Distributed Management</h3>
<p>Allow packages to manage their own overrides:</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Package autonomy</li>
<li>Specific version requirements</li>
<li>Gradual migrations</li>
</ul>
<p><strong>Setup:</strong></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// packages/*/package.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="strategy-3-hybrid-approach">Strategy 3: Hybrid Approach</h3>
<p>Combine root overrides with package-specific ones:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// root: security patches</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;overrides&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;minimist&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;1.2.8&quot;</span><span style="color:#6A737D">  // Security fix</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// packages: feature-specific</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;overrides&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;react&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;17.0.2&quot;</span><span style="color:#6A737D">  // Compatibility requirement</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="real-world-examples">Real-World Examples</h2>
<h3 id="example-1-lerna-monorepo">Example 1: Lerna Monorepo</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;name&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;my-lerna-monorepo&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;lerna bootstrap &amp;&amp; pastoralist&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;update-overrides&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist &amp;&amp; lerna run pastoralist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="example-2-npm-workspaces">Example 2: npm Workspaces</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;name&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;my-npm-workspace&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;workspaces&quot;</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#9ECBFF">    &quot;packages/*&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    &quot;apps/*&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  ],</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;check-overrides&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist --debug&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="example-3-pnpm-workspace">Example 3: pnpm Workspace</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#6A737D"># pnpm-workspace.yaml</span></span>
<span class="line"><span style="color:#85E89D">packages</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">  - </span><span style="color:#9ECBFF">&#39;packages/*&#39;</span></span>
<span class="line"><span style="color:#E1E4E8">  - </span><span style="color:#9ECBFF">&#39;apps/*&#39;</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// root package.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;update-all&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pnpm -r exec pastoralist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="example-4-yarn-workspaces">Example 4: Yarn Workspaces</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;private&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">true</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;workspaces&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;packages&quot;</span><span style="color:#E1E4E8">: [</span><span style="color:#9ECBFF">&quot;packages/*&quot;</span><span style="color:#E1E4E8">]</span></span>
<span class="line"><span style="color:#E1E4E8">  },</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;workspaces:update&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;yarn workspaces foreach run pastoralist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="best-practices">Best Practices</h2>
<h3 id="1-choose-a-consistent-strategy">1. Choose a Consistent Strategy</h3>
<p>Decide whether to:</p>
<ul>
<li>Manage all overrides at the root (recommended for most cases)</li>
<li>Allow package-specific overrides (for complex requirements)</li>
<li>Use a hybrid approach (for gradual migrations)</li>
</ul>
<h3 id="2-automate-with-postinstall">2. Automate with postinstall</h3>
<p>Always add pastoralist to postinstall scripts:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;scripts&quot;</span><span style="color:#E1E4E8">: {</span></span>
<span class="line"><span style="color:#79B8FF">    &quot;postinstall&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;pastoralist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h3 id="3-document-your-strategy">3. Document Your Strategy</h3>
<p>Create a <code>DEPENDENCIES.md</code> file:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="markdown"><code><span class="line"><span style="color:#79B8FF;font-weight:bold"># Dependency Management</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">We use pastoralist to manage overrides. Strategy:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFAB70">1.</span><span style="color:#E1E4E8"> Security patches: Root package.json</span></span>
<span class="line"><span style="color:#FFAB70">2.</span><span style="color:#E1E4E8"> Feature overrides: Package-specific</span></span>
<span class="line"><span style="color:#FFAB70">3.</span><span style="color:#E1E4E8"> Run </span><span style="color:#79B8FF">`npm run update-overrides`</span><span style="color:#E1E4E8"> after changes</span></span></code></pre>
<h3 id="4-cicd-integration">4. CI/CD Integration</h3>
<p>Ensure overrides are valid in CI:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#E1E4E8">- </span><span style="color:#85E89D">name</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">Validate overrides</span></span>
<span class="line"><span style="color:#85E89D">  run</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">|</span></span>
<span class="line"><span style="color:#9ECBFF">    npm run pastoralist:all</span></span>
<span class="line"><span style="color:#9ECBFF">    git diff --exit-code</span></span></code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="issue-overrides-not-applied">Issue: Overrides Not Applied</h3>
<p><strong>Symptom:</strong> Workspace packages don’t respect root overrides</p>
<p><strong>Solution:</strong> Ensure you’re using a package manager that supports workspace overrides:</p>
<ul>
<li>npm 8.3+ ✅</li>
<li>yarn 1.x (use resolutions) ✅</li>
<li>pnpm (use pnpm.overrides) ✅</li>
</ul>
<h3 id="issue-duplicate-appendix-entries">Issue: Duplicate Appendix Entries</h3>
<p><strong>Symptom:</strong> Same override tracked in multiple package.json files</p>
<p><strong>Solution:</strong> This is normal! Each package.json maintains its own appendix for clarity.</p>
<h3 id="issue-performance-in-large-monorepos">Issue: Performance in Large Monorepos</h3>
<p><strong>Symptom:</strong> Pastoralist takes long to run across many packages</p>
<p><strong>Solution:</strong> Run in parallel:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Using GNU parallel</span></span>
<span class="line"><span style="color:#B392F0">find</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> &quot;package.json&quot;</span><span style="color:#79B8FF"> -path</span><span style="color:#9ECBFF"> &quot;*/node_modules&quot;</span><span style="color:#79B8FF"> -prune</span><span style="color:#79B8FF"> -o</span><span style="color:#79B8FF"> -print</span><span style="color:#F97583"> |</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#B392F0">  parallel</span><span style="color:#9ECBFF"> &quot;pastoralist --path {}&quot;</span></span></code></pre>
<h2 id="migration-guide">Migration Guide</h2>
<h3 id="moving-to-centralized-overrides">Moving to Centralized Overrides</h3>
<ol>
<li>Collect all overrides:</li>
</ol>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">find</span><span style="color:#9ECBFF"> .</span><span style="color:#79B8FF"> -name</span><span style="color:#9ECBFF"> &quot;package.json&quot;</span><span style="color:#79B8FF"> -not</span><span style="color:#79B8FF"> -path</span><span style="color:#9ECBFF"> &quot;*/node_modules/*&quot;</span><span style="color:#79B8FF"> \</span></span>
<span class="line"><span style="color:#79B8FF">  -exec</span><span style="color:#9ECBFF"> jq</span><span style="color:#9ECBFF"> &#39;.overrides // {}&#39;</span><span style="color:#9ECBFF"> {}</span><span style="color:#79B8FF"> \;</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> jq</span><span style="color:#79B8FF"> -s</span><span style="color:#9ECBFF"> &#39;add&#39;</span></span></code></pre>
<ol start="2">
<li>Add to root package.json</li>
<li>Remove from individual packages</li>
<li>Run pastoralist at root</li>
</ol>
<h3 id="splitting-overrides">Splitting Overrides</h3>
<ol>
<li>Identify package-specific needs</li>
<li>Move relevant overrides to packages</li>
<li>Run pastoralist on each package</li>
<li>Update CI/CD scripts</li>
</ol>
<h2 id="advanced-patterns">Advanced Patterns</h2>
<h3 id="dynamic-override-detection">Dynamic Override Detection</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">// scripts/check-overrides.js</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#E1E4E8"> { </span><span style="color:#79B8FF">execSync</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#B392F0"> require</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;child_process&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#E1E4E8"> { </span><span style="color:#79B8FF">readdirSync</span><span style="color:#E1E4E8"> } </span><span style="color:#F97583">=</span><span style="color:#B392F0"> require</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;fs&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> packages</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> readdirSync</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;./packages&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">packages.</span><span style="color:#B392F0">forEach</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">pkg</span><span style="color:#F97583"> =&gt;</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  try</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    execSync</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`pastoralist --path packages/${</span><span style="color:#E1E4E8">pkg</span><span style="color:#9ECBFF">}/package.json`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`✅ ${</span><span style="color:#E1E4E8">pkg</span><span style="color:#9ECBFF">}: overrides updated`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  } </span><span style="color:#F97583">catch</span><span style="color:#E1E4E8"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8">    console.</span><span style="color:#B392F0">log</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">`❌ ${</span><span style="color:#E1E4E8">pkg</span><span style="color:#9ECBFF">}: no overrides or error`</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">});</span></span></code></pre>
<h3 id="override-inheritance">Override Inheritance</h3>
<p>Create a base configuration:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#6A737D">// packages/base-config/overrides.json</span></span>
<span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;lodash&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;4.17.21&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">  &quot;minimist&quot;</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">&quot;1.2.8&quot;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>Apply to packages:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#6A737D">// scripts/apply-base-overrides.js</span></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> base</span><span style="color:#F97583"> =</span><span style="color:#B392F0"> require</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">&#39;./packages/base-config/overrides.json&#39;</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#6A737D">// Apply base overrides to each package</span></span></code></pre>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li>Set up pastoralist in your workspace</li>
<li>Choose a management strategy</li>
<li>Add automation scripts</li>
<li>Document your approach for the team</li>
</ul> </section> <div class="divider"></div> <div class="flex gap-7"> <a class="mr-auto flex" href="/pastoralist/docs/security"> <button class="btn rounded-full"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"> <path fill="currentColor" d="M16.707 19.293 9.414 12l7.293-7.293-1.414-1.414L6.586 12l8.707 8.707 1.414-1.414z"></path> </svg> <span class="text-xs md:text-sm font-medium">Security Scanning</span> </button> </a> <a class="ml-auto flex" href="/pastoralist/docs/advanced-features"> <button class="btn rounded-full"> <span class="text-xs md:text-sm font-medium">Advanced Features</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"> <path fill="currentColor" d="M7.293 4.707 14.586 12l-7.293 7.293 1.414 1.414L17.414 12 8.707 3.293 7.293 4.707z"></path> </svg> </button> </a> </div> </article> <div class="hidden lg:block"> <div class="hidden xl:sticky xl:block xl:top-28"><h1 class="mb-4 text-xl font-bold font-outfit">On this page</h1><ul><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#how-pastoralist-works-in-workspaces"> How Pastoralist Works in Workspaces </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#basic-usage"> Basic Usage </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#common-patterns"> Common Patterns </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#integration-strategies"> Integration Strategies </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#real-world-examples"> Real-World Examples </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#best-practices"> Best Practices </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#troubleshooting"> Troubleshooting </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#migration-guide"> Migration Guide </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#advanced-patterns"> Advanced Patterns </a> </li><li class="mb-4"> <a class="text-sm hover:text-primary transition font-outfit" href="#next-steps"> Next Steps </a> </li></ul></div> </div> </div>  </div> </div> <div class="drawer-side z-40 md:border-r md:border-base-content/10"> <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"></label> <aside class="bg-base-100 min-h-screen w-72 sm:w-80"> <div class="bg-base-100 sticky top-0 z-20 items-center gap-2 bg-opacity-90 px-4 py-2 backdrop-blur lg:flex font-outfit"> <a href="/pastoralist" class="btn btn-ghost px-2"> <h1 class="text-2xl font-bold gradient-text">
Pastoralist
</h1> </a> </div> <div class="p-4 pt-8"> <div> <h2 class="mb-4 text-xl font-bold font-outfit"> Getting Started </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/introduction" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Introduction  </a> </li><li> <a href="/pastoralist/docs/setup" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Setup  </a> </li><li> <a href="/pastoralist/docs/demos" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Interactive Demos  </a> </li> </ul> </div><div> <h2 class="mb-4 text-xl font-bold font-outfit"> Features </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/security" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Security Scanning  </a> </li><li> <a href="/pastoralist/docs/workspaces" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition text-[#1D4ED8] bg-[#1D4ED8]/10"> Workspaces &amp; Monorepos  </a> </li><li> <a href="/pastoralist/docs/advanced-features" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Advanced Features  </a> </li> </ul> </div><div> <h2 class="mb-4 text-xl font-bold font-outfit"> Codelabs </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/codelab-basic" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Basic Usage  </a> </li><li> <a href="/pastoralist/docs/codelab-security" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Security Features  </a> </li><li> <a href="/pastoralist/docs/codelab-migration" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Migration Guide  </a> </li> </ul> </div><div> <h2 class="mb-4 text-xl font-bold font-outfit"> Reference </h2> <ul class="menu menu-sm p-0 space-y-1"> <li> <a href="/pastoralist/docs/api-reference" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> API Reference  </a> </li><li> <a href="/pastoralist/docs/architecture" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Architecture  </a> </li><li> <a href="/pastoralist/docs/troubleshooting" class="hover:text-[#1D4ED8] hover:bg-[#1D4ED8]/10 transition "> Troubleshooting &amp; FAQ  </a> </li> </ul> </div> </div> </aside> </div> </div> <footer class="w-full px-4 sm:px-6 md:px-10 xl:px-28 py-6 sm:py-7 border-t border-base-300 flex flex-col gap-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:items-center font-outfit"> <div class="flex items-center justify-center sm:justify-start gap-2 order-3 sm:order-1"> <p class="text-sm sm:text-base text-center sm:text-left">Copyright © 2025 - All rights reserved</p> </div> <div class="flex items-center justify-center gap-2 order-1 sm:order-2"> <img src="/pastoralist/pastoralist-logo.svg" alt="Pastoralist Logo" class="h-12 w-12"> </div> <nav class="flex justify-center sm:justify-end order-2 sm:order-3"> <div class="grid grid-flow-col gap-4"> <a class="btn btn-ghost btn-circle flex items-center justify-center" href="https://github.com/yowainwright/pastoralist" aria-label="GitHub" target="_blank" rel="noopener noreferrer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="h-5 w-5"><path d="M7.999 0C3.582 0 0 3.596 0 8.032a8.031 8.031 0 0 0 5.472 7.621c.4.074.546-.174.546-.387 0-.191-.007-.696-.011-1.366-2.225.485-2.695-1.077-2.695-1.077-.363-.928-.888-1.175-.888-1.175-.727-.498.054-.488.054-.488.803.057 1.225.828 1.225.828.714 1.227 1.873.873 2.329.667.072-.519.279-.873.508-1.074-1.776-.203-3.644-.892-3.644-3.969 0-.877.312-1.594.824-2.156-.083-.203-.357-1.02.078-2.125 0 0 .672-.216 2.2.823a7.633 7.633 0 0 1 2.003-.27 7.65 7.65 0 0 1 2.003.271c1.527-1.039 2.198-.823 2.198-.823.436 1.106.162 1.922.08 2.125.513.562.822 1.279.822 2.156 0 3.085-1.87 3.764-3.652 3.963.287.248.543.738.543 1.487 0 1.074-.01 1.94-.01 2.203 0 .215.144.465.55.386A8.032 8.032 0 0 0 16 8.032C16 3.596 12.418 0 7.999 0z" fill="currentColor"></path> </svg> </a> </div> </nav> </footer> </div> </body></html>